<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
    <title>DOM Diff Test page</title>
    <style>
        .redbg {
            background-color: #ffcfcf;
        }
        .greenbg {
            background-color: #7fff7f;
        }
        .bluebg {
            background-color: #cfcfff;
        }
    </style>
    <script type="text/javascript">
	/* Form Completion handler*/
	function formCompletionHandler(){
console.log('Invoking Log Form Completion with true and true');
DCX.logFormCompletion(true,true);

}
	    
		/* START Inactivity Timeout with Custom Event Handler*/
	/*var counter = 1;
	var loopCount = 6
	function InactivityHandler()
	{
	    console.log('Invoking the InactivityHandler');
		if (counter < loopCount){
			counter++
			window.setTimeout(InactivityHandler, 1000 * 30); // every 30 seconds
		}
	} */
    
   // InactivityHandler();// it will run loopCount times;
	/* END Inactivity Timeout with Custom Event Handler*/
	    var PrivacyTest = {mask: function (value) {return "!@#$%*";}};
	
	    function addDivToBody(){
		  var body = document.getElementsByTagName("body")[0];
		  var div = document.createElement("div");
		  var textnode = document.createTextNode("THIS IS SOME TEXT");         // Create a text node
			div.appendChild(textnode);
			body.appendChild(div);
			
		}
        function addChildInputs() {
            var div,
                targets = ["container_1.target.td", "container_2.target.td"],
                ip;

            targets.forEach(function(id) {
                ip = document.createElement("input");
                ip.type = "text";
                ip.name = id + "_ip";
				ip.setAttribute('class','Privacy');
                div = document.getElementById(id);
                div.appendChild(ip);
				ip.setAttribute('value','My Value');
            });
        }

        function addToTargetDiv(id) {
            var div,
                div2,
                ip,
                txtNode;

            div = document.getElementsByClassName("bluebg")[0];

            div2 = document.createElement("div");
            div.appendChild(div2);

            // Add text inputs
            for (i = 1; i <= 3; i++) {
                div = document.createElement("div");
                div2.appendChild(div);
                ip = document.createElement("input");
                ip.type = "text";
                if (i < 3) {
                    ip.name = "ip-x-" + i;
                }
                if (i === 2) {
                    ip.id = ip.name + "-pwd";
                    ip.type = "password";
                }
                txtNode = document.createTextNode("Input " + i);
                div.appendChild(txtNode);
                div.appendChild(ip);
            }

            // Add radio input
            div = document.createElement("div");
            for (i = 1; i <= 3; i++) {
                ip = document.createElement("input");
                ip.type = "radio";
                ip.name = "ip.radio";
                ip.className = "toggle";
                txtNode = document.createTextNode("Radio " + i + ":");
                div.appendChild(txtNode);
                div.appendChild(ip);
            }
            div2.appendChild(div);

            // Add checkbox input
            div = document.createElement("div");
            for (i = 1; i <= 3; i++) {
                ip = document.createElement("input");
                ip.type = "checkbox";
                ip.name = "ip.checkbox." + i;
                ip.className = "toggle";
                txtNode = document.createTextNode("Checkbox " + i + ":");
                div.appendChild(txtNode);
                div.appendChild(ip);
            }
            div2.appendChild(div);

            // Add textarea
            div = document.createElement("div");
            ip = document.createElement("textarea");
            ip.name = "txtarea.pvt";
            txtNode = document.createTextNode("Textarea:");
            div.appendChild(txtNode);
            div.appendChild(ip);
            div2.appendChild(div);
 
            // Add Select list
            div = document.createElement("div");
            ip = document.createElement("select");
            ip.name = "select.pvt";
			ip.id = "foo_private";
            for (i = 1; i <= 3; i++) {
                opt = document.createElement("option");
                opt.value = "Option " + i;
                opt.text = opt.value;
                ip.add(opt);
            }
            txtNode = document.createTextNode("Select List:");
            div.appendChild(txtNode);
            div.appendChild(ip);
            div2.appendChild(div);
        }

        function removeDiv(id) {
            var div = document.getElementById(id);
            
            if (!div) {
                console.log("removeDiv: Div <" + id + "> not found.");
                return;
            }
        
            document.body.removeChild(div);
            // Update the button label
            btn = document.getElementById("addDivBtn");
            btn.value = "Add Div";            
        }
        
        function toggleAttributes() {
            var i, len,
                elem,
                elems = document.getElementsByClassName("toggle");

            for (i = 0, len = elems.length; i < len; i += 1) {
                elem = elems[i];
                if (elem.style.visibility === "hidden") {
                    elem.style.visibility = "";
                } else {
                    elem.style.visibility = "hidden";
                }
            }
        }
    </script>
    <script type="text/javascript" src="../jquery/jquery-1.8.1.js" ></script>
    <script type="text/javascript" src="../js/DiscoverSDK.js" ></script>
</head>
<body id="test">
    <input type="button" class="domcapture" value="Trigger DOM Snapshot" />
    <input type="button" id="addDivBtn" onclick="setTimeout(addToTargetDiv, 500);" value="Add to Target Div" />
    <input type="button" id="addChildInputsBtn" onclick="setTimeout(addChildInputs, 500);" value="Add nested inputs" />
    <input type="button" id="toggleAttribute" onclick="toggleAttributes();" value="Toggle Attributes" />
	<input type="button" id="addDivToBody" onclick="addDivToBody();return false;" value="Add div to body" />
    <div id="container_1" class="redbg">
        Static div 1
        <table>
            <tr>
                <td>CHECKBOX</td>
                <td><input class="toggle" type="checkbox" name="redBox" id="cb1" value="red" style="height: 13px; width: 13px;"/><label for="cb1">RED</label></td>
                <td><input class="toggle" type="checkbox" name="greenBox" id="cb2" value="green" /><label for="cb2">GREEN</label></td>
                <td><input class="toggle" type="checkbox" name="blueBox" id="cb3" value="blue" /><label for="cb3">BLUE</label></td>
            </tr>
            <tr>
                <td>RADIO</td>
                <td><input type="radio" name="radioButton" id="rb1" value="red" />Red</td>
                <td><input type="radio" name="radioButton" id="rb2" value="green" checked="checked" />Green</td>
                <td><input type="radio" name="radioButton" id="rb3" value="blue"  />Blue</td>
            </tr>
            <tr>
                <td>SELECT LIST</td>
                <td>
                    <select name="selectList" id="abcd" class="toggle">
                        <optgroup label="color">
                            <option label="red">RED</option>
                            <option label="green">GREEN</option>
                            <option label="blue">BLUE</option>
                        </optgroup>
                        <optgroup label="days">
                            <option>Mon</option>
                            <option>Tue</option>
                            <option>Wed</option>
                        </optgroup>
                    </select>
                </td>
            </tr>
            <tr>
                <td>TEXT INPUT</td>
                <td>Regular Text:<br /><input type="text" name="textInput" myattr="ti_pvt" /></td>
                <td>Password:<br /><input type="password" name="passwordInput" id="pi" /></td>
                <td id="container_1.target.td">Dynamic:<br /></td>
            </tr>
        </table>
    </div>
    <div class="bluebg"></div>
    <div id="container_2" class="greenbg">
        Static div 2
        <table>
            <tr>
                <td>CHECKBOX</td>
                <td><input type="checkbox" name="redBox.2" id="cb.2.1" value="red" style="height:13px;width:13px;"/><label for="cb.2.1">RED</label></td>
                <td><input type="checkbox" name="greenBox.2" id="cb.2.2" value="green" /><label for="cb.2.2">GREEN</label></td>
                <td><input type="checkbox" name="blueBox.2" id="cb.2.3" value="blue" /><label for="cb.2.3">BLUE</label></td>
            </tr>
            <tr>
                <td>RADIO</td>
                <td><input type="radio" name="radioBttn.2" id="rb.2.1" value="red" />Red</td>
                <td><input type="radio" name="radioBttn.2" id="rb.2.2" value="green" checked="checked" />Green</td>
                <td><input type="radio" name="radioBttn.2" id="rb.2.3" value="blue"  />Blue</td>
            </tr>
            <tr>
                <td>SELECT LIST</td>
                <td>
                    <select name="selectList.2" myattr="select" >
                        <optgroup label="color">
                            <option label="red">RED</option>
                            <option label="green">GREEN</option>
                            <option label="blue">BLUE</option>
                        </optgroup>
                        <optgroup label="days">
                            <option>Mon</option>
                            <option>Tue</option>
                            <option>Wed</option>
                        </optgroup>
                    </select>
                </td>
            </tr>
            <tr>
                <td>TEXT INPUT</td>
                <td>Regular Text:<br /><input type="text" name="textInput.2" id="ti.2" /></td>
                <td>Password:<br /><input type="password" name="passwordInput.2" id="pi.2" /></td>
                <td id="container_2.target.td">Dynamic:<br /></td>
            </tr>
        </table>
    </div>
	
	Same domain test iframe :-
	</br>
	<iframe  id="iframe" name="iframe" src="iframe.html" width="60%" height="350px" scrolling="yes" frameborder="1"> </iframe>
     </br>
	 
	 Custom event test :-
	</br>
	<iframe  id="CustomEvent" name="CustomEvent" src="CustomEvent.html" width="60%" height="350px" scrolling="yes" frameborder="1"> </iframe>
     </br>
	
	Nested Duplicate Id's and Xpath
	<div id='test'><span id='test'> Hover Here</span></div>
	<hr/>
	
	<p>To Test Message type 15 </p>
	
	<form action="/action_page.php">
  First name:<br>
  <input type="text" name="firstname" value="Mickey">
  <br>
  Last name:<br>
  <input type="text" name="lastname" value="Mouse">
  <br><br>
  <input type="submit" value="Submit">
  <input type="submit" onclick="formCompletionHandler();return false;" value="Explicit Call" />
</form> 

<p>If you click the "Submit" button, the form-data will be sent to a page called "/action_page.php".</p>

	
	
	
</body>
</html>