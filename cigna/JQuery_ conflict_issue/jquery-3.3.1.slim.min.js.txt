
/*! jQuery v3.3.1 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseXML,-ajax/script,-ajax/var/location,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-event/ajax,-effects,-effects/Tween,-effects/animatedSelector | (c) JS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";var n=[],r=e.document,i=Object.getPrototypeOf,o=n.slice,a=n.concat,u=n.push,s=n.indexOf,l={},c=l.toString,f=l.hasOwnProperty,d=f.toString,p=d.call(Object),h={},g=function e(t){return"function"==typeof t&&"number"!=typeof t.nodeType},v=function e(t){return null!=t&&t===t.window},y={type:!0,src:!0,noModule:!0};function m(e,t,n){var i,o=(t=t||r).createElement("script");if(o.text=e,n)for(i in y)n[i]&&(o[i]=n[i]);t.head.appendChild(o).parentNode.removeChild(o)}function b(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[c.call(e)]||"object":typeof e}var x="3.3.1 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseXML,-ajax/script,-ajax/var/location,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-event/ajax,-effects,-effects/Tween,-effects/animatedSelector",w=function(e,t){return new w.fn.init(e,t)},C=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;w.fn=w.prototype={jquery:x,constructor:w,length:0,toArray:function(){return o.call(this)},get:function(e){return null==e?o.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return w.each(this,e)},map:function(e){return this.pushStack(w.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:n.sort,splice:n.splice},w.extend=w.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},u=1,s=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[u]||{},u++),"object"==typeof a||g(a)||(a={}),u===s&&(a=this,u--);u<s;u++)if(null!=(e=arguments[u]))for(t in e)n=a[t],a!==(r=e[t])&&(l&&r&&(w.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&w.isPlainObject(n)?n:{},a[t]=w.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},w.extend({expando:"jQuery"+(x+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==c.call(e))&&(!(t=i(e))||"function"==typeof(n=f.call(t,"constructor")&&t.constructor)&&d.call(n)===p)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){m(e)},each:function(e,t){var n,r=0;if(T(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(C,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(T(Object(e))?w.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:s.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,u=!n;o<a;o++)(r=!t(e[o],o))!==u&&i.push(e[o]);return i},map:function(e,t,n){var r,i,o=0,u=[];if(T(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&u.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&u.push(i);return a.apply([],u)},guid:1,support:h}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=n[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});function T(e){var t=!!e&&"length"in e&&e.length,n=b(e);return!g(e)&&!v(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}var E=function(e){var t,n,r,i,o,a,u,s,l,c,f,d,p,h,g,v,y,m,b,x="sizzle"+1*new Date,w=e.document,C=0,T=0,E=ae(),N=ae(),k=ae(),A=function(e,t){return e===t&&(f=!0),0},D={}.hasOwnProperty,S=[],L=S.pop,j=S.push,q=S.push,O=S.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},H="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",I="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",B="\\["+I+"*("+R+")(?:"+I+"*([*^$|!~]?=)"+I+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+I+"*\\]",M=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",W=new RegExp(I+"+","g"),$=new RegExp("^"+I+"+|((?:^|[^\\\\])(?:\\\\.)*)"+I+"+$","g"),F=new RegExp("^"+I+"*,"+I+"*"),z=new RegExp("^"+I+"*([>+~]|"+I+")"+I+"*"),_=new RegExp("="+I+"*([^\\]'\"]*?)"+I+"*\\]","g"),U=new RegExp(M),V=new RegExp("^"+R+"$"),X={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+M),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+I+"*(even|odd|(([+-]|)(\\d*)n|)"+I+"*(?:([+-]|)"+I+"*(\\d+)|))"+I+"*\\)|)","i"),bool:new RegExp("^(?:"+H+")$","i"),needsContext:new RegExp("^"+I+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+I+"*((?:-\\d)?\\d*)"+I+"*\\)|)(?=[^-]|$)","i")},Q=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,G=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,Z=new RegExp("\\\\([\\da-f]{1,6}"+I+"?|("+I+")|.)","ig"),ee=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},re=function(){d()},ie=me(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{q.apply(S=O.call(w.childNodes),w.childNodes),S[w.childNodes.length].nodeType}catch(e){q={apply:S.length?function(e,t){j.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function oe(e,t,r,i){var o,u,l,c,f,h,y,m=t&&t.ownerDocument,C=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==C&&9!==C&&11!==C)return r;if(!i&&((t?t.ownerDocument||t:w)!==p&&d(t),t=t||p,g)){if(11!==C&&(f=K.exec(e)))if(o=f[1]){if(9===C){if(!(l=t.getElementById(o)))return r;if(l.id===o)return r.push(l),r}else if(m&&(l=m.getElementById(o))&&b(t,l)&&l.id===o)return r.push(l),r}else{if(f[2])return q.apply(r,t.getElementsByTagName(e)),r;if((o=f[3])&&n.getElementsByClassName&&t.getElementsByClassName)return q.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!k[e+" "]&&(!v||!v.test(e))){if(1!==C)m=t,y=e;else if("object"!==t.nodeName.toLowerCase()){(c=t.getAttribute("id"))?c=c.replace(te,ne):t.setAttribute("id",c=x),u=(h=a(e)).length;while(u--)h[u]="#"+c+" "+ye(h[u]);y=h.join(","),m=J.test(e)&&ge(t.parentNode)||t}if(y)try{return q.apply(r,m.querySelectorAll(y)),r}catch(e){}finally{c===x&&t.removeAttribute("id")}}}return s(e.replace($,"$1"),t,r,i)}function ae(){var e=[];function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}return t}function ue(e){return e[x]=!0,e}function se(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function le(e,t){var n=e.split("|"),i=n.length;while(i--)r.attrHandle[n[i]]=t}function ce(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function fe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function de(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function pe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ie(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function he(e){return ue(function(t){return t=+t,ue(function(n,r){var i,o=e([],n.length,t),a=o.length;while(a--)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function ge(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}n=oe.support={},o=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},d=oe.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:w;return a!==p&&9===a.nodeType&&a.documentElement?(p=a,h=p.documentElement,g=!o(p),w!==p&&(i=p.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",re,!1):i.attachEvent&&i.attachEvent("onunload",re)),n.attributes=se(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=se(function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=G.test(p.getElementsByClassName),n.getById=se(function(e){return h.appendChild(e).id=x,!p.getElementsByName||!p.getElementsByName(x).length}),n.getById?(r.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&g){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&g)return t.getElementsByClassName(e)},y=[],v=[],(n.qsa=G.test(p.querySelectorAll))&&(se(function(e){h.appendChild(e).innerHTML="<a id='"+x+"'></a><select id='"+x+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+I+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+I+"*(?:value|"+H+")"),e.querySelectorAll("[id~="+x+"-]").length||v.push("~="),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+x+"+*").length||v.push(".#.+[+~]")}),se(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+I+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(n.matchesSelector=G.test(m=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&se(function(e){n.disconnectedMatch=m.call(e,"*"),m.call(e,"[s!='']:x"),y.push("!=",M)}),v=v.length&&new RegExp(v.join("|")),y=y.length&&new RegExp(y.join("|")),t=G.test(h.compareDocumentPosition),b=t||G.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},A=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===p||e.ownerDocument===w&&b(w,e)?-1:t===p||t.ownerDocument===w&&b(w,t)?1:c?P(c,e)-P(c,t):0:4&r?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],u=[t];if(!i||!o)return e===p?-1:t===p?1:i?-1:o?1:c?P(c,e)-P(c,t):0;if(i===o)return ce(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)u.unshift(n);while(a[r]===u[r])r++;return r?ce(a[r],u[r]):a[r]===w?-1:u[r]===w?1:0},p):p},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&d(e),t=t.replace(_,"='$1']"),n.matchesSelector&&g&&!k[t+" "]&&(!y||!y.test(t))&&(!v||!v.test(t)))try{var r=m.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return oe(t,p,null,[e]).length>0},oe.contains=function(e,t){return(e.ownerDocument||e)!==p&&d(e),b(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==p&&d(e);var i=r.attrHandle[t.toLowerCase()],o=i&&D.call(r.attrHandle,t.toLowerCase())?i(e,t,!g):void 0;return void 0!==o?o:n.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},oe.escape=function(e){return(e+"").replace(te,ne)},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,r=[],i=0,o=0;if(f=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(A),f){while(t=e[o++])t===e[o]&&(i=r.push(o));while(i--)e.splice(r[i],1)}return c=null,e},i=oe.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else while(t=e[r++])n+=i(t);return n},(r=oe.selectors={cacheLength:50,createPseudo:ue,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Z,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(Z,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&U.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Z,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|"+I+")"+e+"("+I+"|$)"))&&E(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=oe.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(W," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),u="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,s){var l,c,f,d,p,h,g=o!==a?"nextSibling":"previousSibling",v=t.parentNode,y=u&&t.nodeName.toLowerCase(),m=!s&&!u,b=!1;if(v){if(o){while(g){d=t;while(d=d[g])if(u?d.nodeName.toLowerCase()===y:1===d.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?v.firstChild:v.lastChild],a&&m){b=(p=(l=(c=(f=(d=v)[x]||(d[x]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]||[])[0]===C&&l[1])&&l[2],d=p&&v.childNodes[p];while(d=++p&&d&&d[g]||(b=p=0)||h.pop())if(1===d.nodeType&&++b&&d===t){c[e]=[C,p,b];break}}else if(m&&(b=p=(l=(c=(f=(d=t)[x]||(d[x]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]||[])[0]===C&&l[1]),!1===b)while(d=++p&&d&&d[g]||(b=p=0)||h.pop())if((u?d.nodeName.toLowerCase()===y:1===d.nodeType)&&++b&&(m&&((c=(f=d[x]||(d[x]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]=[C,b]),d===t))break;return(b-=i)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return i[x]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ue(function(e,n){var r,o=i(e,t),a=o.length;while(a--)e[r=P(e,o[a])]=!(n[r]=o[a])}):function(e){return i(e,0,n)}):i}},pseudos:{not:ue(function(e){var t=[],n=[],r=u(e.replace($,"$1"));return r[x]?ue(function(e,t,n,i){var o,a=r(e,null,i,[]),u=e.length;while(u--)(o=a[u])&&(e[u]=!(t[u]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:ue(function(e){return function(t){return oe(e,t).length>0}}),contains:ue(function(e){return e=e.replace(Z,ee),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:ue(function(e){return V.test(e||"")||oe.error("unsupported lang: "+e),e=e.replace(Z,ee).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:pe(!1),disabled:pe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return Y.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:he(function(){return[0]}),last:he(function(e,t){return[t-1]}),eq:he(function(e,t,n){return[n<0?n+t:n]}),even:he(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:he(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:he(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:he(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=fe(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=de(t);function ve(){}ve.prototype=r.filters=r.pseudos,r.setFilters=new ve,a=oe.tokenize=function(e,t){var n,i,o,a,u,s,l,c=N[e+" "];if(c)return t?0:c.slice(0);u=e,s=[],l=r.preFilter;while(u){n&&!(i=F.exec(u))||(i&&(u=u.slice(i[0].length)||u),s.push(o=[])),n=!1,(i=z.exec(u))&&(n=i.shift(),o.push({value:n,type:i[0].replace($," ")}),u=u.slice(n.length));for(a in r.filter)!(i=X[a].exec(u))||l[a]&&!(i=l[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),u=u.slice(n.length));if(!n)break}return t?u.length:u?oe.error(e):N(e,s).slice(0)};function ye(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function me(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,u=T++;return t.first?function(t,n,i){while(t=t[r])if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,s){var l,c,f,d=[C,u];if(s){while(t=t[r])if((1===t.nodeType||a)&&e(t,n,s))return!0}else while(t=t[r])if(1===t.nodeType||a)if(f=t[x]||(t[x]={}),c=f[t.uniqueID]||(f[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((l=c[o])&&l[0]===C&&l[1]===u)return d[2]=l[2];if(c[o]=d,d[2]=e(t,n,s))return!0}return!1}}function be(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function xe(e,t,n){for(var r=0,i=t.length;r<i;r++)oe(e,t[r],n);return n}function we(e,t,n,r,i){for(var o,a=[],u=0,s=e.length,l=null!=t;u<s;u++)(o=e[u])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(u)));return a}function Ce(e,t,n,r,i,o){return r&&!r[x]&&(r=Ce(r)),i&&!i[x]&&(i=Ce(i,o)),ue(function(o,a,u,s){var l,c,f,d=[],p=[],h=a.length,g=o||xe(t||"*",u.nodeType?[u]:u,[]),v=!e||!o&&t?g:we(g,d,e,u,s),y=n?i||(o?e:h||r)?[]:a:v;if(n&&n(v,y,u,s),r){l=we(y,p),r(l,[],u,s),c=l.length;while(c--)(f=l[c])&&(y[p[c]]=!(v[p[c]]=f))}if(o){if(i||e){if(i){l=[],c=y.length;while(c--)(f=y[c])&&l.push(v[c]=f);i(null,y=[],l,s)}c=y.length;while(c--)(f=y[c])&&(l=i?P(o,f):d[c])>-1&&(o[l]=!(a[l]=f))}}else y=we(y===a?y.splice(h,y.length):y),i?i(null,a,y,s):q.apply(a,y)})}function Te(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],u=a||r.relative[" "],s=a?1:0,c=me(function(e){return e===t},u,!0),f=me(function(e){return P(t,e)>-1},u,!0),d=[function(e,n,r){var i=!a&&(r||n!==l)||((t=n).nodeType?c(e,n,r):f(e,n,r));return t=null,i}];s<o;s++)if(n=r.relative[e[s].type])d=[me(be(d),n)];else{if((n=r.filter[e[s].type].apply(null,e[s].matches))[x]){for(i=++s;i<o;i++)if(r.relative[e[i].type])break;return Ce(s>1&&be(d),s>1&&ye(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace($,"$1"),n,s<i&&Te(e.slice(s,i)),i<o&&Te(e=e.slice(i)),i<o&&ye(e))}d.push(n)}return be(d)}function Ee(e,t){var n=t.length>0,i=e.length>0,o=function(o,a,u,s,c){var f,h,v,y=0,m="0",b=o&&[],x=[],w=l,T=o||i&&r.find.TAG("*",c),E=C+=null==w?1:Math.random()||.1,N=T.length;for(c&&(l=a===p||a||c);m!==N&&null!=(f=T[m]);m++){if(i&&f){h=0,a||f.ownerDocument===p||(d(f),u=!g);while(v=e[h++])if(v(f,a||p,u)){s.push(f);break}c&&(C=E)}n&&((f=!v&&f)&&y--,o&&b.push(f))}if(y+=m,n&&m!==y){h=0;while(v=t[h++])v(b,x,a,u);if(o){if(y>0)while(m--)b[m]||x[m]||(x[m]=L.call(s));x=we(x)}q.apply(s,x),c&&!o&&x.length>0&&y+t.length>1&&oe.uniqueSort(s)}return c&&(C=E,l=w),b};return n?ue(o):o}return u=oe.compile=function(e,t){var n,r=[],i=[],o=k[e+" "];if(!o){t||(t=a(e)),n=t.length;while(n--)(o=Te(t[n]))[x]?r.push(o):i.push(o);(o=k(e,Ee(i,r))).selector=e}return o},s=oe.select=function(e,t,n,i){var o,s,l,c,f,d="function"==typeof e&&e,p=!i&&a(e=d.selector||e);if(n=n||[],1===p.length){if((s=p[0]=p[0].slice(0)).length>2&&"ID"===(l=s[0]).type&&9===t.nodeType&&g&&r.relative[s[1].type]){if(!(t=(r.find.ID(l.matches[0].replace(Z,ee),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(s.shift().value.length)}o=X.needsContext.test(e)?0:s.length;while(o--){if(l=s[o],r.relative[c=l.type])break;if((f=r.find[c])&&(i=f(l.matches[0].replace(Z,ee),J.test(s[0].type)&&ge(t.parentNode)||t))){if(s.splice(o,1),!(e=i.length&&ye(s)))return q.apply(n,i),n;break}}}return(d||u(e,p))(i,t,!g,n,!t||J.test(e)&&ge(t.parentNode)||t),n},n.sortStable=x.split("").sort(A).join("")===x,n.detectDuplicates=!!f,d(),n.sortDetached=se(function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))}),se(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||le("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&se(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||le("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),se(function(e){return null==e.getAttribute("disabled")})||le(H,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),oe}(e);w.find=E,w.expr=E.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=E.uniqueSort,w.text=E.getText,w.isXMLDoc=E.isXML,w.contains=E.contains,w.escapeSelector=E.escape;var N=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&w(e).is(n))break;r.push(e)}return r},k=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},A=w.expr.match.needsContext;function D(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var S=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function L(e,t,n){return g(t)?w.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?w.grep(e,function(e){return e===t!==n}):"string"!=typeof t?w.grep(e,function(e){return s.call(t,e)>-1!==n}):w.filter(t,e,n)}w.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?w.find.matchesSelector(r,e)?[r]:[]:w.find.matches(e,w.grep(t,function(e){return 1===e.nodeType}))},w.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(w(e).filter(function(){for(t=0;t<r;t++)if(w.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)w.find(e,i[t],n);return r>1?w.uniqueSort(n):n},filter:function(e){return this.pushStack(L(this,e||[],!1))},not:function(e){return this.pushStack(L(this,e||[],!0))},is:function(e){return!!L(this,"string"==typeof e&&A.test(e)?w(e):e||[],!1).length}});var j,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(e,t,n){var i,o;if(!e)return this;if(n=n||j,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:q.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof w?t[0]:t,w.merge(this,w.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:r,!0)),S.test(i[1])&&w.isPlainObject(t))for(i in t)g(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(o=r.getElementById(i[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):g(e)?void 0!==n.ready?n.ready(e):e(w):w.makeArray(e,this)}).prototype=w.fn,j=w(r);var O=/^(?:parents|prev(?:Until|All))/,P={children:!0,contents:!0,next:!0,prev:!0};w.fn.extend({has:function(e){var t=w(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(w.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&w(e);if(!A.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&w.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?w.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?s.call(w(e),this[0]):s.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}});function H(e,t){while((e=e[t])&&1!==e.nodeType);return e}w.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return N(e,"parentNode")},parentsUntil:function(e,t,n){return N(e,"parentNode",n)},next:function(e){return H(e,"nextSibling")},prev:function(e){return H(e,"previousSibling")},nextAll:function(e){return N(e,"nextSibling")},prevAll:function(e){return N(e,"previousSibling")},nextUntil:function(e,t,n){return N(e,"nextSibling",n)},prevUntil:function(e,t,n){return N(e,"previousSibling",n)},siblings:function(e){return k((e.parentNode||{}).firstChild,e)},children:function(e){return k(e.firstChild)},contents:function(e){return D(e,"iframe")?e.contentDocument:(D(e,"template")&&(e=e.content||e),w.merge([],e.childNodes))}},function(e,t){w.fn[e]=function(n,r){var i=w.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=w.filter(r,i)),this.length>1&&(P[e]||w.uniqueSort(i),O.test(e)&&i.reverse()),this.pushStack(i)}});var I=/[^\x20\t\r\n\f]+/g;function R(e){var t={};return w.each(e.match(I)||[],function(e,n){t[n]=!0}),t}w.Callbacks=function(e){e="string"==typeof e?R(e):w.extend({},e);var t,n,r,i,o=[],a=[],u=-1,s=function(){for(i=i||e.once,r=t=!0;a.length;u=-1){n=a.shift();while(++u<o.length)!1===o[u].apply(n[0],n[1])&&e.stopOnFalse&&(u=o.length,n=!1)}e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!t&&(u=o.length-1,a.push(n)),function t(n){w.each(n,function(n,r){g(r)?e.unique&&l.has(r)||o.push(r):r&&r.length&&"string"!==b(r)&&t(r)})}(arguments),n&&!t&&s()),this},remove:function(){return w.each(arguments,function(e,t){var n;while((n=w.inArray(t,o,n))>-1)o.splice(n,1),n<=u&&u--}),this},has:function(e){return e?w.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||s()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l};function B(e){return e}function M(e){throw e}function W(e,t,n,r){var i;try{e&&g(i=e.promise)?i.call(e).done(t).fail(n):e&&g(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}w.extend({Deferred:function(t){var n=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},"catch":function(e){return i.then(null,e)},pipe:function(){var e=arguments;return w.Deferred(function(t){w.each(n,function(n,r){var i=g(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&g(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){var o=0;function a(t,n,r,i){return function(){var u=this,s=arguments,l=function(){var e,l;if(!(t<o)){if((e=r.apply(u,s))===n.promise())throw new TypeError("Thenable self-resolution");l=e&&("object"==typeof e||"function"==typeof e)&&e.then,g(l)?i?l.call(e,a(o,n,B,i),a(o,n,M,i)):(o++,l.call(e,a(o,n,B,i),a(o,n,M,i),a(o,n,B,n.notifyWith))):(r!==B&&(u=void 0,s=[e]),(i||n.resolveWith)(u,s))}},c=i?l:function(){try{l()}catch(e){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(e,c.stackTrace),t+1>=o&&(r!==M&&(u=void 0,s=[e]),n.rejectWith(u,s))}};t?c():(w.Deferred.getStackHook&&(c.stackTrace=w.Deferred.getStackHook()),e.setTimeout(c))}}return w.Deferred(function(e){n[0][3].add(a(0,e,g(i)?i:B,e.notifyWith)),n[1][3].add(a(0,e,g(t)?t:B)),n[2][3].add(a(0,e,g(r)?r:M))}).promise()},promise:function(e){return null!=e?w.extend(e,i):i}},o={};return w.each(n,function(e,t){var a=t[2],u=t[5];i[t[1]]=a.add,u&&a.add(function(){r=u},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=o.call(arguments),a=w.Deferred(),u=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?o.call(arguments):n,--t||a.resolveWith(r,i)}};if(t<=1&&(W(e,a.done(u(n)).resolve,a.reject,!t),"pending"===a.state()||g(i[n]&&i[n].then)))return a.then();while(n--)W(i[n],u(n),a.reject);return a.promise()}});var $=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&$.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},w.readyException=function(t){e.setTimeout(function(){throw t})};var F=w.Deferred();w.fn.ready=function(e){return F.then(e)["catch"](function(e){w.readyException(e)}),this},w.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==e&&--w.readyWait>0||F.resolveWith(r,[w]))}}),w.ready.then=F.then;function z(){r.removeEventListener("DOMContentLoaded",z),e.removeEventListener("load",z),w.ready()}"complete"===r.readyState||"loading"!==r.readyState&&!r.documentElement.doScroll?e.setTimeout(w.ready):(r.addEventListener("DOMContentLoaded",z),e.addEventListener("load",z));var _=function(e,t,n,r,i,o,a){var u=0,s=e.length,l=null==n;if("object"===b(n)){i=!0;for(u in n)_(e,t,u,n[u],!0,o,a)}else if(void 0!==r&&(i=!0,g(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(w(e),n)})),t))for(;u<s;u++)t(e[u],n,a?r:r.call(e[u],u,t(e[u],n)));return i?e:l?t.call(e):s?t(e[0],n):o},U=/^-ms-/,V=/-([a-z])/g;function X(e,t){return t.toUpperCase()}function Q(e){return e.replace(U,"ms-").replace(V,X)}var Y=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function G(){this.expando=w.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Y(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[Q(t)]=n;else for(r in t)i[Q(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][Q(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(Q):(t=Q(t))in r?[t]:t.match(I)||[]).length;while(n--)delete r[t[n]]}(void 0===t||w.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!w.isEmptyObject(t)}};var K=new G,J=new G,Z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ee=/[A-Z]/g;function te(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Z.test(e)?JSON.parse(e):e)}function ne(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ee,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=te(n)}catch(e){}J.set(e,t,n)}else n=void 0;return n}w.extend({hasData:function(e){return J.hasData(e)||K.hasData(e)},data:function(e,t,n){return J.access(e,t,n)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,n){return K.access(e,t,n)},_removeData:function(e,t){K.remove(e,t)}}),w.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=J.get(o),1===o.nodeType&&!K.get(o,"hasDataAttrs"))){n=a.length;while(n--)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=Q(r.slice(5)),ne(o,r,i[r]));K.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){J.set(this,e)}):_(this,function(t){var n;if(o&&void 0===t){if(void 0!==(n=J.get(o,e)))return n;if(void 0!==(n=ne(o,e)))return n}else this.each(function(){J.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){J.remove(this,e)})}}),w.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=K.get(e,t),n&&(!r||Array.isArray(n)?r=K.access(e,t,w.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=w.queue(e,t),r=n.length,i=n.shift(),o=w._queueHooks(e,t),a=function(){w.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return K.get(e,n)||K.access(e,n,{empty:w.Callbacks("once memory").add(function(){K.remove(e,[t+"queue",n])})})}}),w.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?w.queue(this[0],e):void 0===t?this:this.each(function(){var n=w.queue(this,e,t);w._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&w.dequeue(this,e)})},dequeue:function(e){return this.each(function(){w.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=w.Deferred(),o=this,a=this.length,u=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=K.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(u));return u(),i.promise(t)}});var re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ie=new RegExp("^(?:([+-])=|)("+re+")([a-z%]*)$","i"),oe=["Top","Right","Bottom","Left"],ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&w.contains(e.ownerDocument,e)&&"none"===w.css(e,"display")},ue=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};function se(e,t,n,r){var i,o,a=20,u=r?function(){return r.cur()}:function(){return w.css(e,t,"")},s=u(),l=n&&n[3]||(w.cssNumber[t]?"":"px"),c=(w.cssNumber[t]||"px"!==l&&+s)&&ie.exec(w.css(e,t));if(c&&c[3]!==l){s/=2,l=l||c[3],c=+s||1;while(a--)w.style(e,t,c+l),(1-o)*(1-(o=u()/s||.5))<=0&&(a=0),c/=o;c*=2,w.style(e,t,c+l),n=n||[]}return n&&(c=+c||+s||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var le={};function ce(e){var t,n=e.ownerDocument,r=e.nodeName,i=le[r];return i||(t=n.body.appendChild(n.createElement(r)),i=w.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),le[r]=i,i)}function fe(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=K.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&ae(r)&&(i[o]=ce(r))):"none"!==n&&(i[o]="none",K.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}w.fn.extend({show:function(){return fe(this,!0)},hide:function(){return fe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?w(this).show():w(this).hide()})}});var de=/^(?:checkbox|radio)$/i,pe=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,he=/^$|^module$|\/(?:java|ecma)script/i,ge={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ge.optgroup=ge.option,ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td;function ve(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&D(e,t)?w.merge([e],n):n}function ye(e,t){for(var n=0,r=e.length;n<r;n++)K.set(e[n],"globalEval",!t||K.get(t[n],"globalEval"))}var me=/<|&#?\w+;/;function be(e,t,n,r,i){for(var o,a,u,s,l,c,f=t.createDocumentFragment(),d=[],p=0,h=e.length;p<h;p++)if((o=e[p])||0===o)if("object"===b(o))w.merge(d,o.nodeType?[o]:o);else if(me.test(o)){a=a||f.appendChild(t.createElement("div")),u=(pe.exec(o)||["",""])[1].toLowerCase(),s=ge[u]||ge._default,a.innerHTML=s[1]+w.htmlPrefilter(o)+s[2],c=s[0];while(c--)a=a.lastChild;w.merge(d,a.childNodes),(a=f.firstChild).textContent=""}else d.push(t.createTextNode(o));f.textContent="",p=0;while(o=d[p++])if(r&&w.inArray(o,r)>-1)i&&i.push(o);else if(l=w.contains(o.ownerDocument,o),a=ve(f.appendChild(o),"script"),l&&ye(a),n){c=0;while(o=a[c++])he.test(o.type||"")&&n.push(o)}return f}!function(){var e=r.createDocumentFragment().appendChild(r.createElement("div")),t=r.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),h.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",h.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var xe=r.documentElement,we=/^key/,Ce=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Te=/^([^.]*)(?:\.(.+)|)/;function Ee(){return!0}function Ne(){return!1}function ke(){try{return r.activeElement}catch(e){}}function Ae(e,t,n,r,i,o){var a,u;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(u in t)Ae(e,u,n,r,t[u],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Ne;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return w().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=w.guid++)),e.each(function(){w.event.add(this,t,i,r,n)})}w.event={global:{},add:function(e,t,n,r,i){var o,a,u,s,l,c,f,d,p,h,g,v=K.get(e);if(v){n.handler&&(n=(o=n).handler,i=o.selector),i&&w.find.matchesSelector(xe,i),n.guid||(n.guid=w.guid++),(s=v.events)||(s=v.events={}),(a=v.handle)||(a=v.handle=function(t){return"undefined"!=typeof w&&w.event.triggered!==t.type?w.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(I)||[""]).length;while(l--)p=g=(u=Te.exec(t[l])||[])[1],h=(u[2]||"").split(".").sort(),p&&(f=w.event.special[p]||{},p=(i?f.delegateType:f.bindType)||p,f=w.event.special[p]||{},c=w.extend({type:p,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&w.expr.match.needsContext.test(i),namespace:h.join(".")},o),(d=s[p])||((d=s[p]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(p,a)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,c):d.push(c),w.event.global[p]=!0)}},remove:function(e,t,n,r,i){var o,a,u,s,l,c,f,d,p,h,g,v=K.hasData(e)&&K.get(e);if(v&&(s=v.events)){l=(t=(t||"").match(I)||[""]).length;while(l--)if(u=Te.exec(t[l])||[],p=g=u[1],h=(u[2]||"").split(".").sort(),p){f=w.event.special[p]||{},d=s[p=(r?f.delegateType:f.bindType)||p]||[],u=u[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;while(o--)c=d[o],!i&&g!==c.origType||n&&n.guid!==c.guid||u&&!u.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,f.remove&&f.remove.call(e,c));a&&!d.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||w.removeEvent(e,p,v.handle),delete s[p])}else for(p in s)w.event.remove(e,p+t[l],n,r,!0);w.isEmptyObject(s)&&K.remove(e,"handle events")}},dispatch:function(e){var t=w.event.fix(e),n,r,i,o,a,u,s=new Array(arguments.length),l=(K.get(this,"events")||{})[t.type]||[],c=w.event.special[t.type]||{};for(s[0]=t,n=1;n<arguments.length;n++)s[n]=arguments[n];if(t.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,t)){u=w.event.handlers.call(this,t,l),n=0;while((o=u[n++])&&!t.isPropagationStopped()){t.currentTarget=o.elem,r=0;while((a=o.handlers[r++])&&!t.isImmediatePropagationStopped())t.rnamespace&&!t.rnamespace.test(a.namespace)||(t.handleObj=a,t.data=a.data,void 0!==(i=((w.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,s))&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(e,t){var n,r,i,o,a,u=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<s;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?w(i,this).index(l)>-1:w.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&u.push({elem:l,handlers:o})}return l=this,s<t.length&&u.push({elem:l,handlers:t.slice(s)}),u},addProp:function(e,t){Object.defineProperty(w.Event.prototype,e,{enumerable:!0,configurable:!0,get:g(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[w.expando]?e:new w.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ke()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===ke()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&D(this,"input"))return this.click(),!1},_default:function(e){return D(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},w.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ee:Ne,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:Ne,isPropagationStopped:Ne,isImmediatePropagationStopped:Ne,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ee,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ee,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ee,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&we.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ce.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},w.event.addProp),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||w.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),w.fn.extend({on:function(e,t,n,r){return Ae(this,e,t,n,r)},one:function(e,t,n,r){return Ae(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,w(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ne),this.each(function(){w.event.remove(this,e,n,t)})}});var De=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Se=/<script|<style|<link/i,Le=/checked\s*(?:[^=]|=\s*.checked.)/i,je=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function qe(e,t){return D(e,"table")&&D(11!==t.nodeType?t:t.firstChild,"tr")?w(e).children("tbody")[0]||e:e}function Oe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Pe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function He(e,t){var n,r,i,o,a,u,s,l;if(1===t.nodeType){if(K.hasData(e)&&(o=K.access(e),a=K.set(t,o),l=o.events)){delete a.handle,a.events={};for(i in l)for(n=0,r=l[i].length;n<r;n++)w.event.add(t,i,l[i][n])}J.hasData(e)&&(u=J.access(e),s=w.extend({},u),J.set(t,s))}}function Ie(e,t){var n=t.nodeName.toLowerCase();"input"===n&&de.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Re(e,t,n,r){t=a.apply([],t);var i,o,u,s,l,c,f=0,d=e.length,p=d-1,v=t[0],y=g(v);if(y||d>1&&"string"==typeof v&&!h.checkClone&&Le.test(v))return e.each(function(i){var o=e.eq(i);y&&(t[0]=v.call(this,i,o.html())),Re(o,t,n,r)});if(d&&(i=be(t,e[0].ownerDocument,!1,e,r),o=i.firstChild,1===i.childNodes.length&&(i=o),o||r)){for(s=(u=w.map(ve(i,"script"),Oe)).length;f<d;f++)l=i,f!==p&&(l=w.clone(l,!0,!0),s&&w.merge(u,ve(l,"script"))),n.call(e[f],l,f);if(s)for(c=u[u.length-1].ownerDocument,w.map(u,Pe),f=0;f<s;f++)l=u[f],he.test(l.type||"")&&!K.access(l,"globalEval")&&w.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?w._evalUrl&&w._evalUrl(l.src):m(l.textContent.replace(je,""),c,l))}return e}function Be(e,t,n){for(var r,i=t?w.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||w.cleanData(ve(r)),r.parentNode&&(n&&w.contains(r.ownerDocument,r)&&ye(ve(r,"script")),r.parentNode.removeChild(r));return e}w.extend({htmlPrefilter:function(e){return e.replace(De,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,u=e.cloneNode(!0),s=w.contains(e.ownerDocument,e);if(!(h.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(a=ve(u),r=0,i=(o=ve(e)).length;r<i;r++)Ie(o[r],a[r]);if(t)if(n)for(o=o||ve(e),a=a||ve(u),r=0,i=o.length;r<i;r++)He(o[r],a[r]);else He(e,u);return(a=ve(u,"script")).length>0&&ye(a,!s&&ve(e,"script")),u},cleanData:function(e){for(var t,n,r,i=w.event.special,o=0;void 0!==(n=e[o]);o++)if(Y(n)){if(t=n[K.expando]){if(t.events)for(r in t.events)i[r]?w.event.remove(n,r):w.removeEvent(n,r,t.handle);n[K.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),w.fn.extend({detach:function(e){return Be(this,e,!0)},remove:function(e){return Be(this,e)},text:function(e){return _(this,function(e){return void 0===e?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Re(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||qe(this,e).appendChild(e)})},prepend:function(){return Re(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=qe(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Re(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Re(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(w.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return w.clone(this,e,t)})},html:function(e){return _(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Se.test(e)&&!ge[(pe.exec(e)||["",""])[1].toLowerCase()]){e=w.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(w.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Re(this,arguments,function(t){var n=this.parentNode;w.inArray(this,e)<0&&(w.cleanData(ve(this)),n&&n.replaceChild(t,this))},e)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){w.fn[e]=function(e){for(var n,r=[],i=w(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),w(i[a])[t](n),u.apply(r,n.get());return this.pushStack(r)}});var Me=new RegExp("^("+re+")(?!px)[a-z%]+$","i"),We=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},$e=new RegExp(oe.join("|"),"i");!function(){function t(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",xe.appendChild(l).appendChild(c);var t=e.getComputedStyle(c);i="1%"!==t.top,s=12===n(t.marginLeft),c.style.right="60%",u=36===n(t.right),o=36===n(t.width),c.style.position="absolute",a=36===c.offsetWidth||"absolute",xe.removeChild(l),c=null}}function n(e){return Math.round(parseFloat(e))}var i,o,a,u,s,l=r.createElement("div"),c=r.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",h.clearCloneStyle="content-box"===c.style.backgroundClip,w.extend(h,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),u},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),s},scrollboxSize:function(){return t(),a}}))}();function Fe(e,t,n){var r,i,o,a,u=e.style;return(n=n||We(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||w.contains(e.ownerDocument,e)||(a=w.style(e,t)),!h.pixelBoxStyles()&&Me.test(a)&&$e.test(t)&&(r=u.width,i=u.minWidth,o=u.maxWidth,u.minWidth=u.maxWidth=u.width=a,a=n.width,u.width=r,u.minWidth=i,u.maxWidth=o)),void 0!==a?a+"":a}function ze(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}var _e=/^(none|table(?!-c[ea]).+)/,Ue=/^--/,Ve={position:"absolute",visibility:"hidden",display:"block"},Xe={letterSpacing:"0",fontWeight:"400"},Qe=["Webkit","Moz","ms"],Ye=r.createElement("div").style;function Ge(e){if(e in Ye)return e;var t=e[0].toUpperCase()+e.slice(1),n=Qe.length;while(n--)if((e=Qe[n]+t)in Ye)return e}function Ke(e){var t=w.cssProps[e];return t||(t=w.cssProps[e]=Ge(e)||e),t}function Je(e,t,n){var r=ie.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Ze(e,t,n,r,i,o){var a="width"===t?1:0,u=0,s=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(s+=w.css(e,n+oe[a],!0,i)),r?("content"===n&&(s-=w.css(e,"padding"+oe[a],!0,i)),"margin"!==n&&(s-=w.css(e,"border"+oe[a]+"Width",!0,i))):(s+=w.css(e,"padding"+oe[a],!0,i),"padding"!==n?s+=w.css(e,"border"+oe[a]+"Width",!0,i):u+=w.css(e,"border"+oe[a]+"Width",!0,i));return!r&&o>=0&&(s+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-s-u-.5))),s}function et(e,t,n){var r=We(e),i=Fe(e,t,r),o="border-box"===w.css(e,"boxSizing",!1,r),a=o;if(Me.test(i)){if(!n)return i;i="auto"}return a=a&&(h.boxSizingReliable()||i===e.style[t]),("auto"===i||!parseFloat(i)&&"inline"===w.css(e,"display",!1,r))&&(i=e["offset"+t[0].toUpperCase()+t.slice(1)],a=!0),(i=parseFloat(i)||0)+Ze(e,t,n||(o?"border":"content"),a,r,i)+"px"}w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Fe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,u=Q(t),s=Ue.test(t),l=e.style;if(s||(t=Ke(u)),a=w.cssHooks[t]||w.cssHooks[u],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"==(o=typeof n)&&(i=ie.exec(n))&&i[1]&&(n=se(e,t,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(w.cssNumber[u]?"":"px")),h.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(s?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,u=Q(t);return Ue.test(t)||(t=Ke(u)),(a=w.cssHooks[t]||w.cssHooks[u])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Fe(e,t,r)),"normal"===i&&t in Xe&&(i=Xe[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),w.each(["height","width"],function(e,t){w.cssHooks[t]={get:function(e,n,r){if(n)return!_e.test(w.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?et(e,t,r):ue(e,Ve,function(){return et(e,t,r)})},set:function(e,n,r){var i,o=We(e),a="border-box"===w.css(e,"boxSizing",!1,o),u=r&&Ze(e,t,r,a,o);return a&&h.scrollboxSize()===o.position&&(u-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-Ze(e,t,"border",!1,o)-.5)),u&&(i=ie.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=w.css(e,t)),Je(e,n,u)}}}),w.cssHooks.marginLeft=ze(h.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Fe(e,"marginLeft"))||e.getBoundingClientRect().left-ue(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(e,t){w.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+oe[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(w.cssHooks[e+t].set=Je)}),w.fn.extend({css:function(e,t){return _(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=We(e),i=t.length;a<i;a++)o[t[a]]=w.css(e,t[a],!1,r);return o}return void 0!==n?w.style(e,t,n):w.css(e,t)},e,t,arguments.length>1)}}),w.fn.delay=function(t,n){return t=w.fx?w.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=r.createElement("input"),t=r.createElement("select").appendChild(r.createElement("option"));e.type="checkbox",h.checkOn=""!==e.value,h.optSelected=t.selected,(e=r.createElement("input")).value="t",e.type="radio",h.radioValue="t"===e.value}();var tt,nt=w.expr.attrHandle;w.fn.extend({attr:function(e,t){return _(this,w.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){w.removeAttr(this,e)})}}),w.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?w.prop(e,t,n):(1===o&&w.isXMLDoc(e)||(i=w.attrHooks[t.toLowerCase()]||(w.expr.match.bool.test(t)?tt:void 0)),void 0!==n?null===n?void w.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=w.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!h.radioValue&&"radio"===t&&D(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(I);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),tt={set:function(e,t,n){return!1===t?w.removeAttr(e,n):e.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),function(e,t){var n=nt[t]||w.find.attr;nt[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=nt[a],nt[a]=i,i=null!=n(e,t,r)?a:null,nt[a]=o),i}});var rt=/^(?:input|select|textarea|button)$/i,it=/^(?:a|area)$/i;w.fn.extend({prop:function(e,t){return _(this,w.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[w.propFix[e]||e]})}}),w.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&w.isXMLDoc(e)||(t=w.propFix[t]||t,i=w.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):rt.test(e.nodeName)||it.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),h.optSelected||(w.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this});function ot(e){return(e.match(I)||[]).join(" ")}function at(e){return e.getAttribute&&e.getAttribute("class")||""}function ut(e){return Array.isArray(e)?e:"string"==typeof e?e.match(I)||[]:[]}w.fn.extend({addClass:function(e){var t,n,r,i,o,a,u,s=0;if(g(e))return this.each(function(t){w(this).addClass(e.call(this,t,at(this)))});if((t=ut(e)).length)while(n=this[s++])if(i=at(n),r=1===n.nodeType&&" "+ot(i)+" "){a=0;while(o=t[a++])r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(u=ot(r))&&n.setAttribute("class",u)}return this},removeClass:function(e){var t,n,r,i,o,a,u,s=0;if(g(e))return this.each(function(t){w(this).removeClass(e.call(this,t,at(this)))});if(!arguments.length)return this.attr("class","");if((t=ut(e)).length)while(n=this[s++])if(i=at(n),r=1===n.nodeType&&" "+ot(i)+" "){a=0;while(o=t[a++])while(r.indexOf(" "+o+" ")>-1)r=r.replace(" "+o+" "," ");i!==(u=ot(r))&&n.setAttribute("class",u)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):g(e)?this.each(function(n){w(this).toggleClass(e.call(this,n,at(this),t),t)}):this.each(function(){var t,i,o,a;if(r){i=0,o=w(this),a=ut(e);while(t=a[i++])o.hasClass(t)?o.removeClass(t):o.addClass(t)}else void 0!==e&&"boolean"!==n||((t=at(this))&&K.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":K.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&(" "+ot(at(n))+" ").indexOf(t)>-1)return!0;return!1}});var st=/\r/g;w.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=g(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,w(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=w.map(i,function(e){return null==e?"":e+""})),(t=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return(t=w.valHooks[i.type]||w.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(st,""):null==n?"":n}}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return null!=t?t:ot(w.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,u=a?null:[],s=a?o+1:i.length;for(r=o<0?s:a?o:0;r<s;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!D(n.parentNode,"optgroup"))){if(t=w(n).val(),a)return t;u.push(t)}return u},set:function(e,t){var n,r,i=e.options,o=w.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=w.inArray(w.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=w.inArray(w(e).val(),t)>-1}},h.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),h.focusin="onfocusin"in e;var lt=/^(?:focusinfocus|focusoutblur)$/,ct=function(e){e.stopPropagation()};w.extend(w.event,{trigger:function(t,n,i,o){var a,u,s,l,c,d,p,h,y=[i||r],m=f.call(t,"type")?t.type:t,b=f.call(t,"namespace")?t.namespace.split("."):[];if(u=h=s=i=i||r,3!==i.nodeType&&8!==i.nodeType&&!lt.test(m+w.event.triggered)&&(m.indexOf(".")>-1&&(m=(b=m.split(".")).shift(),b.sort()),c=m.indexOf(":")<0&&"on"+m,t=t[w.expando]?t:new w.Event(m,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=b.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:w.makeArray(n,[t]),p=w.event.special[m]||{},o||!p.trigger||!1!==p.trigger.apply(i,n))){if(!o&&!p.noBubble&&!v(i)){for(l=p.delegateType||m,lt.test(l+m)||(u=u.parentNode);u;u=u.parentNode)y.push(u),s=u;s===(i.ownerDocument||r)&&y.push(s.defaultView||s.parentWindow||e)}a=0;while((u=y[a++])&&!t.isPropagationStopped())h=u,t.type=a>1?l:p.bindType||m,(d=(K.get(u,"events")||{})[t.type]&&K.get(u,"handle"))&&d.apply(u,n),(d=c&&u[c])&&d.apply&&Y(u)&&(t.result=d.apply(u,n),!1===t.result&&t.preventDefault());return t.type=m,o||t.isDefaultPrevented()||p._default&&!1!==p._default.apply(y.pop(),n)||!Y(i)||c&&g(i[m])&&!v(i)&&((s=i[c])&&(i[c]=null),w.event.triggered=m,t.isPropagationStopped()&&h.addEventListener(m,ct),i[m](),t.isPropagationStopped()&&h.removeEventListener(m,ct),w.event.triggered=void 0,s&&(i[c]=s)),t.result}},simulate:function(e,t,n){var r=w.extend(new w.Event,n,{type:e,isSimulated:!0});w.event.trigger(r,null,t)}}),w.fn.extend({trigger:function(e,t){return this.each(function(){w.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return w.event.trigger(e,t,n,!0)}}),h.focusin||w.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){w.event.simulate(t,e.target,w.event.fix(e))};w.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=K.access(r,t);i||r.addEventListener(e,n,!0),K.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=K.access(r,t)-1;i?K.access(r,t,i):(r.removeEventListener(e,n,!0),K.remove(r,t))}}});var ft=/\[\]$/,dt=/\r?\n/g,pt=/^(?:submit|button|image|reset|file)$/i,ht=/^(?:input|select|textarea|keygen)/i;function gt(e,t,n,r){var i;if(Array.isArray(t))w.each(t,function(t,i){n||ft.test(e)?r(e,i):gt(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==b(t))r(e,t);else for(i in t)gt(e+"["+i+"]",t[i],n,r)}w.param=function(e,t){var n,r=[],i=function(e,t){var n=g(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,function(){i(this.name,this.value)});else for(n in e)gt(n,e[n],t,i);return r.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&ht.test(this.nodeName)&&!pt.test(e)&&(this.checked||!de.test(e))}).map(function(e,t){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,function(e){return{name:t.name,value:e.replace(dt,"\r\n")}}):{name:t.name,value:n.replace(dt,"\r\n")}}).get()}}),w.fn.extend({wrapAll:function(e){var t;return this[0]&&(g(e)&&(e=e.call(this[0])),t=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return g(e)?this.each(function(t){w(this).wrapInner(e.call(this,t))}):this.each(function(){var t=w(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=g(e);return this.each(function(n){w(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(e){return!w.expr.pseudos.visible(e)},w.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},h.createHTMLDocument=function(){var e=r.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),w.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var i,o,a;return t||(h.createHTMLDocument?((i=(t=r.implementation.createHTMLDocument("")).createElement("base")).href=r.location.href,t.head.appendChild(i)):t=r),o=S.exec(e),a=!n&&[],o?[t.createElement(o[1])]:(o=be([e],t,a),a&&a.length&&w(a).remove(),w.merge([],o.childNodes))},w.offset={setOffset:function(e,t,n){var r,i,o,a,u,s,l,c=w.css(e,"position"),f=w(e),d={};"static"===c&&(e.style.position="relative"),u=f.offset(),o=w.css(e,"top"),s=w.css(e,"left"),(l=("absolute"===c||"fixed"===c)&&(o+s).indexOf("auto")>-1)?(a=(r=f.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(s)||0),g(t)&&(t=t.call(e,n,w.extend({},u))),null!=t.top&&(d.top=t.top-u.top+a),null!=t.left&&(d.left=t.left-u.left+i),"using"in t?t.using.call(e,d):f.css(d)}},w.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){w.offset.setOffset(this,e,t)});var t,n,r=this[0];if(r)return r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===w.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===w.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=w(e).offset()).top+=w.css(e,"borderTopWidth",!0),i.left+=w.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-w.css(r,"marginTop",!0),left:t.left-i.left-w.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===w.css(e,"position"))e=e.offsetParent;return e||xe})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;w.fn[e]=function(r){return _(this,function(e,r,i){var o;if(v(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i},e,r,arguments.length)}}),w.each(["top","left"],function(e,t){w.cssHooks[t]=ze(h.pixelPosition,function(e,n){if(n)return n=Fe(e,t),Me.test(n)?w(e).position()[t]+"px":n})}),w.each({Height:"height",Width:"width"},function(e,t){w.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){w.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),u=n||(!0===i||!0===o?"margin":"border");return _(this,function(t,n,i){var o;return v(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?w.css(t,n,u):w.style(t,n,i,u)},t,a?i:void 0,a)}})}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){w.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),w.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),w.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),w.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),g(e))return r=o.call(arguments,2),i=function(){return e.apply(t||this,r.concat(o.call(arguments)))},i.guid=e.guid=e.guid||w.guid++,i},w.holdReady=function(e){e?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=D,w.isFunction=g,w.isWindow=v,w.camelCase=Q,w.type=b,w.now=Date.now,w.isNumeric=function(e){var t=w.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return w});var vt=e.jQuery,yt=e.$;return w.noConflict=function(t){return e.$===w&&(e.$=yt),t&&e.jQuery===w&&(e.jQuery=vt),w},t||(e.jQuery=e.$=w),w});


/* Discover UIC --- Version 12.1.10 - 12/4/2023 */ 
/* pako 1.0.10 nodeca/pako */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).pako=t()}}(function(){return function i(s,h,l){function o(e,t){if(!h[e]){if(!s[e]){var a="function"==typeof require&&require;if(!t&&a)return a(e,!0);if(_)return _(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var r=h[e]={exports:{}};s[e][0].call(r.exports,function(t){return o(s[e][1][t]||t)},r,r.exports,i,s,h,l)}return h[e].exports}for(var _="function"==typeof require&&require,t=0;t<l.length;t++)o(l[t]);return o}({1:[function(t,e,a){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;a.assign=function(t){for(var e,a,n=Array.prototype.slice.call(arguments,1);n.length;){var r=n.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var i in r)e=r,a=i,Object.prototype.hasOwnProperty.call(e,a)&&(t[i]=r[i])}}return t},a.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var r={arraySet:function(t,e,a,n,r){if(e.subarray&&t.subarray)t.set(e.subarray(a,a+n),r);else for(var i=0;i<n;i++)t[r+i]=e[a+i]},flattenChunks:function(t){var e,a,n,r,i,s;for(e=n=0,a=t.length;e<a;e++)n+=t[e].length;for(s=new Uint8Array(n),e=r=0,a=t.length;e<a;e++)i=t[e],s.set(i,r),r+=i.length;return s}},i={arraySet:function(t,e,a,n,r){for(var i=0;i<n;i++)t[r+i]=e[a+i]},flattenChunks:function(t){return[].concat.apply([],t)}};a.setTyped=function(t){t?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,r)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,i))},a.setTyped(n)},{}],2:[function(t,e,a){"use strict";var l=t("./common"),r=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch(t){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){i=!1}for(var o=new l.Buf8(256),n=0;n<256;n++)o[n]=252<=n?6:248<=n?5:240<=n?4:224<=n?3:192<=n?2:1;function _(t,e){if(e<65534&&(t.subarray&&i||!t.subarray&&r))return String.fromCharCode.apply(null,l.shrinkBuf(t,e));for(var a="",n=0;n<e;n++)a+=String.fromCharCode(t[n]);return a}o[254]=o[254]=1,a.string2buf=function(t){var e,a,n,r,i,s=t.length,h=0;for(r=0;r<s;r++)55296==(64512&(a=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(n=t.charCodeAt(r+1)))&&(a=65536+(a-55296<<10)+(n-56320),r++),h+=a<128?1:a<2048?2:a<65536?3:4;for(e=new l.Buf8(h),r=i=0;i<h;r++)55296==(64512&(a=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(n=t.charCodeAt(r+1)))&&(a=65536+(a-55296<<10)+(n-56320),r++),a<128?e[i++]=a:(a<2048?e[i++]=192|a>>>6:(a<65536?e[i++]=224|a>>>12:(e[i++]=240|a>>>18,e[i++]=128|a>>>12&63),e[i++]=128|a>>>6&63),e[i++]=128|63&a);return e},a.buf2binstring=function(t){return _(t,t.length)},a.binstring2buf=function(t){for(var e=new l.Buf8(t.length),a=0,n=e.length;a<n;a++)e[a]=t.charCodeAt(a);return e},a.buf2string=function(t,e){var a,n,r,i,s=e||t.length,h=new Array(2*s);for(a=n=0;a<s;)if((r=t[a++])<128)h[n++]=r;else if(4<(i=o[r]))h[n++]=65533,a+=i-1;else{for(r&=2===i?31:3===i?15:7;1<i&&a<s;)r=r<<6|63&t[a++],i--;1<i?h[n++]=65533:r<65536?h[n++]=r:(r-=65536,h[n++]=55296|r>>10&1023,h[n++]=56320|1023&r)}return _(h,n)},a.utf8border=function(t,e){var a;for((e=e||t.length)>t.length&&(e=t.length),a=e-1;0<=a&&128==(192&t[a]);)a--;return a<0?e:0===a?e:a+o[t[a]]>e?a:e}},{"./common":1}],3:[function(t,e,a){"use strict";e.exports=function(t,e,a,n){for(var r=65535&t|0,i=t>>>16&65535|0,s=0;0!==a;){for(a-=s=2e3<a?2e3:a;i=i+(r=r+e[n++]|0)|0,--s;);r%=65521,i%=65521}return r|i<<16|0}},{}],4:[function(t,e,a){"use strict";var h=function(){for(var t,e=[],a=0;a<256;a++){t=a;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}return e}();e.exports=function(t,e,a,n){var r=h,i=n+a;t^=-1;for(var s=n;s<i;s++)t=t>>>8^r[255&(t^e[s])];return-1^t}},{}],5:[function(t,e,a){"use strict";var l,u=t("../utils/common"),o=t("./trees"),f=t("./adler32"),c=t("./crc32"),n=t("./messages"),_=0,d=4,p=0,g=-2,m=-1,b=4,r=2,v=8,w=9,i=286,s=30,h=19,y=2*i+1,k=15,z=3,x=258,B=x+z+1,A=42,C=113,S=1,j=2,E=3,U=4;function D(t,e){return t.msg=n[e],e}function I(t){return(t<<1)-(4<t?9:0)}function O(t){for(var e=t.length;0<=--e;)t[e]=0}function q(t){var e=t.state,a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(u.arraySet(t.output,e.pending_buf,e.pending_out,a,t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))}function T(t,e){o._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,q(t.strm)}function L(t,e){t.pending_buf[t.pending++]=e}function N(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function R(t,e){var a,n,r=t.max_chain_length,i=t.strstart,s=t.prev_length,h=t.nice_match,l=t.strstart>t.w_size-B?t.strstart-(t.w_size-B):0,o=t.window,_=t.w_mask,d=t.prev,u=t.strstart+x,f=o[i+s-1],c=o[i+s];t.prev_length>=t.good_match&&(r>>=2),h>t.lookahead&&(h=t.lookahead);do{if(o[(a=e)+s]===c&&o[a+s-1]===f&&o[a]===o[i]&&o[++a]===o[i+1]){i+=2,a++;do{}while(o[++i]===o[++a]&&o[++i]===o[++a]&&o[++i]===o[++a]&&o[++i]===o[++a]&&o[++i]===o[++a]&&o[++i]===o[++a]&&o[++i]===o[++a]&&o[++i]===o[++a]&&i<u);if(n=x-(u-i),i=u-x,s<n){if(t.match_start=e,h<=(s=n))break;f=o[i+s-1],c=o[i+s]}}}while((e=d[e&_])>l&&0!=--r);return s<=t.lookahead?s:t.lookahead}function H(t){var e,a,n,r,i,s,h,l,o,_,d=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=d+(d-B)){for(u.arraySet(t.window,t.window,d,d,0),t.match_start-=d,t.strstart-=d,t.block_start-=d,e=a=t.hash_size;n=t.head[--e],t.head[e]=d<=n?n-d:0,--a;);for(e=a=d;n=t.prev[--e],t.prev[e]=d<=n?n-d:0,--a;);r+=d}if(0===t.strm.avail_in)break;if(s=t.strm,h=t.window,l=t.strstart+t.lookahead,o=r,_=void 0,_=s.avail_in,o<_&&(_=o),a=0===_?0:(s.avail_in-=_,u.arraySet(h,s.input,s.next_in,_,l),1===s.state.wrap?s.adler=f(s.adler,h,_,l):2===s.state.wrap&&(s.adler=c(s.adler,h,_,l)),s.next_in+=_,s.total_in+=_,_),t.lookahead+=a,t.lookahead+t.insert>=z)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=(t.ins_h<<t.hash_shift^t.window[i+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[i+z-1])&t.hash_mask,t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<z)););}while(t.lookahead<B&&0!==t.strm.avail_in)}function F(t,e){for(var a,n;;){if(t.lookahead<B){if(H(t),t.lookahead<B&&e===_)return S;if(0===t.lookahead)break}if(a=0,t.lookahead>=z&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+z-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-B&&(t.match_length=R(t,a)),t.match_length>=z)if(n=o._tr_tally(t,t.strstart-t.match_start,t.match_length-z),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=z){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+z-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(T(t,!1),0===t.strm.avail_out))return S}return t.insert=t.strstart<z-1?t.strstart:z-1,e===d?(T(t,!0),0===t.strm.avail_out?E:U):t.last_lit&&(T(t,!1),0===t.strm.avail_out)?S:j}function K(t,e){for(var a,n,r;;){if(t.lookahead<B){if(H(t),t.lookahead<B&&e===_)return S;if(0===t.lookahead)break}if(a=0,t.lookahead>=z&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+z-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=z-1,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-B&&(t.match_length=R(t,a),t.match_length<=5&&(1===t.strategy||t.match_length===z&&4096<t.strstart-t.match_start)&&(t.match_length=z-1)),t.prev_length>=z&&t.match_length<=t.prev_length){for(r=t.strstart+t.lookahead-z,n=o._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-z),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+z-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=z-1,t.strstart++,n&&(T(t,!1),0===t.strm.avail_out))return S}else if(t.match_available){if((n=o._tr_tally(t,0,t.window[t.strstart-1]))&&T(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return S}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=o._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<z-1?t.strstart:z-1,e===d?(T(t,!0),0===t.strm.avail_out?E:U):t.last_lit&&(T(t,!1),0===t.strm.avail_out)?S:j}function M(t,e,a,n,r){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=n,this.func=r}function P(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new u.Buf16(2*y),this.dyn_dtree=new u.Buf16(2*(2*s+1)),this.bl_tree=new u.Buf16(2*(2*h+1)),O(this.dyn_ltree),O(this.dyn_dtree),O(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new u.Buf16(k+1),this.heap=new u.Buf16(2*i+1),O(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new u.Buf16(2*i+1),O(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function G(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=r,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?A:C,t.adler=2===e.wrap?0:1,e.last_flush=_,o._tr_init(e),p):D(t,g)}function J(t){var e,a=G(t);return a===p&&((e=t.state).window_size=2*e.w_size,O(e.head),e.max_lazy_match=l[e.level].max_lazy,e.good_match=l[e.level].good_length,e.nice_match=l[e.level].nice_length,e.max_chain_length=l[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=z-1,e.match_available=0,e.ins_h=0),a}function Q(t,e,a,n,r,i){if(!t)return g;var s=1;if(e===m&&(e=6),n<0?(s=0,n=-n):15<n&&(s=2,n-=16),r<1||w<r||a!==v||n<8||15<n||e<0||9<e||i<0||b<i)return D(t,g);8===n&&(n=9);var h=new P;return(t.state=h).strm=t,h.wrap=s,h.gzhead=null,h.w_bits=n,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=r+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+z-1)/z),h.window=new u.Buf8(2*h.w_size),h.head=new u.Buf16(h.hash_size),h.prev=new u.Buf16(h.w_size),h.lit_bufsize=1<<r+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new u.Buf8(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=e,h.strategy=i,h.method=a,J(t)}l=[new M(0,0,0,0,function(t,e){var a=65535;for(a>t.pending_buf_size-5&&(a=t.pending_buf_size-5);;){if(t.lookahead<=1){if(H(t),0===t.lookahead&&e===_)return S;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+a;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,T(t,!1),0===t.strm.avail_out))return S;if(t.strstart-t.block_start>=t.w_size-B&&(T(t,!1),0===t.strm.avail_out))return S}return t.insert=0,e===d?(T(t,!0),0===t.strm.avail_out?E:U):(t.strstart>t.block_start&&(T(t,!1),t.strm.avail_out),S)}),new M(4,4,8,4,F),new M(4,5,16,8,F),new M(4,6,32,32,F),new M(4,4,16,16,K),new M(8,16,32,32,K),new M(8,16,128,128,K),new M(8,32,128,256,K),new M(32,128,258,1024,K),new M(32,258,258,4096,K)],a.deflateInit=function(t,e){return Q(t,e,v,15,8,0)},a.deflateInit2=Q,a.deflateReset=J,a.deflateResetKeep=G,a.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?g:(t.state.gzhead=e,p):g},a.deflate=function(t,e){var a,n,r,i;if(!t||!t.state||5<e||e<0)return t?D(t,g):g;if(n=t.state,!t.output||!t.input&&0!==t.avail_in||666===n.status&&e!==d)return D(t,0===t.avail_out?-5:g);if(n.strm=t,a=n.last_flush,n.last_flush=e,n.status===A)if(2===n.wrap)t.adler=0,L(n,31),L(n,139),L(n,8),n.gzhead?(L(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),L(n,255&n.gzhead.time),L(n,n.gzhead.time>>8&255),L(n,n.gzhead.time>>16&255),L(n,n.gzhead.time>>24&255),L(n,9===n.level?2:2<=n.strategy||n.level<2?4:0),L(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(L(n,255&n.gzhead.extra.length),L(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=c(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(L(n,0),L(n,0),L(n,0),L(n,0),L(n,0),L(n,9===n.level?2:2<=n.strategy||n.level<2?4:0),L(n,3),n.status=C);else{var s=v+(n.w_bits-8<<4)<<8;s|=(2<=n.strategy||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(s|=32),s+=31-s%31,n.status=C,N(n,s),0!==n.strstart&&(N(n,t.adler>>>16),N(n,65535&t.adler)),t.adler=1}if(69===n.status)if(n.gzhead.extra){for(r=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>r&&(t.adler=c(t.adler,n.pending_buf,n.pending-r,r)),q(t),r=n.pending,n.pending!==n.pending_buf_size));)L(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>r&&(t.adler=c(t.adler,n.pending_buf,n.pending-r,r)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){r=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>r&&(t.adler=c(t.adler,n.pending_buf,n.pending-r,r)),q(t),r=n.pending,n.pending===n.pending_buf_size)){i=1;break}L(n,i=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0)}while(0!==i);n.gzhead.hcrc&&n.pending>r&&(t.adler=c(t.adler,n.pending_buf,n.pending-r,r)),0===i&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){r=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>r&&(t.adler=c(t.adler,n.pending_buf,n.pending-r,r)),q(t),r=n.pending,n.pending===n.pending_buf_size)){i=1;break}L(n,i=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0)}while(0!==i);n.gzhead.hcrc&&n.pending>r&&(t.adler=c(t.adler,n.pending_buf,n.pending-r,r)),0===i&&(n.status=103)}else n.status=103;if(103===n.status&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&q(t),n.pending+2<=n.pending_buf_size&&(L(n,255&t.adler),L(n,t.adler>>8&255),t.adler=0,n.status=C)):n.status=C),0!==n.pending){if(q(t),0===t.avail_out)return n.last_flush=-1,p}else if(0===t.avail_in&&I(e)<=I(a)&&e!==d)return D(t,-5);if(666===n.status&&0!==t.avail_in)return D(t,-5);if(0!==t.avail_in||0!==n.lookahead||e!==_&&666!==n.status){var h=2===n.strategy?function(t,e){for(var a;;){if(0===t.lookahead&&(H(t),0===t.lookahead)){if(e===_)return S;break}if(t.match_length=0,a=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(T(t,!1),0===t.strm.avail_out))return S}return t.insert=0,e===d?(T(t,!0),0===t.strm.avail_out?E:U):t.last_lit&&(T(t,!1),0===t.strm.avail_out)?S:j}(n,e):3===n.strategy?function(t,e){for(var a,n,r,i,s=t.window;;){if(t.lookahead<=x){if(H(t),t.lookahead<=x&&e===_)return S;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=z&&0<t.strstart&&(n=s[r=t.strstart-1])===s[++r]&&n===s[++r]&&n===s[++r]){i=t.strstart+x;do{}while(n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&r<i);t.match_length=x-(i-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=z?(a=o._tr_tally(t,1,t.match_length-z),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(T(t,!1),0===t.strm.avail_out))return S}return t.insert=0,e===d?(T(t,!0),0===t.strm.avail_out?E:U):t.last_lit&&(T(t,!1),0===t.strm.avail_out)?S:j}(n,e):l[n.level].func(n,e);if(h!==E&&h!==U||(n.status=666),h===S||h===E)return 0===t.avail_out&&(n.last_flush=-1),p;if(h===j&&(1===e?o._tr_align(n):5!==e&&(o._tr_stored_block(n,0,0,!1),3===e&&(O(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),q(t),0===t.avail_out))return n.last_flush=-1,p}return e!==d?p:n.wrap<=0?1:(2===n.wrap?(L(n,255&t.adler),L(n,t.adler>>8&255),L(n,t.adler>>16&255),L(n,t.adler>>24&255),L(n,255&t.total_in),L(n,t.total_in>>8&255),L(n,t.total_in>>16&255),L(n,t.total_in>>24&255)):(N(n,t.adler>>>16),N(n,65535&t.adler)),q(t),0<n.wrap&&(n.wrap=-n.wrap),0!==n.pending?p:1)},a.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==A&&69!==e&&73!==e&&91!==e&&103!==e&&e!==C&&666!==e?D(t,g):(t.state=null,e===C?D(t,-3):p):g},a.deflateSetDictionary=function(t,e){var a,n,r,i,s,h,l,o,_=e.length;if(!t||!t.state)return g;if(2===(i=(a=t.state).wrap)||1===i&&a.status!==A||a.lookahead)return g;for(1===i&&(t.adler=f(t.adler,e,_,0)),a.wrap=0,_>=a.w_size&&(0===i&&(O(a.head),a.strstart=0,a.block_start=0,a.insert=0),o=new u.Buf8(a.w_size),u.arraySet(o,e,_-a.w_size,a.w_size,0),e=o,_=a.w_size),s=t.avail_in,h=t.next_in,l=t.input,t.avail_in=_,t.next_in=0,t.input=e,H(a);a.lookahead>=z;){for(n=a.strstart,r=a.lookahead-(z-1);a.ins_h=(a.ins_h<<a.hash_shift^a.window[n+z-1])&a.hash_mask,a.prev[n&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=n,n++,--r;);a.strstart=n,a.lookahead=z-1,H(a)}return a.strstart+=a.lookahead,a.block_start=a.strstart,a.insert=a.lookahead,a.lookahead=0,a.match_length=a.prev_length=z-1,a.match_available=0,t.next_in=h,t.input=l,t.avail_in=s,a.wrap=i,p},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":4,"./messages":6,"./trees":7}],6:[function(t,e,a){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],7:[function(t,e,a){"use strict";var l=t("../utils/common"),h=0,o=1;function n(t){for(var e=t.length;0<=--e;)t[e]=0}var _=0,s=29,d=256,u=d+1+s,f=30,c=19,g=2*u+1,m=15,r=16,p=7,b=256,v=16,w=17,y=18,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],A=new Array(2*(u+2));n(A);var C=new Array(2*f);n(C);var S=new Array(512);n(S);var j=new Array(256);n(j);var E=new Array(s);n(E);var U,D,I,O=new Array(f);function q(t,e,a,n,r){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=n,this.max_length=r,this.has_stree=t&&t.length}function i(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function T(t){return t<256?S[t]:S[256+(t>>>7)]}function L(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function N(t,e,a){t.bi_valid>r-a?(t.bi_buf|=e<<t.bi_valid&65535,L(t,t.bi_buf),t.bi_buf=e>>r-t.bi_valid,t.bi_valid+=a-r):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)}function R(t,e,a){N(t,a[2*e],a[2*e+1])}function H(t,e){for(var a=0;a|=1&t,t>>>=1,a<<=1,0<--e;);return a>>>1}function F(t,e,a){var n,r,i=new Array(m+1),s=0;for(n=1;n<=m;n++)i[n]=s=s+a[n-1]<<1;for(r=0;r<=e;r++){var h=t[2*r+1];0!==h&&(t[2*r]=H(i[h]++,h))}}function K(t){var e;for(e=0;e<u;e++)t.dyn_ltree[2*e]=0;for(e=0;e<f;e++)t.dyn_dtree[2*e]=0;for(e=0;e<c;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*b]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function M(t){8<t.bi_valid?L(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function P(t,e,a,n){var r=2*e,i=2*a;return t[r]<t[i]||t[r]===t[i]&&n[e]<=n[a]}function G(t,e,a){for(var n=t.heap[a],r=a<<1;r<=t.heap_len&&(r<t.heap_len&&P(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!P(e,n,t.heap[r],t.depth));)t.heap[a]=t.heap[r],a=r,r<<=1;t.heap[a]=n}function J(t,e,a){var n,r,i,s,h=0;if(0!==t.last_lit)for(;n=t.pending_buf[t.d_buf+2*h]<<8|t.pending_buf[t.d_buf+2*h+1],r=t.pending_buf[t.l_buf+h],h++,0===n?R(t,r,e):(R(t,(i=j[r])+d+1,e),0!==(s=k[i])&&N(t,r-=E[i],s),R(t,i=T(--n),a),0!==(s=z[i])&&N(t,n-=O[i],s)),h<t.last_lit;);R(t,b,e)}function Q(t,e){var a,n,r,i=e.dyn_tree,s=e.stat_desc.static_tree,h=e.stat_desc.has_stree,l=e.stat_desc.elems,o=-1;for(t.heap_len=0,t.heap_max=g,a=0;a<l;a++)0!==i[2*a]?(t.heap[++t.heap_len]=o=a,t.depth[a]=0):i[2*a+1]=0;for(;t.heap_len<2;)i[2*(r=t.heap[++t.heap_len]=o<2?++o:0)]=1,t.depth[r]=0,t.opt_len--,h&&(t.static_len-=s[2*r+1]);for(e.max_code=o,a=t.heap_len>>1;1<=a;a--)G(t,i,a);for(r=l;a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],G(t,i,1),n=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=n,i[2*r]=i[2*a]+i[2*n],t.depth[r]=(t.depth[a]>=t.depth[n]?t.depth[a]:t.depth[n])+1,i[2*a+1]=i[2*n+1]=r,t.heap[1]=r++,G(t,i,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var a,n,r,i,s,h,l=e.dyn_tree,o=e.max_code,_=e.stat_desc.static_tree,d=e.stat_desc.has_stree,u=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,c=e.stat_desc.max_length,p=0;for(i=0;i<=m;i++)t.bl_count[i]=0;for(l[2*t.heap[t.heap_max]+1]=0,a=t.heap_max+1;a<g;a++)c<(i=l[2*l[2*(n=t.heap[a])+1]+1]+1)&&(i=c,p++),l[2*n+1]=i,o<n||(t.bl_count[i]++,s=0,f<=n&&(s=u[n-f]),h=l[2*n],t.opt_len+=h*(i+s),d&&(t.static_len+=h*(_[2*n+1]+s)));if(0!==p){do{for(i=c-1;0===t.bl_count[i];)i--;t.bl_count[i]--,t.bl_count[i+1]+=2,t.bl_count[c]--,p-=2}while(0<p);for(i=c;0!==i;i--)for(n=t.bl_count[i];0!==n;)o<(r=t.heap[--a])||(l[2*r+1]!==i&&(t.opt_len+=(i-l[2*r+1])*l[2*r],l[2*r+1]=i),n--)}}(t,e),F(i,o,t.bl_count)}function V(t,e,a){var n,r,i=-1,s=e[1],h=0,l=7,o=4;for(0===s&&(l=138,o=3),e[2*(a+1)+1]=65535,n=0;n<=a;n++)r=s,s=e[2*(n+1)+1],++h<l&&r===s||(h<o?t.bl_tree[2*r]+=h:0!==r?(r!==i&&t.bl_tree[2*r]++,t.bl_tree[2*v]++):h<=10?t.bl_tree[2*w]++:t.bl_tree[2*y]++,i=r,(h=0)===s?(l=138,o=3):r===s?(l=6,o=3):(l=7,o=4))}function W(t,e,a){var n,r,i=-1,s=e[1],h=0,l=7,o=4;for(0===s&&(l=138,o=3),n=0;n<=a;n++)if(r=s,s=e[2*(n+1)+1],!(++h<l&&r===s)){if(h<o)for(;R(t,r,t.bl_tree),0!=--h;);else 0!==r?(r!==i&&(R(t,r,t.bl_tree),h--),R(t,v,t.bl_tree),N(t,h-3,2)):h<=10?(R(t,w,t.bl_tree),N(t,h-3,3)):(R(t,y,t.bl_tree),N(t,h-11,7));i=r,(h=0)===s?(l=138,o=3):r===s?(l=6,o=3):(l=7,o=4)}}n(O);var X=!1;function Y(t,e,a,n){var r,i,s,h;N(t,(_<<1)+(n?1:0),3),i=e,s=a,h=!0,M(r=t),h&&(L(r,s),L(r,~s)),l.arraySet(r.pending_buf,r.window,i,s,r.pending),r.pending+=s}a._tr_init=function(t){X||(function(){var t,e,a,n,r,i=new Array(m+1);for(n=a=0;n<s-1;n++)for(E[n]=a,t=0;t<1<<k[n];t++)j[a++]=n;for(j[a-1]=n,n=r=0;n<16;n++)for(O[n]=r,t=0;t<1<<z[n];t++)S[r++]=n;for(r>>=7;n<f;n++)for(O[n]=r<<7,t=0;t<1<<z[n]-7;t++)S[256+r++]=n;for(e=0;e<=m;e++)i[e]=0;for(t=0;t<=143;)A[2*t+1]=8,t++,i[8]++;for(;t<=255;)A[2*t+1]=9,t++,i[9]++;for(;t<=279;)A[2*t+1]=7,t++,i[7]++;for(;t<=287;)A[2*t+1]=8,t++,i[8]++;for(F(A,u+1,i),t=0;t<f;t++)C[2*t+1]=5,C[2*t]=H(t,5);U=new q(A,k,d+1,u,m),D=new q(C,z,0,f,m),I=new q(new Array(0),x,0,c,p)}(),X=!0),t.l_desc=new i(t.dyn_ltree,U),t.d_desc=new i(t.dyn_dtree,D),t.bl_desc=new i(t.bl_tree,I),t.bi_buf=0,t.bi_valid=0,K(t)},a._tr_stored_block=Y,a._tr_flush_block=function(t,e,a,n){var r,i,s=0;0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,a=4093624447;for(e=0;e<=31;e++,a>>>=1)if(1&a&&0!==t.dyn_ltree[2*e])return h;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return o;for(e=32;e<d;e++)if(0!==t.dyn_ltree[2*e])return o;return h}(t)),Q(t,t.l_desc),Q(t,t.d_desc),s=function(t){var e;for(V(t,t.dyn_ltree,t.l_desc.max_code),V(t,t.dyn_dtree,t.d_desc.max_code),Q(t,t.bl_desc),e=c-1;3<=e&&0===t.bl_tree[2*B[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),r=t.opt_len+3+7>>>3,(i=t.static_len+3+7>>>3)<=r&&(r=i)):r=i=a+5,a+4<=r&&-1!==e?Y(t,e,a,n):4===t.strategy||i===r?(N(t,2+(n?1:0),3),J(t,A,C)):(N(t,4+(n?1:0),3),function(t,e,a,n){var r;for(N(t,e-257,5),N(t,a-1,5),N(t,n-4,4),r=0;r<n;r++)N(t,t.bl_tree[2*B[r]+1],3);W(t,t.dyn_ltree,e-1),W(t,t.dyn_dtree,a-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),J(t,t.dyn_ltree,t.dyn_dtree)),K(t),n&&M(t)},a._tr_tally=function(t,e,a){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&a,t.last_lit++,0===e?t.dyn_ltree[2*a]++:(t.matches++,e--,t.dyn_ltree[2*(j[a]+d+1)]++,t.dyn_dtree[2*T(e)]++),t.last_lit===t.lit_bufsize-1},a._tr_align=function(t){var e;N(t,2,3),R(t,b,A),16===(e=t).bi_valid?(L(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}},{"../utils/common":1}],8:[function(t,e,a){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],"/lib/deflate.js":[function(t,e,a){"use strict";var s=t("./zlib/deflate"),h=t("./utils/common"),l=t("./utils/strings"),r=t("./zlib/messages"),i=t("./zlib/zstream"),o=Object.prototype.toString,_=0,d=-1,u=0,f=8;function c(t){if(!(this instanceof c))return new c(t);this.options=h.assign({level:d,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:u,to:""},t||{});var e=this.options;e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new i,this.strm.avail_out=0;var a=s.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(a!==_)throw new Error(r[a]);if(e.header&&s.deflateSetHeader(this.strm,e.header),e.dictionary){var n;if(n="string"==typeof e.dictionary?l.string2buf(e.dictionary):"[object ArrayBuffer]"===o.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(a=s.deflateSetDictionary(this.strm,n))!==_)throw new Error(r[a]);this._dict_set=!0}}function n(t,e){var a=new c(e);if(a.push(t,!0),a.err)throw a.msg||r[a.err];return a.result}c.prototype.push=function(t,e){var a,n,r=this.strm,i=this.options.chunkSize;if(this.ended)return!1;n=e===~~e?e:!0===e?4:0,"string"==typeof t?r.input=l.string2buf(t):"[object ArrayBuffer]"===o.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new h.Buf8(i),r.next_out=0,r.avail_out=i),1!==(a=s.deflate(r,n))&&a!==_)return this.onEnd(a),!(this.ended=!0);0!==r.avail_out&&(0!==r.avail_in||4!==n&&2!==n)||("string"===this.options.to?this.onData(l.buf2binstring(h.shrinkBuf(r.output,r.next_out))):this.onData(h.shrinkBuf(r.output,r.next_out)))}while((0<r.avail_in||0===r.avail_out)&&1!==a);return 4===n?(a=s.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===_):2!==n||(this.onEnd(_),!(r.avail_out=0))},c.prototype.onData=function(t){this.chunks.push(t)},c.prototype.onEnd=function(t){t===_&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},a.Deflate=c,a.deflate=n,a.deflateRaw=function(t,e){return(e=e||{}).raw=!0,n(t,e)},a.gzip=function(t,e){return(e=e||{}).gzip=!0,n(t,e)}},{"./utils/common":1,"./utils/strings":2,"./zlib/deflate":5,"./zlib/messages":6,"./zlib/zstream":8}]},{},[])("/lib/deflate.js")});
/* Core/UTMLogger/AjaxLIstener w/cookieMod */ 
if(window.DCX){throw"Attempting to recreate DCX. Library may be included more than once on the page.";}window.DCX=(function(){var ajaxService,browserBaseService,browserService,configService,domCaptureService,queueService,serializerService,coreConfig,utils;function logScreenview(type,name,referrerName,root){var dcid=null,screenviewMsg=null,replay=DCX.getModule("replay"),cookieModule=DCX.getModule("DCCookie"),performanceModule=DCX.getModule("performance"),webEvent=null,urlInfo=utils.getOriginAndPath(),queryString=utils.getQueryString(window.location.search);if(!name||typeof name!=="string"){return;}screenviewMsg={type:2,screenview:{type:type,name:name,originalUrl:urlInfo.path,url:DCX.normalizeUrl(urlInfo.path),host:urlInfo.origin,referrer:referrerName,title:document.title,queryString:queryString}};if(!queryString){delete screenviewMsg.screenview.queryString;}if(!referrerName||typeof referrerName!=="string"){delete screenviewMsg.screenview.referrer;}if(type==="LOAD"){webEvent={type:"screenview_load",name:name};}else{if(type==="UNLOAD"){webEvent={type:"screenview_unload",name:name};}}if(webEvent&&replay){dcid=replay.onevent(webEvent);}if(dcid){screenviewMsg.dcid=dcid;}if(type==="LOAD"||type==="UNLOAD"){queueService.post("",screenviewMsg);}if(webEvent&&cookieModule){cookieModule.onevent(webEvent);}if(webEvent&&performanceModule){performanceModule.onevent(webEvent);}}function addGeolocationMsg(position){var geolocationMsg;if(!position||!position.coords){return;}geolocationMsg={type:13,geolocation:{lat:position.coords.latitude,"long":position.coords.longitude,accuracy:Math.ceil(position.coords.accuracy)}};queueService.post("",geolocationMsg);}function addGeolocationErrorMsg(){var geolocationMsg;geolocationMsg={type:13,geolocation:{errorCode:201,error:"Permission denied."}};queueService.post("",geolocationMsg);}var dcxStartTime=(new Date()).getTime(),dcxPageId,modules={},services={},initialized=false,state=null,workerLoaded=false,isFrameBlacklisted=(function(){var blacklistedFrames,checkedFrames=[];function prepareBlacklistedFrames(scope){var blacklist=coreConfig.framesBlacklist,foundFrames,i;blacklistedFrames=blacklistedFrames||[];scope=scope||null;if(typeof blacklist!=="undefined"&&blacklist.length>0){for(i=0;i<blacklist.length;i+=1){foundFrames=browserService.queryAll(blacklist[i],scope);if(foundFrames&&foundFrames.length>0){blacklistedFrames=blacklistedFrames.concat(foundFrames);}}checkedFrames=checkedFrames.concat(browserService.queryAll("iframe",scope));}}function isFrameBlacklisted(iframe){if(utils.indexOf(checkedFrames,iframe)<0){prepareBlacklistedFrames(iframe.ownerDocument);}return utils.indexOf(blacklistedFrames,iframe)>-1;}isFrameBlacklisted.clearCache=function(){blacklistedFrames=null;};return isFrameBlacklisted;}()),lastClickedElement=null,servicePassthroughs={config:["getConfig","updateConfig","getCoreConfig","updateCoreConfig","getModuleConfig","updateModuleConfig","getServiceConfig","updateServiceConfig"],queue:["post","setAutoFlush","flushAll"],browserBase:["getXPathFromNode","processDOMEvent"]},loadUnloadHandler=(function(){var status={};return{normalizeModuleEvents:function(moduleName,moduleEvents,localTop,documentScope){var modStatus=status[moduleName],load=false,unload=false;localTop=localTop||core._getLocalTop();documentScope=documentScope||localTop.document;if(modStatus){return;}status[moduleName]={loadFired:false,pageHideFired:false};utils.forEach(moduleEvents,function(eventConfig){switch(eventConfig.name){case"load":load=true;moduleEvents.push(utils.mixin(utils.mixin({},eventConfig),{name:"pageshow"}));break;case"unload":unload=true;moduleEvents.push(utils.mixin(utils.mixin({},eventConfig),{name:"pagehide"}));moduleEvents.push(utils.mixin(utils.mixin({},eventConfig),{name:"beforeunload"}));break;case"change":if(utils.isLegacyIE&&core.getFlavor()==="w3c"){moduleEvents.push(utils.mixin(utils.mixin({},eventConfig),{name:"propertychange"}));}break;}});if(!load&&!unload){delete status[moduleName];return;}status[moduleName].silentLoad=!load;status[moduleName].silentUnload=!unload;if(!load){moduleEvents.push({name:"load",target:localTop});}if(!unload){moduleEvents.push({name:"unload",target:localTop});}},canPublish:function(moduleName,event){var mod;if(status.hasOwnProperty(moduleName)===false){return true;}mod=status[moduleName];switch(event.type){case"load":mod.pageHideFired=false;mod.loadFired=true;return !mod.silentLoad;case"pageshow":mod.pageHideFired=false;event.type="load";return !mod.loadFired&&!mod.silentLoad;case"pagehide":event.type="unload";mod.loadFired=false;mod.pageHideFired=true;return !mod.silentUnload;case"unload":case"beforeunload":event.type="unload";mod.loadFired=false;return !mod.pageHideFired&&!mod.silentUnload;}return true;},isUnload:function(event){return typeof event==="object"?(event.type==="unload"||event.type==="beforeunload"||event.type==="pagehide"):false;}};}()),currentWebEvent={},events={},bridgeCallbacks={},_init=function(){},_callback=null,okToCallInit=true,resetInactivityTimer=function(){},fullDOMFlushed=false,detectScreenviewChange=(function(){var location=window.location,prevPathname=location.pathname,prevHash=location.hash,prevScreenview="";return function(){var currPathname=location.pathname,currHash=location.hash,currScreenview=prevScreenview;if(currPathname!==prevPathname){currScreenview=DCX.normalizeUrl(currPathname+currHash);}else{if(currHash!==prevHash){currScreenview=DCX.normalizeUrl(currHash);}}if(currScreenview!==prevScreenview){if(prevScreenview){logScreenview("UNLOAD",prevScreenview);}logScreenview("LOAD",currScreenview);prevScreenview=currScreenview;prevPathname=currPathname;prevHash=currHash;}};}()),isElementBlocked=function(element,scope){var i,j,len,isBlocked=false,blockedList=coreConfig.blockedElements,blockedElem,blockedElems,blockedElemsLen;if(!blockedList||!blockedList.length){isElementBlocked=function(){return false;};return isBlocked;}if(!element||!element.nodeType){return isBlocked;}scope=scope||utils.getDocument(element);for(i=0,len=blockedList.length;i<len&&!isBlocked;i+=1){blockedElems=browserService.queryAll(blockedList[i],scope);for(j=0,blockedElemsLen=blockedElems.length;j<blockedElemsLen&&!isBlocked;j+=1){blockedElem=blockedElems[j];isBlocked=blockedElem.contains?blockedElem.contains(element):blockedElem===element;}}return isBlocked;},hasExcludedProtocol=function(element){var hasExcluded=false,list=["intent:","mailto:","sms:","tel:"];if(element&&utils.getTagName(element)==="a"&&list.indexOf(element.protocol)!==-1){hasExcluded=true;}return hasExcluded;},core={_loadGlobalsForUnitTesting:function(global){utils=global.utils;ajaxService=global.getService("ajax");browserBaseService=global.getService("browserBase");browserService=global.getService("browser");configService=global.getService("config");domCaptureService=global.getService("domCapture");queueService=global.getService("queue");serializerService=global.getService("serializer");coreConfig=configService?configService.getCoreConfig():null;},getStartTime:function(){return dcxStartTime;},getPageId:function(){return dcxPageId||"#";},getLibraryVersion:function(){return"12.1.10";},getInternalVersion:function(){var config=this.getCoreConfig();if(config.version){return config.version;}},getCurrentWebEvent:function(){return currentWebEvent;},normalizeUrl:function(moduleName,url){if(typeof url==="undefined"){url=moduleName;}var config=this.getCoreConfig();if(config.normalization&&config.normalization.urlFunction){return config.normalization.urlFunction(url);}return url;},init:function(config,callback){var timeoutCallback;utils=this.utils;if(utils.isLegacyIE){return;}_callback=callback;if(!okToCallInit){throw"init must only be called once!";}dcxPageId="P."+utils.getRandomString(28);okToCallInit=false;timeoutCallback=function(event){event=event||window.event||{};if(event.type==="load"||document.readyState!=="loading"){if(document.removeEventListener){document.removeEventListener("DOMContentLoaded",timeoutCallback,false);window.removeEventListener("load",timeoutCallback,false);}else{document.detachEvent("onreadystatechange",timeoutCallback);window.detachEvent("onload",timeoutCallback);}_init(config,callback);}};if(document.readyState==="complete"||(document.readyState==="interactive"&&!utils.isIE)){setTimeout(timeoutCallback);}else{if(document.addEventListener){document.addEventListener("DOMContentLoaded",timeoutCallback,false);window.addEventListener("load",timeoutCallback,false);}else{document.attachEvent("onreadystatechange",timeoutCallback);window.attachEvent("onload",timeoutCallback);}}},isInitialized:function(){return initialized;},getState:function(){return state;},setState:function(destroyedParent,jMsg){var destroyedStatus={destroyedParent:destroyedParent,jMsg:jMsg};state=destroyedParent+"("+jMsg.destroyedBy+") : "+jMsg.destroyedReason;DCX.logCustomEvent("state",destroyedStatus,6);sessionStorage.setItem("DCXLabState",JSON.stringify(destroyedStatus));},setWorkerStatus:function(value){workerLoaded=value;},getWorkerStatus:function(){return workerLoaded;},destroy:function(skipEvents){var token="",eventName="",target=null,serviceName=null,service=null,delegateTarget=false;if(okToCallInit){return false;}this.stopAll();if(!skipEvents){for(token in events){if(events.hasOwnProperty(token)){eventName=token.split("|")[0];target=events[token].target;delegateTarget=events[token].delegateTarget||undefined;browserService.unsubscribe(eventName,target,this._publishEvent,delegateTarget);}}}for(serviceName in services){if(services.hasOwnProperty(serviceName)){service=services[serviceName].instance;if(service&&typeof service.destroy==="function"){service.destroy();}services[serviceName].instance=null;}}isFrameBlacklisted.clearCache();events={};initialized=false;okToCallInit=true;if(state==="unloading"||state==="loaded"){state="destroyed";}if(typeof _callback==="function"){try{_callback("destroyed");}catch(e){}}},_updateModules:function(scope){var moduleConfig=null,moduleName=null,result=true;if(coreConfig&&coreConfig.modules){try{for(moduleName in coreConfig.modules){if(coreConfig.modules.hasOwnProperty(moduleName)){moduleConfig=coreConfig.modules[moduleName];if(modules.hasOwnProperty(moduleName)){if(moduleConfig.enabled===false){this.stop(moduleName);continue;}this.start(moduleName);if(moduleConfig.events){this._registerModuleEvents(moduleName,moduleConfig.events,scope);}}}}this._registerModuleEvents.clearCache();}catch(e){var jMsg={destroyedReason:"UIC destroyed while update Modules.",destroyedBy:"_updateModules",destroyedByModule:moduleName};DCX.setState("_updateModules",jMsg);core.destroy();result=false;}}else{result=false;}return result;},rebind:function(scope){core._updateModules(scope);},getSessionData:function(){if(!core.isInitialized()){return;}var rv=null,sessionData=null,scName,scValue;if(!coreConfig||!coreConfig.sessionDataEnabled){return null;}sessionData=coreConfig.sessionData||{};scName=sessionData.sessionQueryName;if(scName){scValue=utils.getQueryStringValue(scName,sessionData.sessionQueryDelim);}else{scName=sessionData.sessionCookieName||"TLTSID";scValue=utils.getCookieValue(scName);}if(scName&&scValue){rv=rv||{};rv.dcxSCN=scName;rv.dcxSCV=scValue;rv.dcxSCVNeedsHashing=!!sessionData.sessionValueNeedsHashing;}return rv;},logGeolocation:function(position){var replayConfig=core.getModuleConfig("replay")||{},geolocationConfigOptions=utils.getValue(replayConfig,"geolocation.options",{timeout:30000,enableHighAccuracy:true,maximumAge:0}),geolocationEnabled=utils.getValue(replayConfig,"geolocation.enabled",false),navigator=window.navigator;if(!position){if(!geolocationEnabled||!navigator||!navigator.geolocation||!navigator.geolocation.getCurrentPosition){return;}navigator.geolocation.getCurrentPosition(addGeolocationMsg,addGeolocationErrorMsg,geolocationConfigOptions);}else{addGeolocationMsg(position);}},logCustomEvent:function(name,customMsgObj,logLevel){if(!core.isInitialized()){return;}var customMsg=null;if(!name||typeof name!=="string"){name="CUSTOM";}if(!logLevel||typeof logLevel!=="number"){logLevel=5;}customMsgObj=customMsgObj||{};customMsg={type:logLevel,customEvent:{name:name,data:customMsgObj}};queueService.post("",customMsg);},logExceptionEvent:function(msg,url,line){if(!core.isInitialized()){return;}var exceptionMsg=null;if(!msg||typeof msg!=="string"){return;}url=url||"";line=line||"";exceptionMsg={type:6,exception:{description:msg,url:url,line:line}};queueService.post("",exceptionMsg);},logFormCompletion:function(submitted,valid){if(!core.isInitialized()){return;}var formCompletionMsg={type:15,formCompletion:{submitted:!!submitted,valid:(typeof valid==="boolean"?valid:null)}};queueService.post("",formCompletionMsg);},logScreenviewLoad:function(name,referrerName,root){if(!core.isInitialized()){return;}logScreenview("LOAD",name,referrerName,root);},logScreenviewUnload:function(name){if(!core.isInitialized()){return;}logScreenview("UNLOAD",name);},logDOMCapture:function(root,config){var dcid=null,domCaptureData,domCaptureServiceConfig,msg;if(!this.isInitialized()){return dcid;}if(utils.isLegacyIE){return dcid;}if(domCaptureService){root=root||window.document;domCaptureServiceConfig=this.getServiceConfig("domCapture");config=utils.mixin({},domCaptureServiceConfig.options,config);domCaptureData=domCaptureService.captureDOM(root,config);if(domCaptureData){dcid=config.dcid||("dcid-"+utils.getSerialNumber()+"."+(new Date()).getTime());domCaptureData.dcid=dcid;domCaptureData.eventOn=!!config.eventOn;msg={type:12,domCapture:domCaptureData};queueService.post("",msg);if(config.qffd!==false&&!fullDOMFlushed&&msg.domCapture.fullDOM){queueService.flush();fullDOMFlushed=true;}}else{dcid=null;}}return dcid;},performDOMCapture:function(moduleName,root,config){return this.logDOMCapture(root,config);},performFormCompletion:function(moduleName,submitted,valid){return this.logFormCompletion(submitted,valid);},_bridgeCallback:function(cbType){var callBackType=bridgeCallbacks[cbType];if(callBackType&&callBackType.enabled){return callBackType;}return null;},logScreenCapture:function(){if(!core.isInitialized()){return;}var bridgeCallback=core._bridgeCallback("screenCapture");if(bridgeCallback!==null){bridgeCallback.cbFunction();}},enableDiscoverFramework:function(){if(!core.isInitialized()){return;}var bridgeCallback=core._bridgeCallback("enableDiscoverFramework");if(bridgeCallback!==null){bridgeCallback.cbFunction();}},disableDiscoverFramework:function(){if(!core.isInitialized()){return;}var bridgeCallback=core._bridgeCallback("disableDiscoverFramework");if(bridgeCallback!==null){bridgeCallback.cbFunction();}},startNewTLFSession:function(){if(!core.isInitialized()){return;}var bridgeCallback=core._bridgeCallback("startNewTLFSession");if(bridgeCallback!==null){bridgeCallback.cbFunction();}},currentSessionId:function(){if(!core.isInitialized()){return;}var sessionId,bridgeCallback=core._bridgeCallback("currentSessionId");if(bridgeCallback!==null){sessionId=bridgeCallback.cbFunction();}return sessionId;},defaultValueForConfigurableItem:function(configItem){if(!core.isInitialized()){return;}var value,bridgeCallback=core._bridgeCallback("defaultValueForConfigurableItem");if(bridgeCallback!==null){value=bridgeCallback.cbFunction(configItem);}return value;},valueForConfigurableItem:function(configItem){if(!core.isInitialized()){return;}var value,bridgeCallback=core._bridgeCallback("valueForConfigurableItem");if(bridgeCallback!==null){value=bridgeCallback.cbFunction(configItem);}return value;},setConfigurableItem:function(configItem,value){if(!core.isInitialized()){return;}var result=false,bridgeCallback=core._bridgeCallback("setConfigurableItem");if(bridgeCallback!==null){result=bridgeCallback.cbFunction(configItem,value);}return result;},addAdditionalHttpHeader:function(key,value){if(!core.isInitialized()){return;}var result=false,bridgeCallback=core._bridgeCallback("addAdditionalHttpHeader");if(bridgeCallback!==null){result=bridgeCallback.cbFunction(key,value);}return result;},logCustomEventBridge:function(eventName,jsonData,logLevel){if(!core.isInitialized()){return;}var result=false,bridgeCallback=core._bridgeCallback("logCustomEventBridge");if(bridgeCallback!==null){result=bridgeCallback.cbFunction(eventName,jsonData,logLevel);}return result;},registerBridgeCallbacks:function(callbacks){var i,j,len,cb=null,cbEntry,cbList,cbListLen;if(!callbacks){return false;}if(callbacks.length===0){bridgeCallbacks={};return false;}try{for(i=0,len=callbacks.length;i<len;i+=1){cb=callbacks[i];if(typeof cb==="object"&&cb.cbType&&cb.cbFunction){cbEntry={enabled:cb.enabled,cbFunction:cb.cbFunction,cbOrder:cb.order||0};if(utils.isUndefOrNull(bridgeCallbacks[cb.cbType])){bridgeCallbacks[cb.cbType]=cbEntry;}else{if(!utils.isArray(bridgeCallbacks[cb.cbType])){bridgeCallbacks[cb.cbType]=[bridgeCallbacks[cb.cbType]];}cbList=bridgeCallbacks[cb.cbType];for(j=0,cbListLen=cbList.length;j<cbListLen;j+=1){if(cbList[j].cbOrder>cbEntry.cbOrder){break;}}cbList.splice(j,0,cbEntry);}}}}catch(e){return false;}return true;},redirectQueue:function(queue){var i,j,len,cb,cbList,cbListLen,retval;if(!queue||!queue.length){return queue;}cb=bridgeCallbacks.messageRedirect;if(!cb){return queue;}if(!utils.isArray(cb)){cbList=[cb];}else{cbList=cb;}for(j=0,cbListLen=cbList.length;j<cbListLen;j+=1){cb=cbList[j];if(cb&&cb.enabled){for(i=0,len=queue.length;i<len;i+=1){retval=cb.cbFunction(serializerService.serialize(queue[i]),queue[i]);if(retval&&typeof retval==="object"){queue[i]=retval;}else{queue.splice(i,1);i-=1;len=queue.length;}}}}return queue;},_hasSameOrigin:function(iframe){try{return iframe.document.location.host===document.location.host&&iframe.document.location.protocol===document.location.protocol;}catch(e){}return false;},provideRequestHeaders:function(){var headers=null,addHeadersCB=bridgeCallbacks.addRequestHeaders;if(addHeadersCB&&addHeadersCB.enabled){headers=addHeadersCB.cbFunction();}return headers;},_registerModuleEvents:(function(){var idCache,frameLoadPending=0,normalizeToObject=function(prop,localTop,documentScope){if(prop==="window"){return localTop;}if(prop==="document"){return documentScope;}return prop;};function _registerModuleEventsOnScope(moduleName,moduleEvents,scope){var documentScope=utils.getDocument(scope),localTop=core._getLocalTop(),isFrame=utils.isIFrameDescendant(scope),frameId,e,i;scope=scope||documentScope;loadUnloadHandler.normalizeModuleEvents(moduleName,moduleEvents,localTop,documentScope);if(isFrame){frameId=browserBaseService.ElementData.prototype.examineID(scope).id;if(typeof frameId==="string"){frameId=frameId.slice(0,frameId.length-1);for(e in events){if(events.hasOwnProperty(e)){for(i=0;i<events[e].length;i+=1){if(moduleName===events[e][i]){if(e.indexOf(frameId)!==-1){delete events[e];break;}}}}}}}utils.forEach(moduleEvents,function(eventConfig){var target=normalizeToObject(eventConfig.target,localTop,documentScope)||documentScope,delegateTarget=normalizeToObject(eventConfig.delegateTarget,localTop,documentScope),token="";if(eventConfig.recurseFrames!==true&&isFrame){return;}if(typeof target==="string"){if(eventConfig.delegateTarget&&core.getFlavor()==="jQuery"){token=core._buildToken4delegateTarget(eventConfig.name,target,eventConfig.delegateTarget);if(!events.hasOwnProperty(token)){events[token]=[moduleName];events[token].target=target;events[token].delegateTarget=delegateTarget;browserService.subscribe(eventConfig.name,target,core._publishEvent,delegateTarget,token);}else{events[token].push(moduleName);}}else{utils.forEach(browserService.queryAll(target,scope),function(element){var idData=idCache.get(element);if(!idData){idData=browserBaseService.ElementData.prototype.examineID(element);idCache.set(element,idData);}token=eventConfig.name+"|"+idData.id+idData.idType;if(utils.indexOf(events[token],moduleName)!==-1){return;}events[token]=events[token]||[];events[token].push(moduleName);events[token].target=element;browserService.subscribe(eventConfig.name,element,core._publishEvent);});}}else{token=core._buildToken4bubbleTarget(eventConfig.name,target,typeof eventConfig.target==="undefined");if(!events.hasOwnProperty(token)){events[token]=[moduleName];browserService.subscribe(eventConfig.name,target,core._publishEvent);}else{if(utils.indexOf(events[token],moduleName)===-1){events[token].push(moduleName);}}}if(token!==""){if(typeof target!=="string"){events[token].target=target;}}});}function _isFrameLoaded(hIFrame){var iFrameWindow=utils.getIFrameWindow(hIFrame);return(iFrameWindow!==null)&&core._hasSameOrigin(iFrameWindow)&&(iFrameWindow.document!==null)&&iFrameWindow.document.readyState==="complete";}function registerModuleEvents(moduleName,moduleEvents,scope){scope=scope||core._getLocalTop().document;idCache=idCache||new utils.WeakMap();_registerModuleEventsOnScope(moduleName,moduleEvents,scope);if(moduleName!=="performance"){var hIFrame=null,hIFrameWindow=null,cIFrames=browserService.queryAll("iframe, frame",scope),i,iLength;for(i=0,iLength=cIFrames.length;i<iLength;i+=1){hIFrame=cIFrames[i];if(isFrameBlacklisted(hIFrame)){continue;}if(_isFrameLoaded(hIFrame)){hIFrameWindow=utils.getIFrameWindow(hIFrame);core._registerModuleEvents(moduleName,moduleEvents,hIFrameWindow.document);domCaptureService.observeWindow(hIFrameWindow);continue;}frameLoadPending+=1;(function(moduleName,moduleEvents,hIFrame){var hIFrameWindow=null,_iframeContext={moduleName:moduleName,moduleEvents:moduleEvents,hIFrame:hIFrame,_registerModuleEventsDelayed:function(){var hIFrameWindow=null;if(!isFrameBlacklisted(hIFrame)){hIFrameWindow=utils.getIFrameWindow(hIFrame);if(core._hasSameOrigin(hIFrameWindow)){core._registerModuleEvents(moduleName,moduleEvents,hIFrameWindow.document);domCaptureService.observeWindow(hIFrameWindow);}}frameLoadPending-=1;if(!frameLoadPending){core._publishEvent({type:"loadWithFrames",custom:true});}}};utils.addEventListener(hIFrame,"load",function(){_iframeContext._registerModuleEventsDelayed();});if(utils.isLegacyIE&&_isFrameLoaded(hIFrame)){hIFrameWindow=utils.getIFrameWindow(hIFrame);utils.addEventListener(hIFrameWindow.document,"readystatechange",function(){_iframeContext._registerModuleEventsDelayed();});}}(moduleName,moduleEvents,hIFrame));}}}registerModuleEvents.clearCache=function(){if(idCache){idCache.clear();idCache=null;}};return registerModuleEvents;}()),_buildToken4currentTarget:function(event){var target=event.nativeEvent?event.nativeEvent.currentTarget:null,idData=target?browserBaseService.ElementData.prototype.examineID(target):{id:event.target?event.target.id:null,idType:event.target?event.target.idType:-1};return event.type+"|"+idData.id+idData.idType;},_buildToken4delegateTarget:function(eventType,target,delegateTarget){return eventType+"|"+target+"|"+delegateTarget;},_buildToken4bubbleTarget:function(eventType,target,checkIframe,delegateTarget){var localTop=core._getLocalTop(),localWindow,_getIframeElement=function(documentScope){var retVal=null;if(core._hasSameOrigin(localWindow.parent)){utils.forEach(browserService.queryAll("iframe, frame",localWindow.parent.document),function(iframe){var iFrameWindow=null;if(!isFrameBlacklisted(iframe)){iFrameWindow=utils.getIFrameWindow(iframe);if(core._hasSameOrigin(iFrameWindow)&&iFrameWindow.document===documentScope){retVal=iframe;}}});}return retVal;},documentScope=utils.getDocument(target),iframeElement=null,tmpTarget,retVal=eventType,idData;if(documentScope){localWindow=documentScope.defaultView||documentScope.parentWindow;}if(target===window||target===window.window){retVal+="|null-2|window";}else{if(checkIframe&&localWindow&&core._hasSameOrigin(localWindow.parent)&&typeof documentScope!=="undefined"&&localTop.document!==documentScope){iframeElement=_getIframeElement(documentScope);if(iframeElement){tmpTarget=browserBaseService.ElementData.prototype.examineID(iframeElement);retVal+="|"+tmpTarget.xPath+"-2";}}else{if(delegateTarget&&delegateTarget!==document&&core.getFlavor()==="jQuery"){retVal+="|null-2|"+utils.getTagName(target)+"|"+utils.getTagName(delegateTarget);}else{retVal+="|null-2|document";}}}return retVal;},_reinitConfig:function(){core._updateModules();},_publishEvent:function(event){var moduleName=null,module=null,token=(event.delegateTarget&&event.data)?event.data:core._buildToken4currentTarget(event),modules=null,i,len,target,modEvent=null,canIgnore=false,canPublish=false,delegateTarget=event.delegateTarget||null,screenviewAutoDetect,clickedEl;currentWebEvent=event;if(event.type.match(/^(click|change|blur|mouse|touch)/)){resetInactivityTimer();queueService.resetFlushTimer();}screenviewAutoDetect=utils.getValue(coreConfig,"screenviewAutoDetect",true);if(screenviewAutoDetect){detectScreenviewChange();}if((event.type==="load"||event.type==="pageshow")&&!event.nativeEvent.customLoad){currentWebEvent={};return;}if(event.type==="click"){lastClickedElement=event.target.element;}if(event.type==="beforeunload"){canIgnore=false;clickedEl=(utils.getTagName(lastClickedElement)==="a")?lastClickedElement:document.activeElement;if(clickedEl){if(hasExcludedProtocol(clickedEl)){canIgnore=true;}else{utils.forEach(coreConfig.ieExcludedLinks,function(selector){var i,len,el=browserService.queryAll(selector);for(i=0,len=el?el.length:0;i<len;i+=1){if(typeof el[i]!==undefined&&el[i]===lastClickedElement){canIgnore=true;break;}}});}}if(canIgnore){currentWebEvent={};return;}}if(loadUnloadHandler.isUnload(event)){state="unloading";}if(event.type==="change"&&utils.isLegacyIE&&core.getFlavor()==="w3c"&&(event.target.element.type==="checkbox"||event.target.element.type==="radio")){currentWebEvent={};return;}if(event.type==="propertychange"){if(event.nativeEvent.propertyName==="checked"&&(event.target.element.type==="checkbox"||(event.target.element.type==="radio"&&event.target.element.checked))){event.type="change";event.target.type="INPUT";}else{currentWebEvent={};return;}}if(event.target&&isElementBlocked(event.target.element)){currentWebEvent={};return;}if(!events.hasOwnProperty(token)){if(event.hasOwnProperty("nativeEvent")){target=event.nativeEvent.currentTarget||event.nativeEvent.target;}token=core._buildToken4bubbleTarget(event.type,target,true,delegateTarget);}if(events.hasOwnProperty(token)){modules=events[token];for(i=0,len=modules.length;i<len;i+=1){moduleName=modules[i];module=core.getModule(moduleName);modEvent=utils.mixin({},event);if(module&&core.isStarted(moduleName)&&typeof module.onevent==="function"){canPublish=loadUnloadHandler.canPublish(moduleName,modEvent);if(canPublish){module.onevent(modEvent);}}}}if(modEvent&&modEvent.type==="unload"&&canPublish){core.destroy();}currentWebEvent={};},_getLocalTop:function(){return window.window;},addModule:function(moduleName,creator){modules[moduleName]={creator:creator,instance:null,context:null,messages:[]};if(this.isInitialized()){this.start(moduleName);}},getModule:function(moduleName){if(modules[moduleName]&&modules[moduleName].instance){return modules[moduleName].instance;}return null;},removeModule:function(moduleName){this.stop(moduleName);delete modules[moduleName];},isStarted:function(moduleName){return modules.hasOwnProperty(moduleName)&&modules[moduleName].instance!==null;},start:function(moduleName){var moduleData=modules[moduleName],instance=null;if(moduleData&&moduleData.instance===null){moduleData.context=new DCX.ModuleContext(moduleName,this);instance=moduleData.instance=moduleData.creator(moduleData.context);if(typeof instance.init==="function"){instance.init();}}},startAll:function(){var moduleName=null;for(moduleName in modules){if(modules.hasOwnProperty(moduleName)){this.start(moduleName);}}},stop:function(moduleName){var moduleData=modules[moduleName],instance=null;if(moduleData&&moduleData.instance!==null){instance=moduleData.instance;if(typeof instance.destroy==="function"){instance.destroy();}moduleData.instance=moduleData.context=null;}},stopAll:function(){var moduleName=null;for(moduleName in modules){if(modules.hasOwnProperty(moduleName)){this.stop(moduleName);}}},addService:function(serviceName,creator){services[serviceName]={creator:creator,instance:null};},getService:function(serviceName){if(services.hasOwnProperty(serviceName)){if(!services[serviceName].instance){try{services[serviceName].instance=services[serviceName].creator(this);if(typeof services[serviceName].instance.init==="function"){services[serviceName].instance.init();}}catch(e){utils.clog("UIC terminated due to error when instanciating the "+serviceName+" service.");throw e;}if(typeof services[serviceName].instance.getServiceName!=="function"){services[serviceName].instance.getServiceName=function(){return serviceName;};}}return services[serviceName].instance;}return null;},removeService:function(serviceName){delete services[serviceName];},broadcast:function(message){var i=0,len=0,prop=null,module=null;if(message&&typeof message==="object"){for(prop in modules){if(modules.hasOwnProperty(prop)){module=modules[prop];if(utils.indexOf(module.messages,message.type)>-1){if(typeof module.instance.onmessage==="function"){module.instance.onmessage(message);}}}}}},listen:function(moduleName,messageType){var module=null;if(this.isStarted(moduleName)){module=modules[moduleName];if(utils.indexOf(module.messages,messageType)===-1){module.messages.push(messageType);}}},fail:function(message,failcode,skipEvents){message="UIC FAILED. "+message;try{var jMsg={destroyedReason:"UIC FAILED. "+message,destroyedBy:"fail"};DCX.setState("_publishEvent",jMsg);core.destroy(!!skipEvents);}finally{utils.clog(message);throw new core.UICError(message,failcode);}},UICError:(function(){function UICError(message,errorCode){this.message=message;this.code=errorCode;}UICError.prototype=new Error();UICError.prototype.name="UICError";UICError.prototype.constructor=UICError;return UICError;}()),getFlavor:function(){return"w3c";},isScreenviewBlockList:function(path){var coreConfig=core.getConfig(),screenviewBlocklist=coreConfig&&coreConfig.core&&coreConfig.core.screenViewBlocklist||null;if(!(screenviewBlocklist&&screenviewBlocklist.length)){return;}var isScreenBlocked=screenviewBlocklist.some(function(blockedItem){if(typeof blockedItem==="string"){return(path||"").includes(blockedItem);}else{if(typeof blockedItem==="object"&&blockedItem.regex){var cRegex=new RegExp(blockedItem.regex,blockedItem.flag);return cRegex.test(path);}}return false;});return isScreenBlocked;}};resetInactivityTimer=function(){var inactivityTimerId=null,inactivityTimeout=utils.getValue(coreConfig,"inactivityTimeout",600000);if(!inactivityTimeout){resetInactivityTimer=function(){};return;}function inactivityTimeoutHandler(){utils.clog("UIC self-terminated due to inactivity timeout.");var jMsg={destroyedReason:"UIC self-terminated due to inactivity timeout.",destroyedBy:"inactivityTimeoutHandler"};DCX.setState("resetInactivityTimer",jMsg);try{if(!coreConfig.sessionKeepAlive){core.destroy();}}catch(e){core.destroy();}}resetInactivityTimer=function(){if(inactivityTimerId){clearTimeout(inactivityTimerId);inactivityTimerId=null;}inactivityTimerId=setTimeout(inactivityTimeoutHandler,inactivityTimeout);};resetInactivityTimer();};_init=function(config,callback){var event,webEvent,cookieModuleConfig,queueServiceConfig,queues,sessionCookieName,sessionCookieValue,endpointURL,killswitchURL,i;if(initialized){utils.clog("DCX.init() called more than once. Ignoring.");return;}if(DCX&&DCX.replay){return;}configService=core.getService("config");configService.updateConfig(config);ajaxService=core.getService("ajax");browserBaseService=core.getService("browserBase");browserService=core.getService("browser");domCaptureService=core.getService("domCapture");queueService=core.getService("queue");serializerService=core.getService("serializer");coreConfig=configService.getCoreConfig();cookieModuleConfig=configService.getModuleConfig("DCCookie")||{};sessionCookieName=cookieModuleConfig.sessionizationCookieName||"TLTSID";sessionCookieValue=utils.getCookieValue(sessionCookieName);if(sessionCookieValue==="DND"){if(state!=="destroyed"){var jMsg={destroyedReason:"Cookie value is DND",destroyedBy:"sessionCookieValue"};DCX.setState("_init",jMsg);core.destroy();}return;}if(!core._updateModules()){if(state!=="destroyed"){var jMsg={destroyedReason:"UIC destroyed while updating modules",destroyedBy:"core._updateModules"};DCX.setState("_init",jMsg);core.destroy();}return;}if(configService.subscribe){configService.subscribe("configupdated",core._reinitConfig);}initialized=true;state="loaded";try{if(typeof DCExtensionNotify==="function"){DCExtensionNotify("Initialized");}}catch(e1){}event={type:"load",target:window.window,srcElement:window.window,currentTarget:window.window,bubbles:true,cancelBubble:false,cancelable:true,timeStamp:+new Date(),customLoad:true};webEvent=new browserBaseService.WebEvent(event);core._publishEvent(webEvent);queueServiceConfig=core.getServiceConfig("queue");queues=queueServiceConfig.queues||[];for(i=0;i<queues.length;i+=1){if(!sessionCookieValue&&cookieModuleConfig.dcAppKey){endpointURL=queues[i].endpoint;killswitchURL=queues[i].killswitchURL||(endpointURL.match("collectorPost")?endpointURL.replace("collectorPost","switch/"+cookieModuleConfig.dcAppKey):null);if(killswitchURL){ajaxService.sendRequest({type:"GET",url:killswitchURL,async:true,timeout:5000,oncomplete:function(result){if(result.responseText==="0"){core.setAutoFlush(false);utils.setCookie(sessionCookieName,"DND");var jMsg={destroyedReason:"UIC destroyed while kill switch URL",destroyedBy:"killswitchURl"};DCX.setState("_init",jMsg);core.destroy();}}});}}if(queues[i].checkEndpoint){ajaxService.sendRequest({oncomplete:function(result){},timeout:queues[i].endpointCheckTimeout||3000,url:queues[i].endpoint,headers:{"X-PageId":dcxPageId,"X-Discover-SaaS-AppKey":cookieModuleConfig.dcAppKey,"X-Discover-EndpointCheck":true},async:true,error:function(result){if(result.success){return;}core.setAutoFlush(false);var jMsg={destroyedReason:"UIC destroyed while checking end point.",destroyedBy:"checkEndPointinit"};DCX.setState("_init",jMsg);core.destroy();}});}}if(typeof _callback==="function"){try{_callback("initialized");}catch(e2){}}if(JSON.parse(sessionStorage.getItem("DCXLabState"))!==null){var jMsg=JSON.parse(sessionStorage.getItem("DCXLabState"));DCX.logCustomEvent("LastState",jMsg,6);sessionStorage.removeItem("DCXLabState");}};(function(){var name=null,i,len;for(name in servicePassthroughs){if(servicePassthroughs.hasOwnProperty(name)){for(i=0,len=servicePassthroughs[name].length;i<len;i+=1){(function(serviceName,methodName){core[methodName]=function(){var service=this.getService(serviceName);if(service){return service[methodName].apply(service,arguments);}};}(name,servicePassthroughs[name][i]));}}}}());return core;}());(function(){var ua=window.navigator.userAgent.toLowerCase(),_isIE=(ua.indexOf("msie")!==-1||ua.indexOf("trident")!==-1),_isLegacyIE=(function(){var isNavTimingSupported=!!window.performance;return(_isIE&&(!isNavTimingSupported||document.documentMode<9));}()),_isAndroid=(ua.indexOf("android")!==-1),_isiOS=/(ipad|iphone|ipod)/.test(ua),_isOperaMini=(ua.indexOf("opera mini")!==-1),dcxUniqueIndex=1,dcTypes={"a:":"link","button:button":"button","button:submit":"button","input:button":"button","input:checkbox":"checkBox","input:color":"colorPicker","input:date":"datePicker","input:datetime":"datetimePicker","input:datetime-local":"datetime-local","input:email":"emailInput","input:file":"fileInput","input:image":"button","input:month":"month","input:number":"numberPicker","input:password":"textBox","input:radio":"radioButton","input:range":"slider","input:reset":"button","input:search":"searchBox","input:submit":"button","input:tel":"tel","input:text":"textBox","input:time":"timePicker","input:url":"urlBox","input:week":"week","select:":"selectList","select:select-one":"selectList","textarea:":"textBox","textarea:textarea":"textBox"},utils={isIE:_isIE,isLegacyIE:_isLegacyIE,isAndroid:_isAndroid,isLandscapeZeroDegrees:false,isiOS:_isiOS,isOperaMini:_isOperaMini,isUndefOrNull:function(obj){return typeof obj==="undefined"||obj===null;},isArray:function(obj){return !!(obj&&Object.prototype.toString.call(obj)==="[object Array]");},getSerialNumber:function(){var id;id=dcxUniqueIndex;dcxUniqueIndex+=1;return id;},getRandomString:function(length,dataSet){var i,dataSetLength,defaultDataSet="ABCDEFGHJKLMNPQRSTUVWXYZ23456789",randomString="";if(!length){return randomString;}if(typeof dataSet!=="string"){dataSet=defaultDataSet;}for(i=0,dataSetLength=dataSet.length;i<length;i+=1){randomString+=dataSet.charAt(Math.floor(Math.random()*dataSetLength));}return randomString;},getValue:function(parentObj,propertyAsStr,defaultValue){var i,len,properties;defaultValue=typeof defaultValue==="undefined"?null:defaultValue;if(!parentObj||typeof parentObj!=="object"||typeof propertyAsStr!=="string"){return defaultValue;}properties=propertyAsStr.split(".");for(i=0,len=properties.length;i<len;i+=1){if(this.isUndefOrNull(parentObj)||typeof parentObj[properties[i]]==="undefined"){return defaultValue;}parentObj=parentObj[properties[i]];}return parentObj;},indexOf:function(array,item){var i,len;if(array&&array.indexOf){return array.indexOf(item);}if(array&&array instanceof Array){for(i=0,len=array.length;i<len;i+=1){if(array[i]===item){return i;}}}return -1;},forEach:function(array,callback,context){var i,len;if(!array||!array.length||!callback||!callback.call){return;}for(i=0,len=array.length;i<len;i+=1){callback.call(context,array[i],i,array);}},some:function(array,callback){var i,len,val=false;for(i=0,len=array.length;i<len;i+=1){val=callback(array[i],i,array);if(val){return val;}}return val;},convertToArray:function(items){var i=0,len=items.length,result=[];while(i<len){result.push(items[i]);i+=1;}return result;},mixin:function(dst){var prop,src,srcId,len;for(srcId=1,len=arguments.length;srcId<len;srcId+=1){src=arguments[srcId];for(prop in src){if(Object.prototype.hasOwnProperty.call(src,prop)){dst[prop]=src[prop];}}}return dst;},extend:function(deep,target,src){var prop="";for(prop in src){if(Object.prototype.hasOwnProperty.call(src,prop)){if(deep&&Object.prototype.toString.call(src[prop])==="[object Object]"){if(typeof target[prop]==="undefined"){target[prop]={};}this.extend(deep,target[prop],src[prop]);}else{target[prop]=src[prop];}}}return target;},clone:function(obj){var copy,attr;if(null===obj||"object"!==typeof obj){return obj;}if(obj instanceof Object){copy=(Object.prototype.toString.call(obj)==="[object Array]")?[]:{};for(attr in obj){if(Object.prototype.hasOwnProperty.call(obj,attr)){copy[attr]=this.clone(obj[attr]);}}return copy;}},parseVersion:function(version){var i,len,retval=[];if(!version||!version.length){return retval;}retval=version.split(".");for(i=0,len=retval.length;i<len;i+=1){retval[i]=/^[0-9]+$/.test(retval[i])?parseInt(retval[i],10):retval[i];}return retval;},isEqual:function(a,b){var i,isEqual,prop,swap,len;if(a===b){return true;}if(typeof a!==typeof b){return false;}if(a instanceof Object&&b instanceof Object){if(Object.prototype.toString.call(a)==="[object Array]"&&Object.prototype.toString.call(b)==="[object Array]"){if(a.length!==b.length){return false;}for(i=0,len=a.length;i<len;i+=1){if(!this.isEqual(a[i],b[i])){return false;}}return true;}if(Object.prototype.toString.call(a)==="[object Object]"&&Object.prototype.toString.call(b)==="[object Object]"){for(i=0;i<2;i+=1){for(prop in a){if(a.hasOwnProperty(prop)){if(!b.hasOwnProperty(prop)){return false;}isEqual=this.isEqual(a[prop],b[prop]);if(!isEqual){return false;}}}swap=a;a=b;b=swap;}return true;}}return false;},createObject:(function(){var fn=null,F=null;if(typeof Object.create==="function"){fn=Object.create;}else{F=function(){};fn=function(o){if(typeof o!=="object"&&typeof o!=="function"){throw new TypeError("Object prototype need to be an object!");}F.prototype=o;return new F();};}return fn;}()),access:function(path,rootObj){var obj=rootObj||window,arr,i,len;if(typeof path!=="string"||(typeof obj!=="object"&&obj!==null)){return;}arr=path.split(".");for(i=0,len=arr.length;i<len;i+=1){if(i===0&&arr[i]==="window"){continue;}if(!Object.prototype.hasOwnProperty.call(obj,arr[i])){return;}obj=obj[arr[i]];if(i<(len-1)&&!(obj instanceof Object)){return;}}return obj;},isNumeric:function(character){var retVal=false;if(utils.isUndefOrNull(character)||!(/\S/.test(character))){return retVal;}retVal=!isNaN(character*2);return retVal;},isUpperCase:function(character){return character===character.toUpperCase()&&character!==character.toLowerCase();},isLowerCase:function(character){return character===character.toLowerCase()&&character!==character.toUpperCase();},extractResponseHeaders:function(headers){var headersObj={},i,len,header=null;if(!headers||!headers.length){headers=[];}else{headers=headers.split("\n");}for(i=0,len=headers.length;i<len;i+=1){header=headers[i].split(": ");if(header.length===2){headersObj[header[0]]=header[1];}}return headersObj;},getTargetState:function(target){var tagnames={a:["innerText","href"],input:{range:["maxValue:max","value"],checkbox:["value","checked"],radio:["value","checked"],image:["src"]},select:["value"],button:["value","innerText"],textarea:["value"]},tagName=this.getTagName(target),properties=tagnames[tagName]||null,selectedOption=null,state=null,i=0,len=0,alias=null,key="";if(properties!==null){if(Object.prototype.toString.call(properties)==="[object Object]"){properties=properties[target.type]||["value"];}state={};for(key in properties){if(properties.hasOwnProperty(key)){if(properties[key].indexOf(":")!==-1){alias=properties[key].split(":");state[alias[0]]=target[alias[1]];}else{if(properties[key]==="innerText"){state[properties[key]]=this.trim(target.innerText||target.textContent);}else{state[properties[key]]=target[properties[key]];}}}}}if(tagName==="select"&&target.options&&!isNaN(target.selectedIndex)){state.index=target.selectedIndex;if(state.index>=0&&state.index<target.options.length){selectedOption=target.options[target.selectedIndex];state.value=selectedOption.getAttribute("value")||selectedOption.getAttribute("label")||selectedOption.text||selectedOption.innerText;state.text=selectedOption.text||selectedOption.innerText;}}return state;},getDocument:function(node){var doc=node;if(node&&node.nodeType!==9){if(node.getRootNode){doc=node.getRootNode();}else{doc=node.ownerDocument||node.document;}}return doc;},getWindow:function(node){try{if(node.self!==node){var ownerDocument=utils.getDocument(node);return(!utils.isUndefOrNull(ownerDocument.defaultView))?(ownerDocument.defaultView):(ownerDocument.parentWindow);}}catch(e){node=null;}return node;},getOriginAndPath:function(location){var retObj={},temp;location=location||window.location;if(location.origin){retObj.origin=location.origin;}else{retObj.origin=(location.protocol||"")+"//"+(location.host||"");}retObj.path=(location.pathname||"").split(";",1)[0];if(retObj.origin.indexOf("file://")>-1){temp=retObj.path.match(/(.*)(\/.*app.*)/);if(temp!==null){retObj.path=temp[2];}}return retObj;},getQueryString:function(str){try{str=str.replace("?","")+"";if(str.length){var s=str.split("&");var query={};var bit,first,second;for(var i=0;i<s.length;i++){bit=(s[i]).split("=");first=decodeURIComponent(bit[0]);if(first.length===0){continue;}second=decodeURIComponent(bit[1]);if(typeof query[first]==="undefined"){query[first]=second;}else{if(query[first] instanceof Array){query[first].push(second);}else{query[first]=[query[first],second];}}}return query;}}catch(e){return"";}},getIFrameWindow:function(iFrameElement){var contentWindow=null;if(!iFrameElement){return contentWindow;}try{contentWindow=iFrameElement.contentWindow||(iFrameElement.contentDocument?iFrameElement.contentDocument.parentWindow:null);}catch(e){}return contentWindow;},getTagName:function(node){var tagName="";if(utils.isUndefOrNull(node)){return tagName;}if(node===document||node.nodeType===9){tagName="document";}else{if(node===window||node===window.window){tagName="window";}else{if(typeof node==="string"){tagName=node.toLowerCase();}else{if(node.tagName){tagName=node.tagName.toLowerCase();}else{if(node.nodeName){tagName=node.nodeName.toLowerCase();}else{tagName="";}}}}}return tagName;},getDcType:function(node){var elementType,key,dcType="";if(utils.isUndefOrNull(node)||!node.type){return dcType;}elementType=node.type.toLowerCase();key=elementType+":";if(node.subType){key+=node.subType.toLowerCase();}dcType=dcTypes[key]||elementType;return dcType;},isIFrameDescendant:function(node){var nodeWindow=utils.getWindow(node);return(nodeWindow?(nodeWindow!=DCX._getLocalTop()):false);},getOrientationMode:function(orientation){var mode="INVALID";if(typeof orientation!=="number"){return mode;}switch(orientation){case 0:case 180:case 360:mode="PORTRAIT";break;case 90:case -90:case 270:mode="LANDSCAPE";break;default:mode="UNKNOWN";break;}return mode;},clog:(function(window){return function(){};}(window)),trim:function(str){if(!str||!str.toString){return str;}return str.toString().replace(/^\s+|\s+$/g,"");},ltrim:function(str){if(!str||!str.toString){return str;}return str.toString().replace(/^\s+/,"");},rtrim:function(str){if(!str||!str.toString){return str;}return str.toString().replace(/\s+$/,"");},setCookie:function(cookieName,cookieValue,maxAge,path,domain,secure){var i,len,domainArray,expiry,maxAgeStr="",pathStr,secureStr=secure?";secure":"";if(!cookieName){return;}cookieName=encodeURIComponent(cookieName);cookieValue=encodeURIComponent(cookieValue);domainArray=(domain||location.hostname).split(".");pathStr=";path="+(path||"/");if(typeof maxAge==="number"){if(this.isIE){expiry=new Date();expiry.setTime(expiry.getTime()+(maxAge*1000));maxAgeStr=";expires="+expiry.toUTCString();}else{maxAgeStr=";max-age="+maxAge;}}for(len=domainArray.length,i=(len===1?1:2);i<=len;i+=1){document.cookie=cookieName+"="+cookieValue+pathStr+maxAgeStr+secureStr;if(this.getCookieValue(cookieName)===cookieValue){break;}if(len===1){document.cookie=cookieName+"="+cookieValue+pathStr+maxAgeStr+secureStr;}}},getCookieValue:function(cookieName,cookieString){var i,len,cookie,cookies,cookieValue=null,cookieNameLen;try{cookieString=cookieString||document.cookie;if(!cookieName||!cookieName.toString){return null;}cookieName+="=";cookieNameLen=cookieName.length;cookies=cookieString.split(";");for(i=0,len=cookies.length;i<len;i+=1){cookie=cookies[i];cookie=utils.ltrim(cookie);if(cookie.indexOf(cookieName)===0){cookieValue=cookie.substring(cookieNameLen,cookie.length);break;}}}catch(e){cookieValue=null;}return cookieValue;},getQueryStringValue:function(paramName,queryDelim,queryString){var i,j,queryStringLen,paramValue=null,valueStartIndex;try{queryString=queryString||window.location.search;queryStringLen=queryString.length;if(!paramName||!paramName.toString||!queryStringLen){return null;}queryDelim=queryDelim||"&";queryString=queryDelim+queryString.substring(1);paramName=queryDelim+paramName+"=";i=queryString.indexOf(paramName);if(i!==-1){valueStartIndex=i+paramName.length;j=queryString.indexOf(queryDelim,valueStartIndex);if(j===-1){j=queryStringLen;}paramValue=decodeURIComponent(queryString.substring(valueStartIndex,j));}}catch(e){}return paramValue;},addEventListener:(function(){if(window.addEventListener){return function(element,eventName,listener){element.addEventListener(eventName,listener,false);};}return function(element,eventName,listener){element.attachEvent("on"+eventName,listener);};}()),matchTarget:function(rules,target){var i,j,domElement,matchIndex=-1,qr,qrLen,qrTarget,len,rule,scope=document;if(!rules||!target){return matchIndex;}if(!this.browserService||!this.browserBaseService){this.browserService=DCX.getService("browser");this.browserBaseService=DCX.getService("browserBase");}if(target.idType===-2){domElement=this.browserBaseService.getNodeFromID(target.id,target.idType);scope=this.getDocument(domElement);}for(i=0,len=rules.length;i<len&&matchIndex===-1;i+=1){rule=rules[i];if(typeof rule==="string"){qr=this.browserService.queryAll(rule,scope);for(j=0,qrLen=qr?qr.length:0;j<qrLen;j+=1){if(qr[j]){qrTarget=this.browserBaseService.ElementData.prototype.examineID(qr[j]);if(qrTarget.idType===target.idType&&qrTarget.id===target.id){matchIndex=i;break;}}}}else{if(rule&&rule.id&&rule.idType&&target.idType&&target.idType.toString()===rule.idType.toString()){switch(typeof rule.id){case"string":if(rule.id===target.id){matchIndex=i;}break;case"object":if(!rule.cRegex){rule.cRegex=new RegExp(rule.id.regex,rule.id.flags);}rule.cRegex.lastIndex=0;if(rule.cRegex.test(target.id)){matchIndex=i;}break;}}}}return matchIndex;},WeakMap:(function(){function index(data,key){var i,len;data=data||[];for(i=0,len=data.length;i<len;i+=1){if(data[i][0]===key){return i;}}return -1;}return function(){var data=[];this.set=function(key,val){var idx=index(data,key);data[idx>-1?idx:data.length]=[key,val];};this.get=function(key){var arr=data[index(data,key)];return(arr?arr[1]:undefined);};this.clear=function(){data=[];};this.has=function(key){return(index(data,key)>=0);};this.remove=function(key){var idx=index(data,key);if(idx>=0){data.splice(idx,1);}};this["delete"]=this.remove;};}())};if(typeof DCX==="undefined"||!DCX){window.DCX={};}DCX.utils=utils;}());(function(){DCX.EventTarget=function(){this._handlers={};};DCX.EventTarget.prototype={constructor:DCX.EventTarget,publish:function(name,data){var i=0,len=0,handlers=this._handlers[name],event={type:name,data:data};if(typeof handlers!=="undefined"){for(len=handlers.length;i<len;i+=1){handlers[i](event);}}},subscribe:function(name,handler){if(!this._handlers.hasOwnProperty(name)){this._handlers[name]=[];}this._handlers[name].push(handler);},unsubscribe:function(name,handler){var i=0,len=0,handlers=this._handlers[name];if(handlers){for(len=handlers.length;i<len;i+=1){if(handlers[i]===handler){handlers.splice(i,1);return;}}}}};}());DCX.ModuleContext=(function(){var methodsToExpose=["broadcast","getConfig:getModuleConfig","listen","post","getXPathFromNode","performDOMCapture","performFormCompletion","isInitialized","getStartTime","normalizeUrl"];return function(moduleName,core){var context={},i=0,len=methodsToExpose.length,parts=null,coreMethod=null,contextMethod=null;for(i=0;i<len;i+=1){parts=methodsToExpose[i].split(":");if(parts.length>1){contextMethod=parts[0];coreMethod=parts[1];}else{contextMethod=parts[0];coreMethod=parts[0];}context[contextMethod]=(function(coreMethod){return function(){var args=core.utils.convertToArray(arguments);args.unshift(moduleName);return core[coreMethod].apply(core,args);};}(coreMethod));}context.utils=core.utils;return context;};}());DCX.addService("config",function(core){function mergeConfig(oldConf,newConf){core.utils.extend(true,oldConf,newConf);configService.publish("configupdated",configService.getConfig());}var config={core:{},modules:{},services:{}},configService=core.utils.extend(false,core.utils.createObject(new DCX.EventTarget()),{getConfig:function(){return config;},updateConfig:function(newConf){mergeConfig(config,newConf);},getCoreConfig:function(){return config.core;},updateCoreConfig:function(newConf){mergeConfig(config.core,newConf);},getServiceConfig:function(serviceName){return config.services[serviceName]||{};},updateServiceConfig:function(serviceName,newConf){if(typeof config.services[serviceName]==="undefined"){config.services[serviceName]={};}mergeConfig(config.services[serviceName],newConf);},getModuleConfig:function(moduleName){return config.modules[moduleName]||{};},updateModuleConfig:function(moduleName,newConf){if(typeof config.modules[moduleName]==="undefined"){config.modules[moduleName]={};}mergeConfig(config.modules[moduleName],newConf);},destroy:function(){config={core:{},modules:{},services:{}};}});return configService;});DCX.addService("queue",function(core){var utils=core.utils,CONFIG=null,coreConfig={},inactivityTimeout=1500000,aS=core.getService("ajax"),bS=core.getService("browser"),eS=core.getService("encoder"),sS=core.getService("serializer"),cS=core.getService("config"),mS=core.getService("message"),defaultQueue=null,queueTimers={},autoFlushing=true,delayFlushOnClick=true,msgCounter={5:{limit:300,count:0},6:{limit:400,count:0}},xhrLog=[],isInitialized=false,queueManager=(function(){var queues={};function queueExists(queueId){return typeof queues[queueId]!=="undefined";}function addQueue(queueId,opts){if(!queueExists(queueId)){queues[queueId]={lastOffset:0,data:[],queueId:queueId,url:opts.url,eventThreshold:opts.eventThreshold,sizeThreshold:opts.sizeThreshold||0,timerInterval:opts.timerInterval,size:-1,serializer:opts.serializer,encoder:opts.encoder,crossDomainEnabled:!!opts.crossDomainEnabled,crossDomainIFrame:opts.crossDomainIFrame};}return queues[queueId];}function removeQueue(queueId){if(queueExists(queueId)){delete queues[queueId];}}function getQueue(queueId){if(queueExists(queueId)){return queues[queueId];}return null;}function clearQueue(queueId){var queue=getQueue(queueId);if(queue!==null){queue.data=[];}}function flushQueue(queueId){var data=null;if(queueExists(queueId)){data=getQueue(queueId).data;clearQueue(queueId);}return data;}function pushToQueue(queueId,data){var queue=null,dataStr=null,bridgeAndroid=window.dcBridge,bridgeiOS=window.iOSJSONShuttle;try{dataStr=sS.serialize(data);}catch(e){dataStr="Serialization failed: "+(e.name?e.name+" - ":"")+e.message;data={error:dataStr};}if((typeof bridgeAndroid!=="undefined")&&(typeof bridgeAndroid.addMessage==="function")){bridgeAndroid.addMessage(dataStr);}else{if((typeof bridgeiOS!=="undefined")&&(typeof bridgeiOS==="function")){bridgeiOS(dataStr);}else{if(queueExists(queueId)){queue=getQueue(queueId);queue.data.push(data);DCX.registerBridgeCallbacks([{enabled:true,cbType:"messageRedirect",cbFunction:function(msg,msgObj){var screenviewPath=(msgObj&&msgObj.screenViewPath);if(DCX.isScreenviewBlockList(screenviewPath)){return;}return msgObj;}}]);queue.data=core.redirectQueue(queue.data);if(queue.sizeThreshold){dataStr=sS.serialize(queue.data);queue.size=dataStr.length;}return queue.data.length;}}}return 0;}return{exists:queueExists,add:addQueue,remove:removeQueue,reset:function(){queues={};},get:getQueue,clear:clearQueue,flush:flushQueue,push:pushToQueue};}());function handleXhrCallback(result){if(result&&result.id){utils.extend(true,xhrLog[result.id-1],{xhrRspEnd:mS.createMessage({type:0}).offset,success:result.success,statusCode:result.statusCode,statusText:result.statusText});}}function getUrlPath(){return window.location.pathname;}function addHeaderToQueue(queueId,headerName,headerValue,recurring){var queue=queueManager.get(queueId),header={name:headerName,value:headerValue},qHeadersList=null;if(typeof headerName!=="string"||typeof headerValue!=="string"){return;}if(!queue.headers){queue.headers={once:[],always:[]};}qHeadersList=!!recurring?queue.headers.always:queue.headers.once;qHeadersList.push(header);}function copyHeaders(queueId,headerObj){var i=0,len=0,queue=queueManager.get(queueId),qHeaders=queue.headers,headersList=null;headerObj=headerObj||{};function copy(l,o){var i=0,len=0,header=null;for(i=0,len=l.length;i<len;i+=1){header=l[i];o[header.name]=header.value;}}if(qHeaders){headersList=[qHeaders.always,qHeaders.once];for(i=0,len=headersList.length;i<len;i+=1){copy(headersList[i],headerObj);}}return headerObj;}function clearHeaders(queueId){var queue=null,qHeaders=null;if(!queueManager.exists(queueId)){throw new Error("Queue: "+queueId+" does not exist!");}queue=queueManager.get(queueId);qHeaders=queue?queue.headers:null;if(qHeaders){qHeaders.once=[];}}function getExternalRequestHeaders(){var i=0,len,header,headers=core.provideRequestHeaders();if(headers&&headers.length){for(i=0,len=headers.length;i<len;i+=1){header=headers[i];addHeaderToQueue("DEFAULT",header.name,header.value,header.recurring);}}return i;}function getMessageTypes(data){var i,len,types=[],typesString="";if(!data||!data.length){return typesString;}for(i=0,len=data.length;i<len;i+=1){types[data[i].type]=true;}for(i=0,len=types.length;i<len;i+=1){if(types[i]){if(typesString){typesString+=",";}typesString+=i;}}return typesString;}function flushQueue(queueId,sync){var queue=queueManager.get(queueId),data=queue.url?queueManager.flush(queueId):null,count=data?data.length:0,httpHeaders={"Content-Type":"application/json","X-PageId":core.getPageId(),"X-Discover":"device (UIC) Lib/12.1.10","X-DiscoverType":"GUI","X-Discover-Page-Url":getUrlPath(),"X-Discover-SyncXHR":(!!sync).toString()},messageId=null,currOffset=mS.createMessage({type:0}).offset,serializer=queue.serializer||"json",contentEncoder=queue.encoder,requestData,retObj,timeDiff,unloading=core.getState()==="unloading",xdomainFrameWindow=null,dcxWorker=CONFIG.dcxWorker||null;if(!count||!queue){return;}timeDiff=currOffset-data[count-1].offset;if(timeDiff>(inactivityTimeout+60000)){return;}queue.lastOffset=data[count-1].offset;httpHeaders["X-Discover-MessageTypes"]=getMessageTypes(data);data=mS.wrapMessages(data);if(CONFIG.xhrLogging){messageId=data.serialNumber;xhrLog[messageId-1]={serialNumber:messageId,xhrReqStart:currOffset};data.log={xhr:xhrLog};}getExternalRequestHeaders();copyHeaders(queueId,httpHeaders);function handleWorkerError(){var jMsg={state:false,error:"Failed to load worker file."};DCX.logCustomEvent("workerStatus",jMsg,6);CONFIG.dcxWorker=null;dcxWorker=null;DCX.setWorkerStatus(false);}function loadWorker(){return new Promise(function(resolve,reject){dcxWorker.onerror=function(error){handleWorkerError();};dcxWorker.onmessageerror=function(error){handleWorkerError();};dcxWorker.onmessage=function(event){var result;result=event.data;handleXhrCallback(result);};});}if(dcxWorker&&!DCX.getWorkerStatus()){loadWorker().then(function(){console.log("Worker successfully loaded");workerLoaded=true;DCX.setWorkerStatus(true);});}if(dcxWorker&&!(sync||unloading)){dcxWorker.postMessage({id:messageId,url:queue.url,headers:httpHeaders,data:data,isUnloading:unloading});}else{if(serializer){data=sS.serialize(data,serializer);}if(contentEncoder){retObj=eS.encode(data,contentEncoder);if(retObj){if(retObj.data&&!retObj.error){data=retObj.data;httpHeaders["Content-Encoding"]=retObj.encoding;}else{data=retObj.error;}}}if(queue.crossDomainEnabled){xdomainFrameWindow=utils.getIFrameWindow(queue.crossDomainIFrame);if(!xdomainFrameWindow){return;}requestData={request:{id:messageId,url:queue.url,async:!sync,headers:httpHeaders,data:data}};if(!utils.isIE&&typeof window.postMessage==="function"){xdomainFrameWindow.postMessage(requestData,queue.crossDomainIFrame.src);}else{try{xdomainFrameWindow.sendMessage(requestData);}catch(e){return;}}}else{aS.sendRequest({id:messageId,oncomplete:handleXhrCallback,url:queue.url,async:!sync,isUnloading:unloading,headers:httpHeaders,data:data});}}clearHeaders(queueId);}function flushAll(sync){var conf=null,queues=CONFIG.queues,i=0;try{if(queues&&queues.length&&queues.length>0){for(i=0;i<queues.length;i+=1){conf=queues[i];flushQueue(conf.qid,sync);}return true;}}catch(error){return false;}}function addToQueue(queueId,data){var len,msg=mS.createMessage(data),queue=queueManager.get(queueId),size,timeDiff,currWebEvent;len=queue.data.length;if(len){timeDiff=msg.offset-queue.data[len-1].offset;if(timeDiff>inactivityTimeout){queueManager.flush(queueId);var jMsg={destroyedReason:"UIC destroyed while  Safety check to ensure the data to be added is not stale beyond the inactivity timeout.",destroyedBy:"queueManager"};DCX.setState("addToQueue",jMsg);core.destroy();return;}}len=queueManager.push(queueId,msg);size=queue.size;if((len>=queue.eventThreshold||size>=queue.sizeThreshold)&&autoFlushing&&core.getState()!=="unloading"){currWebEvent=core.getCurrentWebEvent();if(currWebEvent.type==="click"&&core.getState()=="unloading"&&len>0){if(delayFlushOnClick){delayFlushOnClick=false;window.setTimeout(function(){if(queueManager.exists(queueId)){flushQueue(queueId);delayFlushOnClick=true;}},500);}}else{flushQueue(queueId);}}}function isMsgLimitReached(e){var counter,retVal=false;if(!e||!e.type){return true;}counter=msgCounter[e.type];if(counter){counter.count+=1;if(counter.count>counter.limit){retVal=true;if(counter.count===counter.limit+1){addToQueue("DEFAULT",{type:16,dataLimit:{messageType:e.type,maxCount:counter.limit}});}}}return retVal;}function getQueueId(moduleName){var conf=null,queues=CONFIG.queues,module="",i=0,j=0;for(i=0;i<queues.length;i+=1){conf=queues[i];if(conf&&conf.modules){for(j=0;j<conf.modules.length;j+=1){module=conf.modules[j];if(module===moduleName){return conf.qid;}}}}return defaultQueue.qid;}function setFlushTimer(qid,interval){queueTimers[qid]=window.setTimeout(function tick(){flushQueue(qid);queueTimers[qid]=window.setTimeout(tick,interval);},interval);}function clearFlushTimer(qid){var cleared=false;if(qid&&queueTimers[qid]){window.clearTimeout(queueTimers[qid]);delete queueTimers[qid];cleared=true;}return cleared;}function clearAllFlushTimers(){var key=0;for(key in queueTimers){if(queueTimers.hasOwnProperty(key)){clearFlushTimer(key);}}queueTimers={};}function resetFlushTimer(qid){var queue;if(!qid){return;}if(clearFlushTimer(qid)){queue=queueManager.get(qid);if(queue.timerInterval){setFlushTimer(qid,queue.timerInterval);}}}function handleConfigUpdated(newConf){}function initQueueService(config){CONFIG=config;coreConfig=core.getCoreConfig();inactivityTimeout=utils.getValue(coreConfig,"inactivityTimeout",600000);utils.forEach(CONFIG.queues,function(conf,i){var crossDomainIFrame=null;if(conf.qid==="DEFAULT"){defaultQueue=conf;}if(conf.crossDomainEnabled){crossDomainIFrame=bS.query(conf.crossDomainFrameSelector);if(!crossDomainIFrame){core.fail("Cross domain iframe not found");}}queueManager.add(conf.qid,{url:conf.endpoint,eventThreshold:conf.maxEvents,sizeThreshold:conf.maxSize||0,serializer:conf.serializer,encoder:conf.encoder,timerInterval:conf.timerInterval||0,crossDomainEnabled:conf.crossDomainEnabled||false,crossDomainIFrame:crossDomainIFrame});if(typeof conf.timerInterval!=="undefined"&&conf.timerInterval>0){setFlushTimer(conf.qid,conf.timerInterval);}});cS.subscribe("configupdated",handleConfigUpdated);isInitialized=true;}function destroy(){if(autoFlushing){flushAll(!CONFIG.asyncReqOnUnload);}cS.unsubscribe("configupdated",handleConfigUpdated);clearAllFlushTimers();queueManager.reset();CONFIG=null;defaultQueue=null;isInitialized=false;}return{init:function(){if(!isInitialized){initQueueService(cS.getServiceConfig("queue")||{});}else{}},destroy:function(){destroy();},_getQueue:function(qid){return queueManager.get(qid).data;},setAutoFlush:function(flag){if(flag===true){autoFlushing=true;}else{autoFlushing=false;}},flush:function(queueId){queueId=queueId||defaultQueue.qid;if(!queueManager.exists(queueId)){throw new Error("Queue: "+queueId+" does not exist!");}flushQueue(queueId);},flushAll:function(sync){return flushAll(!!sync);},post:function(moduleName,queueEvent,queueId){if(!core.isInitialized()){return;}queueId=queueId||getQueueId(moduleName);if(!queueManager.exists(queueId)){return;}if(!isMsgLimitReached(queueEvent)){addToQueue(queueId,queueEvent);}},resetFlushTimer:function(queueId){queueId=queueId||defaultQueue.qid;if(!queueManager.exists(queueId)){return;}resetFlushTimer(queueId);}};});DCX.addService("browserBase",function(core){var customEventList,utils=core.utils,nonClickableTags={optgroup:true,option:true,nobr:true},queryDom={},configService,serializerService=null,config,blacklist,customid,getXPathListFromNode,isInitialized=false;function updateConfig(){configService=core.getService("config");serializerService=core.getService("serializer");config=configService?configService.getServiceConfig("browser"):{};blacklist=config.hasOwnProperty("blacklist")?config.blacklist:[];customid=config.hasOwnProperty("customid")?config.customid:[];}function initBrowserBase(){updateConfig();if(configService){configService.subscribe("configupdated",updateConfig);}isInitialized=true;}function destroy(){if(configService){configService.unsubscribe("configupdated",updateConfig);}isInitialized=false;}function checkId(node){var i,len,re;if(!node||!node.id||typeof node.id!=="string"){return false;}for(i=0,len=blacklist.length;i<len;i+=1){if(typeof blacklist[i]==="string"){if(node.id===blacklist[i]){return false;}}else{if(typeof blacklist[i]==="object"){if(!blacklist[i].cRegex){blacklist[i].cRegex=new RegExp(blacklist[i].regex,blacklist[i].flags);}blacklist[i].cRegex.lastIndex=0;if(blacklist[i].cRegex.test(node.id)){return false;}}}}return true;}function getEventType(event,target){var returnObj={type:null,subType:null},type;if(!event){return returnObj;}type=event.type;switch(type){case"focusin":type="focus";break;case"focusout":type="blur";break;default:break;}returnObj.type=type;return returnObj;}function getElementType(element){var returnObj={type:null,subType:null};if(!element){return returnObj;}returnObj.type=utils.getTagName(element);returnObj.subType=element.type||null;return returnObj;}function getNodeFromID(selector,type,scope){var idTypes={HTML_ID:"-1",XPATH_ID:"-2",ATTRIBUTE_ID:"-3"},doc,node=null,parts;if(!selector||!type){return node;}doc=scope||window.document;type=type.toString();if(type===idTypes.HTML_ID){if(doc.getElementById){node=doc.getElementById(selector);}else{if(doc.querySelector){node=doc.querySelector("#"+selector);}}}else{if(type===idTypes.ATTRIBUTE_ID){parts=selector.split("=");if(doc.querySelector){node=doc.querySelector("["+parts[0]+'="'+parts[1]+'"]');}}else{if(type===idTypes.XPATH_ID){node=queryDom.xpath(selector,doc);}}}return node;}getXPathListFromNode=(function(){var specialChildNodes={nobr:true,p:true};return function(node,wantFullPath){var i,j,documentElement=document.documentElement,idValid=false,tmpChild=null,parentWindow=null,parentNode=null,xpath=[],xpathComponent,loop=true,localTop=core._getLocalTop(),tagName="",setHost=false,shadowRoot;while(loop){loop=false;tagName=utils.getTagName(node);if(tagName&&!setHost){if(specialChildNodes[tagName]){node=node.parentNode;loop=true;continue;}}for(idValid=checkId(node);node&&[1,9].indexOf(node.nodeType)>-1&&node!==document&&(wantFullPath||!idValid);idValid=checkId(node)){parentNode=node.parentNode;if(!parentNode){parentWindow=utils.getWindow(node);if(!parentWindow){return xpath;}parentNode=(parentWindow!==localTop)?parentWindow.frameElement:documentElement;}tmpChild=parentNode.firstChild;if(!tmpChild){xpath.push(["XPath Error(1)"]);node=null;break;}for(j=0;tmpChild;tmpChild=tmpChild.nextSibling){if(tmpChild.nodeType===1&&utils.getTagName(tmpChild)===tagName){if(tmpChild===node){xpathComponent=[tagName,j];if(setHost){xpathComponent.push("h");setHost=false;}xpath[xpath.length]=xpathComponent;break;}j+=1;}}if(parentNode.nodeType===11){node=parentNode.host;setHost=true;}else{node=parentNode;}tagName=utils.getTagName(node);}if(idValid&&!wantFullPath){xpathComponent=[node.id];if(setHost){xpathComponent.push("h");setHost=false;}xpath[xpath.length]=xpathComponent;if(utils.isIFrameDescendant(node)){loop=true;node=utils.getWindow(node).frameElement;}else{try{if(!documentElement.contains(node)){loop=true;shadowRoot=node.getRootNode();node=shadowRoot.host;setHost=true;}}catch(e){}}}}return xpath.reverse();};}());function xpathListToString(list){var str="null";if(!list||!list.length){return str;}str=serializerService.serialize(list,"json");return str;}function getXPathFromNode(node,wantFullPath,wantObject){var retVal,xpath;xpath=getXPathListFromNode(node,!!wantFullPath);if(wantObject){retVal=xpath;}else{retVal=xpathListToString(xpath);}return retVal;}function getDocScrollPosition(doc){var scrollPos={left:-1,top:-1},docElement;doc=doc||document;docElement=doc.documentElement||doc.body.parentNode||doc.body;scrollPos.left=Math.round((typeof window.pageXOffset==="number")?window.pageXOffset:docElement.scrollLeft);scrollPos.top=Math.round((typeof window.pageYOffset==="number")?window.pageYOffset:docElement.scrollTop);return scrollPos;}function isJQueryEvent(event){return event&&typeof event.originalEvent!=="undefined"&&typeof event.isDefaultPrevented!=="undefined"&&!event.isSimulated;}function getEventDetails(event){if(!event){return null;}if(event.type&&event.type.indexOf("touch")===0){if(isJQueryEvent(event)){event=event.originalEvent;}if(event.type==="touchstart"){event=event.touches[event.touches.length-1];}else{if(event.type==="touchend"){event=event.changedTouches[0];}}}return event;}function normalizeEvent(event){var e=event||window.event,doc=document.documentElement,body=document.body,found=false,foundElement=null,i=0;if(isJQueryEvent(e)){e=e.originalEvent;}if(typeof event==="undefined"||typeof e.target==="undefined"){e.target=e.srcElement||window.window;e.timeStamp=Number(new Date());if(e.pageX===null||typeof e.pageX==="undefined"){e.pageX=e.clientX+((doc&&doc.scrollLeft)||(body&&body.scrollLeft)||0)-((doc&&doc.clientLeft)||(body&&body.clientLeft)||0);e.pageY=e.clientY+((doc&&doc.scrollTop)||(body&&body.scrollTop)||0)-((doc&&doc.clientTop)||(body&&body.clientTop)||0);}e.preventDefault=function(){this.returnValue=false;};e.stopPropagation=function(){this.cancelBubble=true;};}if(window.chrome&&e.path!==undefined&&e.type==="click"){if(e.path.length===undefined){return e;}for(i=0;i<e.path.length;i++){if(utils.getTagName(e.path[i])==="button"){found=true;foundElement=e.path[i];i=e.path.length;}}if(found){return{originalEvent:e,target:foundElement,srcElement:foundElement,type:e.type,pageX:document.body.scrollLeft+foundElement.getBoundingClientRect().left,pageY:document.body.scrollTop+foundElement.getBoundingClientRect().top};}}return e;}function normalizeTarget(event){var i,len,eventPath,target=null;if(!event||!event.type){return null;}if(event.type.indexOf("touch")===0){target=getEventDetails(event).target;}else{if(typeof event.composedPath==="function"){eventPath=event.composedPath();if(eventPath&&eventPath.length){target=eventPath[0];for(i=0,len=eventPath.length;i<len;i+=1){if(utils.getTagName(eventPath[i])==="a"){target=eventPath[i];break;}}}else{target=event.target||window.window;}}else{if(event.srcElement){target=event.srcElement;}else{target=event.target;}}}while(target&&nonClickableTags[utils.getTagName(target)]){if(target.parentElement){target=target.parentElement;}else{break;}}return target;}function getEventPosition(event){var posX=0,posY=0,doc=document.documentElement,body=document.body;event=getEventDetails(event);if(event){if(event.pageX||event.pageY){posX=event.pageX;posY=event.pageY;}else{if(event.clientX||event.clientY){posX=event.clientX+(doc?doc.scrollLeft:(body?body.scrollLeft:0))-(doc?doc.clientLeft:(body?body.clientLeft:0));posY=event.clientY+(doc?doc.scrollTop:(body?body.scrollTop:0))-(doc?doc.clientTop:(body?body.clientTop:0));}}}return{x:posX,y:posY};}queryDom.xpath=function(query,scope){var xpath=null,elem,pathElem=null,pathElemIsHost=false,tagName,i,j,k,len,jlen;if(!query){return null;}xpath=serializerService.parse(query);scope=scope||document;elem=scope;if(!xpath){return null;}for(i=0,len=xpath.length;i<len&&elem;i+=1){pathElem=xpath[i];pathElemIsHost=pathElem.length>1&&pathElem[pathElem.length-1]==="h";if(pathElem.length===1||(pathElem.length===2&&pathElemIsHost)){if(scope.getElementById){elem=scope.getElementById(pathElem[0]);}else{if(scope.querySelector){elem=scope.querySelector("#"+pathElem[0]);}else{elem=null;}}}else{for(j=0,k=-1,jlen=elem.childNodes.length;j<jlen;j+=1){if(elem.childNodes[j].nodeType===1&&utils.getTagName(elem.childNodes[j])===pathElem[0].toLowerCase()){k+=1;if(k===pathElem[1]){elem=elem.childNodes[j];break;}}}if(k!==pathElem[1]){return null;}}if(!elem){return null;}if(pathElemIsHost){if(i<len-1){if(!elem.shadowRoot){return null;}elem=elem.shadowRoot;scope=elem;}}tagName=utils.getTagName(elem);if(tagName==="frame"||tagName==="iframe"){elem=utils.getIFrameWindow(elem).document;scope=elem;}}return(elem===scope||!elem)?null:elem;};function Point(x,y){this.x=Math.round(x||0);this.y=Math.round(y||0);}function Size(width,height){this.width=Math.round(width||0);this.height=Math.round(height||0);}function ElementData(event,target){var id,elementType,pos;target=normalizeTarget(event);id=this.examineID(target);elementType=getElementType(target);pos=this.examinePosition(event,target);this.element=target;this.id=id.id;this.idType=id.idType;this.type=elementType.type;this.subType=elementType.subType;this.state=this.examineState(target);this.position=new Point(pos.x,pos.y);this.size=new Size(pos.width,pos.height);this.xPath=id.xPath;this.name=id.name;}ElementData.HTML_ID=-1;ElementData.XPATH_ID=-2;ElementData.ATTRIBUTE_ID=-3;ElementData.prototype.examineID=function(target,notInDocument){var retObj={id:"",idType:0,xPath:"",name:""},i=customid.length,attrib,documentElement=document.documentElement,containsTarget;if(!target){return retObj;}retObj.xPath=getXPathFromNode(target);retObj.name=target.name;try{containsTarget=typeof documentElement.contains==="function"?documentElement.contains(target):true;if((containsTarget||notInDocument)&&(!utils.getWindow(target)||!utils.isIFrameDescendant(target))){if(checkId(target)){retObj.id=target.id;retObj.idType=ElementData.HTML_ID;}else{if(customid.length&&target.attributes){while(i){i-=1;attrib=target.attributes[customid[i]];if(typeof attrib!=="undefined"){retObj.id=customid[i]+"="+(attrib.value||attrib);retObj.idType=ElementData.ATTRIBUTE_ID;}}}}}}catch(e){}if(!retObj.id){retObj.id=retObj.xPath;if(retObj.id!=="null"){retObj.idType=ElementData.XPATH_ID;}}return retObj;};ElementData.prototype.examineState=function(target){return utils.getTargetState(target);};function getZoomValue(){var factor=1,rect,physicalW,logicalW;if(document.body.getBoundingClientRect){try{rect=document.body.getBoundingClientRect();}catch(e){return factor;}physicalW=rect.right-rect.left;logicalW=document.body.offsetWidth;factor=Math.round((physicalW/logicalW)*100)/100;}return factor;}function getBoundingClientRectNormalized(element){var rect,rectangle,zoom,scrollPos;if(!element||!element.getBoundingClientRect){return{x:0,y:0,width:0,height:0};}try{rect=element.getBoundingClientRect();scrollPos=getDocScrollPosition(document);}catch(e){return{x:0,y:0,width:0,height:0};}rectangle={x:rect.left+scrollPos.left,y:rect.top+scrollPos.top,width:rect.right-rect.left,height:rect.bottom-rect.top};if(utils.isIE){rectangle.x-=document.documentElement.clientLeft;rectangle.y-=document.documentElement.clientTop;zoom=getZoomValue();if(zoom!==1){rectangle.x=Math.round(rectangle.x/zoom);rectangle.y=Math.round(rectangle.y/zoom);rectangle.width=Math.round(rectangle.width/zoom);rectangle.height=Math.round(rectangle.height/zoom);}}return rectangle;}ElementData.prototype.examinePosition=function(event,target){var posOnDoc=getEventPosition(event),elPos=getBoundingClientRectNormalized(target);elPos.x=(posOnDoc.x||posOnDoc.y)?Math.round(Math.abs(posOnDoc.x-elPos.x)):elPos.width/2;elPos.y=(posOnDoc.x||posOnDoc.y)?Math.round(Math.abs(posOnDoc.y-elPos.y)):elPos.height/2;return elPos;};function getNormalizedOrientation(){var orientation=(typeof window.orientation==="number")?window.orientation:0;if(utils.isLandscapeZeroDegrees){if(Math.abs(orientation)===180||Math.abs(orientation)===0){orientation=90;}else{if(Math.abs(orientation)===90){orientation=0;}}}return orientation;}function initCustomEventList(list){var i,len,coreConfig,event,modules,moduleName;if(list){return list;}coreConfig=core.getCoreConfig()||{};modules=coreConfig.modules;list={};for(moduleName in modules){if(modules.hasOwnProperty(moduleName)&&modules[moduleName].events){for(i=0,len=modules[moduleName].events.length;i<len;i+=1){event=modules[moduleName].events[i];if(event.state){list[event.name]=event.state;}}}}return list;}function getCustomState(event){var state;customEventList=initCustomEventList(customEventList);if(customEventList[event.type]){state=utils.getValue(event,customEventList[event.type],null);}return state;}function WebEvent(event){var pos,eventType,state;this.data=event.data||null;this.delegateTarget=event.delegateTarget||null;if(event.gesture||(event.originalEvent&&event.originalEvent.gesture)){this.gesture=event.gesture||event.originalEvent.gesture;this.gesture.idType=(new ElementData(this.gesture,this.gesture.target)).idType;}event=normalizeEvent(event);pos=getEventPosition(event);this.custom=false;this.nativeEvent=this.custom===true?null:event;this.position=new Point(pos.x,pos.y);this.target=new ElementData(event,event.target);this.orientation=getNormalizedOrientation();state=getCustomState(event);if(state){this.target.state=state;}this.timestamp=(new Date()).getTime();eventType=getEventType(event,this.target);this.type=eventType.type;this.subType=eventType.subType;}function processDOMEvent(event){if(core.isInitialized()){core._publishEvent(new WebEvent(event));}else{}}function Xpath(node){var fullXpath="",fullXpathList=[],topElem,xpath="",xpathList=[];if(!(this instanceof Xpath)){return null;}if(typeof node!=="object"||!node.nodeType){this.fullXpath="";this.xpath="";this.fullXpathList=[];this.xpathList=[];return;}if(node.nodeType===3){node=node.parentElement;}xpathList=getXPathListFromNode(node,false);topElem=xpathList[0];if(xpathList.length&&(topElem.length===1||(topElem.length===2&&topElem[1]==="h"))){fullXpathList=getXPathListFromNode(node,true);}else{fullXpathList=utils.clone(xpathList);}this.xpath=xpathListToString(xpathList);this.xpathList=xpathList;this.fullXpath=xpathListToString(fullXpathList);this.fullXpathList=fullXpathList;this.applyPrefix=function(prefix){var part,lastPrefixPart;if(!(prefix instanceof Xpath)||!prefix.fullXpathList.length){return;}lastPrefixPart=prefix.fullXpathList[prefix.fullXpathList.length-1];part=this.fullXpathList.shift();if(utils.isEqual(part[0],lastPrefixPart[0])){this.fullXpathList=prefix.fullXpathList.concat(this.fullXpathList);}else{this.fullXpathList.unshift(part);return;}this.fullXpath=xpathListToString(this.fullXpathList);part=this.xpathList.shift();if(part.length===1){this.xpathList.unshift(part);return;}this.xpathList=prefix.xpathList.concat(this.xpathList);this.xpath=xpathListToString(this.xpathList);};this.compare=function(xpathB){if(!(xpathB instanceof Xpath)){return 0;}return(this.fullXpathList.length-xpathB.fullXpathList.length);};this.isSame=function(xpathB){var isEqual=false;if(!(xpathB instanceof Xpath)){return isEqual;}if(this.compare(xpathB)===0){isEqual=(this.fullXpath===xpathB.fullXpath);}return isEqual;};this.containedIn=function(parentXpath,ignoreShadows){var i,j,len,tmpNode;if(!(parentXpath instanceof Xpath)){return false;}if(parentXpath.fullXpathList.length>this.fullXpathList.length){return false;}for(i=0,len=parentXpath.fullXpathList.length;i<len;i+=1){if(!utils.isEqual(parentXpath.fullXpathList[i],this.fullXpathList[i])){return false;}}if(!ignoreShadows){for(j=i,len=this.fullXpathList.length;j<len;j+=1){tmpNode=this.fullXpathList[j];if(tmpNode[tmpNode.length-1]==="h"){return false;}}}return true;};}Xpath.prototype=(function(){return{};}());return{init:function(){if(!isInitialized){initBrowserBase();}else{}},destroy:function(){destroy();},WebEvent:WebEvent,ElementData:ElementData,Xpath:Xpath,processDOMEvent:processDOMEvent,getNormalizedOrientation:getNormalizedOrientation,getXPathFromNode:function(moduleName,node,wantFullPath,wantObject){return getXPathFromNode(node,wantFullPath,wantObject);},getNodeFromID:getNodeFromID,queryDom:queryDom};});DCX.addService("browser",function(core){var utils=core.utils,configService=core.getService("config"),browserBaseService=core.getService("browserBase"),ajaxService=core.getService("ajax"),addEventListener=null,removeEventListener=null,serviceConfig=configService?configService.getServiceConfig("browser"):{},useCapture=utils.getValue(serviceConfig,"useCapture",true),isInitialized=false,errorCodes={NO_QUERY_SELECTOR:"NOQUERYSELECTOR"},wrapWebEvent=function(handler){return function(event){var webEvent=new browserBaseService.WebEvent(event);if(event.type==="resize"||event.type==="hashchange"){setTimeout(function(){handler(webEvent);},5);}else{handler(webEvent);}};},queryDom={list2Array:function(nodeList){var len=nodeList.length,result=[],i;if(typeof nodeList.length==="undefined"){return[nodeList];}for(i=0;i<len;i+=1){result[i]=nodeList[i];}return result;},find:function(query,scope,type){type=type||"css";return this.list2Array(this[type](query,scope));},css:function(query,scope){var self=this,message=null,bodyEl=document.getElementsByTagName("body")[0],jQuery=serviceConfig.jQueryObject?utils.access(serviceConfig.jQueryObject):window.jQuery,sizzle=serviceConfig.sizzleObject?utils.access(serviceConfig.sizzleObject):window.Sizzle;if(typeof document.querySelectorAll==="undefined"){self.css=function(query,scope){scope=scope||document;return self.Sizzle(query,scope);};if(typeof self.Sizzle==="undefined"){try{if(bodyEl===sizzle("html > body",document)[0]){self.Sizzle=sizzle;}}catch(e1){try{if(bodyEl===jQuery(document).find("html > body").get()[0]){self.Sizzle=function(query,scope){return jQuery(scope).find(query).get();};}}catch(e2){core.fail("Neither querySelectorAll nor Sizzle was found.",errorCodes.NO_QUERY_SELECTOR);}}}}else{self.css=function(query,scope){scope=scope||document;return scope.querySelectorAll(query);};}return self.css(query,scope);}},handlerMappings=(function(){var data=new utils.WeakMap();return{add:function(originalHandler){var handlers=data.get(originalHandler)||[wrapWebEvent(originalHandler),0];handlers[1]+=1;data.set(originalHandler,handlers);return handlers[0];},find:function(originalHandler){var handlers=data.get(originalHandler);return handlers?handlers[0]:null;},remove:function(originalHandler){var handlers=data.get(originalHandler);if(handlers){handlers[1]-=1;if(handlers[1]<=0){data.remove(originalHandler);}}}};}());function verifyPrerequisites(){var jQuery=serviceConfig.jQueryObject?utils.access(serviceConfig.jQueryObject):window.jQuery,sizzle=serviceConfig.sizzleObject?utils.access(serviceConfig.sizzleObject):window.Sizzle;if(!document.querySelectorAll&&!jQuery&&!sizzle){core.fail("querySelectorAll does not exist!",errorCodes.NO_QUERY_SELECTOR);}}function initBrowserServiceW3C(){queryDom.xpath=browserBaseService.queryDom.xpath;verifyPrerequisites();if(typeof document.addEventListener==="function"){addEventListener=function(target,eventName,handler){target.addEventListener(eventName,handler,useCapture);};removeEventListener=function(target,eventName,handler){target.removeEventListener(eventName,handler,useCapture);};}else{if(typeof document.attachEvent!=="undefined"){addEventListener=function(target,eventName,handler){target.attachEvent("on"+eventName,handler);};removeEventListener=function(target,eventName,handler){target.detachEvent("on"+eventName,handler);};}else{throw new Error("Unsupported browser");}}isInitialized=true;}return{init:function(){if(!isInitialized){initBrowserServiceW3C();}else{}},destroy:function(){isInitialized=false;},getServiceName:function(){return"W3C";},query:function(query,scope,type){try{return queryDom.find(query,scope,type)[0]||null;}catch(err){return[];}},queryAll:function(query,scope,type){try{return queryDom.find(query,scope,type);}catch(err){return[];}},subscribe:function(eventName,target,handler){var wrappedHandler=handlerMappings.add(handler);addEventListener(target,eventName,wrappedHandler);},unsubscribe:function(eventName,target,handler){var wrappedHandler=handlerMappings.find(handler);if(wrappedHandler){try{removeEventListener(target,eventName,wrappedHandler);}catch(e){}handlerMappings.remove(handler);}}};});DCX.addService("ajax",function(core){var utils=core.utils,getXHRObject,useBeacon=false,useFetch=false,isInitialized=false;function convertHeadersToArray(headersObj){var header="",headers=[];for(header in headersObj){if(headersObj.hasOwnProperty(header)){headers.push([header,headersObj[header]]);}}return headers;}function convertHeadersToQuery(headersObj){var header="",headers="?";for(header in headersObj){if(headersObj.hasOwnProperty(header)){headers+=encodeURIComponent(header)+"="+encodeURIComponent(headersObj[header])+"&";}}return headers.slice(0,-1);}function makeBeaconCall(message){var data,retVal=false,query=convertHeadersToQuery(message.headers);if(typeof message.data==="string"){data=message.data;}else{data=message.data?new Uint8Array(message.data):"";}retVal=navigator.sendBeacon(message.url+query,data);return retVal;}function makeFetchRequest(message){var headers=message.headers||{},msgId=message.id||0,oncomplete=message.oncomplete||function(){};headers["X-Requested-With"]="fetch";window.fetch(message.url,{method:message.type,headers:headers,body:message.data,mode:"cors",credentials:"omit",keepalive:message.isUnloading,cache:"no-store"}).then(function(response){var result={success:response.ok,statusCode:response.status,statusText:response.statusText,id:msgId};if(result.success){response.json().then(function(responseData){result.data=responseData;oncomplete(result);})["catch"](function(e){result.statusCode=1;result.statusText=e.message;oncomplete(result);});oncomplete(result);}})["catch"](function(e){var result={success:false,statusCode:2,statusText:e.message,id:msgId};oncomplete(result);message.headers["X-Requested-With"]="";makeAjaxCall(message);});}function wrapAjaxResponse(origCallback){if(typeof origCallback!=="function"){return;}return function ajaxResponseHandler(event){var xhr,status,success=false;if(!event){return;}xhr=event.target;if(!xhr){return origCallback(event);}status=xhr.status;if(status>=200&&status<300){success=true;}origCallback({headers:utils.extractResponseHeaders(xhr.getAllResponseHeaders()),responseText:xhr.responseText,statusCode:status,statusText:xhr.statusText,id:xhr.id,success:success});};}function makeAjaxCall(message){var xhr=getXHRObject(),headers=[["X-Requested-With","XMLHttpRequest"]],timeout=0,async=typeof message.async!=="boolean"?true:message.async,header="",callbackFn=null,i,length;if(message.headers){headers=headers.concat(convertHeadersToArray(message.headers));}if(message.contentType){headers.push(["Content-Type",message.contentType]);}xhr.open(message.type.toUpperCase(),message.url,async);for(i=0,length=headers.length;i<length;i+=1){header=headers[i];if(header[0]&&header[1]){xhr.setRequestHeader(header[0],header[1]);}}if(message.error){message.error=wrapAjaxResponse(message.error);xhr.addEventListener("error",message.error);}xhr.onreadystatechange=callbackFn=function(){if(xhr.readyState===4){xhr.onreadystatechange=callbackFn=function(){};if(message.timeout){window.clearTimeout(timeout);}message.oncomplete({id:message.id,headers:utils.extractResponseHeaders(xhr.getAllResponseHeaders()),responseText:(xhr.responseText||null),statusCode:xhr.status,statusText:xhr.statusText,success:(xhr.status>=200&&xhr.status<300)});xhr=null;}};xhr.send(message.data||null);callbackFn();if(message.timeout){timeout=window.setTimeout(function(){if(!xhr){return;}xhr.onreadystatechange=function(){};if(xhr.readyState!==4){xhr.abort();if(typeof message.error==="function"){message.error({id:message.id,statusCode:xhr.status,statusText:"timeout",success:false});}}message.oncomplete({id:message.id,headers:utils.extractResponseHeaders(xhr.getAllResponseHeaders()),responseText:(xhr.responseText||null),statusCode:xhr.status,statusText:"timeout",success:false});xhr=null;},message.timeout);}}function initAjaxService(){var queueServiceConfig=core.getServiceConfig("queue");if(typeof window.XMLHttpRequest!=="undefined"){getXHRObject=function(){return new XMLHttpRequest();};}else{getXHRObject=function(){return new ActiveXObject("Microsoft.XMLHTTP");};}if(queueServiceConfig){useBeacon=utils.getValue(queueServiceConfig,"useBeacon",true)&&(typeof navigator.sendBeacon==="function");useFetch=utils.getValue(queueServiceConfig,"useFetch",true)&&(typeof window.fetch==="function");}isInitialized=true;}return{init:function(){if(!isInitialized){initAjaxService();}},destroy:function(){isInitialized=false;},sendRequest:function(message){var makeXHRRequest=true,retVal;message.type=message.type||"POST";if((message.isUnloading||!message.async)&&useBeacon){makeXHRRequest=false;retVal=makeBeaconCall(message);if(!retVal){makeXHRRequest=true;}}if(makeXHRRequest){if(message.isUnloading&&useFetch){makeFetchRequest(message);}else{makeAjaxCall(message);}}}};});DCX.addService("domCapture",function(core){var configService=core.getService("config"),browserBaseService=core.getService("browserBase"),browserService=core.getService("browser"),messageService,dcServiceConfig,dcDefaultOptions={maxMutations:100,maxLength:1000000,captureShadowDOM:false,captureFrames:false,removeScripts:true,removeComments:true,captureStyle:true,removeBase64:50000},defaultDiffObserverConfig={childList:true,attributes:true,attributeOldValue:true,characterData:true,subtree:true},defaultCustomObserverConfig={attributes:true,attributeOldValue:true,subtree:true},diffEnabled=(typeof window.MutationObserver!=="undefined"),diffObserver,diffObserverConfig=defaultDiffObserverConfig,customObserver,customObserverConfig=defaultCustomObserverConfig,observedWindowList=[],observedShadowHostList=[],shadowEventList=[],mutatedTargets=[],mutatedAttrTargets=[],mutationCount=0,mutationThreshold=100,forceFullDOM=false,fullDOMSent=false,isInitialized=false,dcxUniqueIDIndex=1,dupNode=function(){},getDOMCapture=function(){},updateConfig=function(){},publishEvent=core._publishEvent,utils=core.utils;function clearMutationRecords(){mutatedTargets=[];mutatedAttrTargets=[];mutationCount=0;forceFullDOM=false;}function consolidateTargets(mutatedTargets){var i,j,parentTarget;if(!mutatedTargets||!mutatedTargets.length){return;}mutatedTargets=mutatedTargets.sort(function(xpathA,xpathB){return xpathA.compare(xpathB);});for(i=0;i<mutatedTargets.length;i+=1){parentTarget=mutatedTargets[i];for(j=i+1;j<mutatedTargets.length;j+=0){if(mutatedTargets[j].containedIn(parentTarget)){mutatedTargets.splice(j,1);}else{j+=1;}}}}function removeOldAttrValues(attrList){var i,len;if(!attrList){return attrList;}for(i=0,len=attrList.length;i<len;i+=1){delete attrList[i].oldValue;}return attrList;}function getAttr(attrList,attrName){var i,len,found=-1;if(!attrList||!attrName){return found;}for(i=0,len=attrList.length;i<len;i+=1){if(attrList[i].name===attrName){found=i;break;}}return found;}function mergeAttributeChanges(currAttrList,newAttr){var i,len,attr,found;for(i=0,len=currAttrList.length,found=false;i<len;i+=1){attr=currAttrList[i];if(attr.name===newAttr.name){if(attr.oldValue===newAttr.value){currAttrList.splice(i,1);}else{attr.value=newAttr.value;}found=true;break;}}if(!found){currAttrList.push(newAttr);}return currAttrList;}function addToMutatedTargets(xpath,mutationRecord){var i,j,k,len,found,target,isParent,retVal=0;xpath.removedNodes=mutationRecord.removedNodes.length;xpath.addedNodes=utils.convertToArray(mutationRecord.addedNodes);for(i=0,len=mutatedTargets.length;i<len;i+=1){target=mutatedTargets[i];if(xpath.isSame(target)){if(xpath.removedNodes){for(j=0;j<mutationRecord.removedNodes.length;j+=1){k=target.addedNodes.indexOf(mutationRecord.removedNodes[j]);if(k!==-1){target.addedNodes.splice(k,1);xpath.removedNodes-=1;}}}target.removedNodes+=xpath.removedNodes;target.addedNodes.concat(xpath.addedNodes);if(!target.removedNodes&&!target.addedNodes.length){isParent=false;for(j=0;j<mutatedTargets.length;j+=1){if(target!==mutatedTargets[j]&&mutatedTargets[j].containedIn(target)){isParent=true;break;}}if(!isParent){mutatedTargets.splice(i,1);retVal=-1;}}found=true;break;}}if(!found){mutatedTargets.push(xpath);retVal=1;}return retVal;}function isNodePartOfMutatedTargets(xpath,node){var i,j,len,found=false,mutatedNodes,target;for(i=0,len=mutatedTargets.length;!found&&i<len;i+=1){target=mutatedTargets[i];if(xpath.containedIn(target)){mutatedNodes=target.addedNodes;for(j=0;j<mutatedNodes.length;j+=1){if(mutatedNodes[j].contains&&mutatedNodes[j].contains(node)){found=true;break;}}}}return found;}function isPasswordAtrributeChanged(mutationRecord){var attributeName=mutationRecord.attributeName;return attributeName==="type"&&mutationRecord.oldValue==="password"&&mutationRecord.target[attributeName]==="text";}function setPasswordVisibilityAttribute(mutationRecord){var configService=core.getService("config"),messageServiceConfig=configService.getServiceConfig("message");if(messageServiceConfig&&messageServiceConfig.maskVisiblePasswords){mutationRecord.target.setAttribute("dcxMaskVisiblePassword",true);}}function onPasswordAttributeChange(mutationRecord){var isChanged=isPasswordAtrributeChanged(mutationRecord);if(isChanged){setPasswordVisibilityAttribute(mutationRecord);}}function addToMutatedAttributeTargets(xpath,mutationRecord){var i,len,attributeName,currAttributes,found,target=null,retVal=0;attributeName=mutationRecord.attributeName;if(isPasswordAtrributeChanged(mutationRecord)){setPasswordVisibilityAttribute(mutationRecord);return retVal;}if(attributeName==="checked"||attributeName==="selected"){target=browserBaseService.ElementData.prototype.examineID(mutationRecord.target);if(messageService.isPrivacyMatched(target)){return retVal;}target=null;}if(attributeName==="value"){target=browserBaseService.ElementData.prototype.examineID(mutationRecord.target);target.currState=utils.getTargetState(mutationRecord.target)||{};if(target.currState.value){messageService.applyPrivacyToTarget(target);}else{target=null;}}xpath.attributes=[{name:attributeName,oldValue:mutationRecord.oldValue,value:target?target.currState.value:mutationRecord.target.getAttribute(attributeName)}];currAttributes=xpath.attributes[0];if(currAttributes.oldValue===currAttributes.value){return retVal;}for(i=0,len=mutatedAttrTargets.length,found=false;i<len;i+=1){target=mutatedAttrTargets[i];if(xpath.isSame(target)){target.attributes=mergeAttributeChanges(target.attributes,currAttributes);if(!target.attributes.length){mutatedAttrTargets.splice(i,1);retVal=-1;}else{if(isNodePartOfMutatedTargets(xpath,mutationRecord.target)){mutatedAttrTargets.splice(i,1);retVal=-1;}}found=true;break;}}if(!found&&!isNodePartOfMutatedTargets(xpath,mutationRecord.target)){mutatedAttrTargets.push(xpath);retVal=1;}return retVal;}function processMutationRecords(records){var i,len,fullXpathList,record,xpath;if(!records||!records.length){return;}if(forceFullDOM){mutationCount+=records.length;return;}for(i=0,len=records.length;i<len&&mutationCount<mutationThreshold;i+=1){record=records[i];xpath=new browserBaseService.Xpath(record.target);if(xpath){fullXpathList=xpath.fullXpathList;if(fullXpathList.length&&fullXpathList[0][0]==="html"){switch(record.type){case"characterData":case"childList":mutationCount+=addToMutatedTargets(xpath,record);break;case"attributes":mutationCount+=addToMutatedAttributeTargets(xpath,record);break;default:utils.clog("Unknown mutation type: "+record.type);break;}}}}if(mutationCount>=mutationThreshold){forceFullDOM=true;mutationCount+=len-i;}}function initCustomDomObserver(){var observer;var i,len,fullXpathList,record,xpath;observer=new window.MutationObserver(function(records){if(records){if(!records||!records.length){return;}for(i=0,len=records.length;i<len&&mutationCount<mutationThreshold;i+=1){record=records[i];xpath=new browserBaseService.Xpath(record.target);if(xpath){fullXpathList=xpath.fullXpathList;if(fullXpathList.length&&fullXpathList[0][0]==="html"){switch(record.type){case"attributes":onPasswordAttributeChange(record);break;default:break;}}}}}});return observer;}function initDOMDiffObserver(){var observer;observer=new window.MutationObserver(function(records){if(records){processMutationRecords(records);utils.clog("Processed ["+records.length+"] mutation records.");}});return observer;}function initDOMCaptureService(config){var i,len,module,event,eventList,coreConfig=configService.getCoreConfig(),messageServiceConfig=configService.getServiceConfig("message");configService.subscribe("configupdated",updateConfig);messageService=core.getService("message");dcServiceConfig=config;dcServiceConfig.options=utils.mixin({},dcDefaultOptions,dcServiceConfig.options);diffEnabled=diffEnabled&&utils.getValue(dcServiceConfig,"diffEnabled",true);mutationThreshold=utils.getValue(dcServiceConfig.options,"maxMutations",100);if(diffEnabled){diffObserverConfig=utils.getValue(dcServiceConfig,"diffObserverConfig",defaultDiffObserverConfig);diffObserver=initDOMDiffObserver();observedWindowList.push(window);}if(!diffEnabled&&messageServiceConfig.maskVisiblePasswords){customObserverConfig=utils.getValue(dcServiceConfig,"customObserverConfig",defaultCustomObserverConfig);customObserver=initCustomDomObserver();observedWindowList.push(window);}for(module in coreConfig.modules){if(coreConfig.modules.hasOwnProperty(module)){eventList=coreConfig.modules[module].events||[];for(i=0,len=eventList.length;i<len;i+=1){if(eventList[i].attachToShadows){event=eventList[i].name;if(shadowEventList.indexOf(event)===-1){shadowEventList.push(event);}}}}}isInitialized=true;}function destroyDOMCaptureService(){configService.unsubscribe("configupdated",updateConfig);if(diffObserver){diffObserver.disconnect();}if(customObserver){customObserver.disconnect();}isInitialized=false;}function getUniqueID(){var id;id="tlt-"+utils.getSerialNumber();return id;}function getTagList(node,tagName,attribute){var i,attrName,attrValue,nodeList,tag,tagList=[];if(!node||!node.getElementsByTagName||!tagName){return tagList;}if(attribute&&attribute.length===2){attrName=attribute[0];attrValue=attribute[1];}nodeList=node.getElementsByTagName(tagName);if(nodeList&&nodeList.length){for(i=nodeList.length-1;i>=0;i-=1){tag=nodeList[i];if(!attrName){tagList.push(tag);}else{if(tag[attrName]===attrValue){tagList.push(tag);}}}}return tagList;}function removeTags(node,tagName,attribute){var i,attrName,attrValue,nodeList,tag;if(!node||!node.getElementsByTagName||!tagName){return;}if(attribute&&attribute.length===2){attrName=attribute[0];attrValue=attribute[1];}nodeList=node.getElementsByTagName(tagName);if(nodeList&&nodeList.length){for(i=nodeList.length-1;i>=0;i-=1){tag=nodeList[i];if(!attrName){tag.parentNode.removeChild(tag);}else{if(tag[attrName]===attrValue){tag.parentNode.removeChild(tag);}}}}return node;}function removeBase64Src(node,sizeLimit){var i,tag,tagList=getTagList(node,"img"),pattern64=new RegExp("^data:image/(.*?);base64");for(i=0;i<tagList.length;i++){tag=tagList[i];if(pattern64.test(tag.src)&&(tag.src.length>sizeLimit)){tag.src="";tag.setAttribute("removedByDCX",true);}}return node;}function removeNodes(node,nodeType){var i,child;for(i=0;node.hasChildNodes()&&i<node.childNodes.length;i+=1){child=node.childNodes[i];if(child.nodeType===nodeType){node.removeChild(child);i-=1;}else{if(child.hasChildNodes()){removeNodes(child,nodeType);}}}return node;}function removeElementsByTagNames(node,tagName){var i,nodeList,tag;if(!node||!node.getElementsByTagName||!tagName){return;}nodeList=node.querySelectorAll(tagName);if(nodeList&&nodeList.length){for(i=nodeList.length-1;i>=0;i-=1){tag=nodeList[i];tag.parentNode.removeChild(tag);}}return node;}function getDoctypeAsString(node){var doctype,doctypeStr=null;if(!node||!node.doctype){return null;}doctype=node.doctype;if(doctype){doctypeStr="<!DOCTYPE "+doctype.name+(doctype.publicId?' PUBLIC "'+doctype.publicId+'"':"")+(!doctype.publicId&&doctype.systemId?" SYSTEM":"")+(doctype.systemId?' "'+doctype.systemId+'"':"")+">";}return doctypeStr;}function fixInputs(source,target){var i,sourceInputElement,targetInputElement,sourceInputList,targetInputList,len;if(!target){return;}sourceInputList=source.getElementsByTagName("input");targetInputList=target.getElementsByTagName("input");if(targetInputList){for(i=0,len=targetInputList.length;i<len;i+=1){sourceInputElement=sourceInputList[i];targetInputElement=targetInputList[i];switch(targetInputElement.type){case"checkbox":case"radio":if(utils.isIE?sourceInputElement.checked:targetInputElement.checked){targetInputElement.setAttribute("checked","checked");}else{targetInputElement.removeAttribute("checked");}break;default:targetInputElement.setAttribute("value",targetInputElement.value);if(!targetInputElement.getAttribute("type")){targetInputElement.setAttribute("type","text");}break;}}}}function fixTextareas(source,target){var i,len,sourceTextareaElement,sourceTextareaList,targetTextareaElement,targetTextareaList;if(!source||!source.getElementsByTagName||!target||!target.getElementsByTagName){return;}sourceTextareaList=source.getElementsByTagName("textarea");targetTextareaList=target.getElementsByTagName("textarea");if(sourceTextareaList&&targetTextareaList){for(i=0,len=sourceTextareaList.length;i<len;i+=1){sourceTextareaElement=sourceTextareaList[i];targetTextareaElement=targetTextareaList[i];targetTextareaElement.setAttribute("value",sourceTextareaElement.value);targetTextareaElement.value=targetTextareaElement.textContent=sourceTextareaElement.value;}}}function fixSelectLists(source,target){var sourceElem,sourceList,targetElem,targetList,i,j,len;if(!source||!source.getElementsByTagName||!target||!target.getElementsByTagName){return;}sourceList=source.getElementsByTagName("select");targetList=target.getElementsByTagName("select");if(sourceList){for(i=0,len=sourceList.length;i<len;i+=1){sourceElem=sourceList[i];targetElem=targetList[i];for(j=0;j<sourceElem.options.length;j+=1){if(j===sourceElem.selectedIndex||sourceElem.options[j].selected){targetElem.options[j].setAttribute("selected","selected");}else{targetElem.options[j].removeAttribute("selected");}}}}}function getHTMLText(node){var nodeType,htmlText=null;if(node){nodeType=node.nodeType||-1;switch(nodeType){case 11:htmlText=node.innerHTML;break;case 9:htmlText=node.documentElement?node.documentElement.outerHTML:"";break;case 1:htmlText=node.outerHTML;break;default:htmlText=null;break;}}return htmlText;}function isNodeValidForCapture(node){var nodeType,valid=false;if(node&&typeof node==="object"){nodeType=node.nodeType||-1;switch(nodeType){case 9:case 1:valid=true;break;default:valid=false;break;}}return valid;}function getFrames(source,target,options){var i,j,len,frameTag,frameTags=["iframe","frame"],sourceIframe,iframeWindow,iframeDoc,iframeCapture,iframeID,iframeSrc,returnObject={frames:[]},sourceIframeList,targetIframeList,urlInfo;for(j=0;j<frameTags.length;j+=1){frameTag=frameTags[j];sourceIframeList=source.getElementsByTagName(frameTag);targetIframeList=target.getElementsByTagName(frameTag);if(sourceIframeList){for(i=0,len=sourceIframeList.length;i<len;i+=1){try{sourceIframe=sourceIframeList[i];iframeWindow=utils.getIFrameWindow(sourceIframe);if(iframeWindow&&iframeWindow.document&&iframeWindow.location.href!=="about:blank"){iframeDoc=iframeWindow.document;iframeCapture=getDOMCapture(iframeDoc,iframeDoc,"",options);iframeID=getUniqueID();targetIframeList[i].setAttribute("tltid",iframeID);iframeCapture.tltid=iframeID;urlInfo=utils.getOriginAndPath(iframeDoc.location);iframeCapture.host=urlInfo.origin;iframeCapture.url=urlInfo.path;iframeCapture.charset=iframeDoc.characterSet||iframeDoc.charset;iframeSrc=targetIframeList[i].getAttribute("src");if(!iframeSrc){iframeSrc=iframeWindow.location.href;targetIframeList[i].setAttribute("src",iframeSrc);}returnObject.frames=returnObject.frames.concat(iframeCapture.frames);delete iframeCapture.frames;returnObject.frames.push(iframeCapture);}}catch(e){}}}}return returnObject;}function attachEventListeners(root){var i,len,event;root.DCXListeners=root.DCXListeners||{};for(i=0,len=shadowEventList.length;i<len;i+=1){event=shadowEventList[i];if(!root.DCXListeners[event]){browserService.subscribe(event,root,publishEvent);root.DCXListeners[event]=true;}}}function getShadowDOM(source,target,options,thisSource){var i,len,captures,element,elements,hostXpath,returnObject={shadows:[]};if(!source||(!thisSource&&!source.children)){return returnObject;}if(thisSource){elements=[source];}else{elements=source.children;}for(i=0,len=elements.length;i<len;i+=1){element=elements[i];if(element.shadowRoot){hostXpath=new browserBaseService.Xpath(element);captures=getDOMCapture(element.ownerDocument,element.shadowRoot,"",options);returnObject.shadows.push({root:captures.root,xpath:hostXpath.xpath});returnObject.shadows=returnObject.shadows.concat(captures.shadows);attachEventListeners(element.shadowRoot);if(diffEnabled){try{diffObserver.observe(element.shadowRoot,diffObserverConfig);element.shadowRoot.DCXListeners.mutation=true;if(utils.indexOf(observedShadowHostList,element)===-1){observedShadowHostList.push(element);}}catch(e){}}if(!diffEnabled){var configService=core.getService("config"),messageServiceConfig=configService.getServiceConfig("message");if(!messageServiceConfig.maskVisiblePasswords){return;}try{customObserver.observe(element.shadowRoot,customObserverConfig);element.shadowRoot.DCXListeners.mutation=true;if(utils.indexOf(observedShadowHostList,element)===-1){observedShadowHostList.push(element);}}catch(e){}}}captures=getShadowDOM(element,null,options);returnObject.shadows=returnObject.shadows.concat(captures.shadows);}return returnObject;}function getCapturedLength(captureObj){var i,j,len,attrLen,attrRecord,diffRecord,totalLength=0;if(!captureObj){return totalLength;}if(captureObj.root){totalLength+=captureObj.root.length;if(captureObj.frames){for(i=0,len=captureObj.frames.length;i<len;i+=1){if(captureObj.frames[i].root){totalLength+=captureObj.frames[i].root.length;}}}}else{if(captureObj.diffs){for(i=0,len=captureObj.diffs.length;i<len;i+=1){diffRecord=captureObj.diffs[i];totalLength+=diffRecord.xpath.length;if(diffRecord.root){totalLength+=diffRecord.root.length;}else{if(diffRecord.attributes){for(j=0,attrLen=diffRecord.attributes.length;j<attrLen;j+=1){attrRecord=diffRecord.attributes[j];totalLength+=attrRecord.name.length;if(attrRecord.value){totalLength+=attrRecord.value.length;}}}}}}}return totalLength;}function consolidateMutationsWithAttributeChanges(){var i,j,len,parentTarget;for(i=0,len=mutatedTargets.length;i<len&&mutatedAttrTargets.length;i+=1){parentTarget=mutatedTargets[i];for(j=0;j<mutatedAttrTargets.length;j+=1){if(mutatedAttrTargets[j].containedIn(parentTarget)){mutatedAttrTargets.splice(j,1);j-=1;}}}}function enumerateUntrackedShadows(node){var i,len,element,elements,shadowList=[];if(!node||!node.children){return shadowList;}elements=node.children;for(i=0,len=elements.length;i<len;i+=1){element=elements[i];if(element.shadowRoot){if(!element.shadowRoot.DCXListeners){shadowList.push([element,element.shadowRoot]);}shadowList=shadowList.concat(enumerateUntrackedShadows(element.shadowRoot));}shadowList=shadowList.concat(enumerateUntrackedShadows(element));}return shadowList;}function getUntrackedShadows(doc,options){var i,len,shadows,retObj,untrackedShadowList;if(!doc||!options){return;}if(!options.captureShadowDOM){return;}untrackedShadowList=enumerateUntrackedShadows(doc,options);for(i=0,len=untrackedShadowList.length,shadows=[];i<len;i+=1){retObj=getShadowDOM(untrackedShadowList[i][0],null,options,true);shadows=shadows.concat(retObj.shadows);}return shadows;}function getFullDOM(doc,options){var captureObj,urlInfo,shadowRoots,startTime,endTime;captureObj=getDOMCapture(doc,doc,null,options);if(!captureObj){captureObj={};}captureObj.charset=doc.characterSet||doc.charset;urlInfo=utils.getOriginAndPath(doc.location);captureObj.host=urlInfo.origin;captureObj.url=urlInfo.path;return captureObj;}function getDOMDiff(options){var i,len,returnObj={fullDOM:false,diffs:[],attributeDiffs:{}},diff,idIndex,oldXpath,captureShadowDOM,untrackedShadows,target,targetXpath,attributes,pattern64=new RegExp("^data:image/(.*?);base64");consolidateTargets(mutatedTargets);consolidateMutationsWithAttributeChanges();captureShadowDOM=options.captureShadowDOM;options.captureShadowDOM=false;for(i=0,len=mutatedTargets.length;i<len;i+=1){targetXpath=mutatedTargets[i];target=browserBaseService.getNodeFromID(targetXpath.xpath,-2);if(!target){continue;}if(targetXpath.isShadowHost){target=target.shadowRoot;if(!target.DCXListeners){continue;}}if(target===window.document.body||target===window.document.documentElement){options.captureShadowDOM=captureShadowDOM;return getFullDOM(window.document,options);}diff=getDOMCapture(window.document,target,targetXpath,options);delete diff.originalSize;if(diff.shadows&&diff.shadows.length===0){delete diff.shadows;}if(diff.frames&&diff.frames.length===0){delete diff.frames;}diff.xpath=targetXpath.xpath;returnObj.diffs.push(diff);}function addAttributeDiffs(attribute,index){if(!attribute||!attribute.name){return;}returnObj.attributeDiffs[diff.xpath][attribute.name]={value:attribute.value};}function removeBase64SrcValue(attrList){var j,attr,attrListLen;for(j=0,attrListLen=attrList.length;j<attrListLen;j+=1){attr=attrList[j];if(attr.name==="src"&&pattern64.test(attr.value)&&attr.value.length>options.removeBase64){attr.value="";attrList.push({name:"removedByDCX",value:true});break;}}return attrList;}for(i=0,len=mutatedAttrTargets.length;i<len;i+=1){targetXpath=mutatedAttrTargets[i];idIndex=getAttr(targetXpath.attributes,"id");if(idIndex>-1){target=browserBaseService.getNodeFromID(targetXpath.xpath,-2);oldXpath=new browserBaseService.Xpath(target,false,targetXpath.attributes[idIndex].oldValue);targetXpath.xpath=oldXpath.xpath;}attributes=removeOldAttrValues(targetXpath.attributes);if(options.hasOwnProperty("removeBase64")){target=browserBaseService.getNodeFromID(targetXpath.xpath,-2);if(target&&target.tagName.toLowerCase()==="img"&&attributes){attributes=removeBase64SrcValue(attributes);}}diff={xpath:targetXpath.xpath,attributes:attributes};returnObj.diffs.push(diff);returnObj.attributeDiffs[diff.xpath]={};utils.forEach(diff.attributes,addAttributeDiffs);}options.captureShadowDOM=captureShadowDOM;untrackedShadows=getUntrackedShadows(window.document,options);if(untrackedShadows&&untrackedShadows.length){returnObj.shadows=untrackedShadows;}return returnObj;}dupNode=function(node){var dup=null;if(isNodeValidForCapture(node)){var doNotCaptureElementsList=core.getCoreConfig().doNotCaptureElements||{};for(var i=doNotCaptureElementsList.length-1;i>=0;i-=1){removeElementsByTagNames(node,doNotCaptureElementsList[i]);}dup=node.cloneNode(true);if(!dup&&node.documentElement){dup=node.documentElement.cloneNode(true);}}return dup;};getDOMCapture=function(doc,root,rootXpath,options){var cloned=true,rootCopy,frameCaptureObj,shadowDOMObj,captureObj={},serializedDOM,urlInfo;if(!doc||!root){return captureObj;}rootCopy=dupNode(root,doc);if(!rootCopy&&root.host){cloned=false;}else{if(!rootCopy){return captureObj;}}if(cloned){if(!!options.removeScripts){removeTags(rootCopy,"script");removeTags(rootCopy,"noscript");}if(!options.keepImports){removeTags(rootCopy,"link",["rel","import"]);}if(!!options.removeComments){removeNodes(rootCopy,8);}if(!options.captureStyle){removeTags(rootCopy,"style");}if(typeof rootCopy==="object"&&(typeof rootCopy.createElement==="function"||rootCopy.tagName==="HEAD")&&options.captureJSS){var length=document.styleSheets.length;var CSS="";for(var i=0;i<length;i++){try{var subLength=document.styleSheets[i].cssRules.length;for(var j=0;j<subLength;j++){CSS=CSS+" "+document.styleSheets[i].cssRules[j].cssText;}}catch(error){}}if(options.customStyle){CSS=CSS+options.customStyle;}if(!rootCopy.createElement){rootCopy.innerHTML+='<style added_by="HCL DISCOVER JSS Style Capture">'+CSS+"</style>";}else{var style=rootCopy.createElement("style");style.setAttribute("added_by","HCL DISCOVER JSS Style Capture");style.innerHTML=CSS;rootCopy.getElementsByTagName("head")[0].appendChild(style);}if(typeof DCX!=="undefined"&&length){captureObj.origCSSsize=CSS.length;}}if(options.hasOwnProperty("removeBase64")){removeBase64Src(rootCopy,options.removeBase64);}fixSelectLists(root,rootCopy);fixInputs(root,rootCopy);fixTextareas(root,rootCopy);rootCopy=messageService.applyPrivacyToNode(rootCopy,rootXpath,doc);if(!!options.captureFrames){frameCaptureObj=getFrames(root,rootCopy,options);}}if(!!options.captureShadowDOM){shadowDOMObj=getShadowDOM(root,rootCopy,options);}if(frameCaptureObj){captureObj=utils.mixin(captureObj,frameCaptureObj);}if(shadowDOMObj){captureObj=utils.mixin(captureObj,shadowDOMObj);}serializedDOM=(getDoctypeAsString(root)||"")+getHTMLText(rootCopy||root);captureObj.root=messageService.applyPrivacyPatterns(serializedDOM);return captureObj;};updateConfig=function(){configService=core.getService("config");initDOMCaptureService(configService.getServiceConfig("domCapture")||{});};return{init:function(){configService=core.getService("config");if(!isInitialized){initDOMCaptureService(configService.getServiceConfig("domCapture")||{});}else{}},destroy:function(){destroyDOMCaptureService();},observeWindow:function(win){var i,len;if(!win){return;}if(!utils.getValue(dcServiceConfig,"options.captureFrames",false)&&!(win===window)){return;}if(utils.indexOf(observedWindowList,win)===-1){observedWindowList.push(win);}},captureDOM:function(root,options){var i,len,captureObj=null,observedWindow,totalLength=0;if(!isInitialized||utils.isLegacyIE){return captureObj;}options=utils.mixin({},dcServiceConfig.options,options);root=root||window.document;if(!fullDOMSent||!diffEnabled||forceFullDOM||options.forceFullDOM){if(diffObserver){diffObserver.disconnect();}if(customObserver){customObserver.disconnect();}captureObj=getFullDOM(root,options);captureObj.fullDOM=true;captureObj.forced=!!(forceFullDOM||options.forceFullDOM);fullDOMSent=true;if(diffObserver){for(i=0,len=observedWindowList.length;i<len;i+=1){observedWindow=observedWindowList[i];try{diffObserver.observe(observedWindow.document,diffObserverConfig);}catch(e){observedWindowList.splice(i,1);len=observedWindowList.length;i-=1;}}}if(customObserver){for(i=0,len=observedWindowList.length;i<len;i+=1){observedWindow=observedWindowList[i];try{customObserver.observe(observedWindow.document,customObserverConfig);}catch(e){observedWindowList.splice(i,1);len=observedWindowList.length;i-=1;}}}}else{captureObj=getDOMDiff(options);captureObj.fullDOM=(captureObj.diffs||captureObj.shadows)?false:true;}if(diffEnabled){captureObj.mutationCount=mutationCount;}clearMutationRecords();if(options.maxLength){totalLength=getCapturedLength(captureObj);if(totalLength>options.maxLength){captureObj={errorCode:101,error:"Captured length ("+totalLength+") exceeded limit ("+options.maxLength+")."};}}if(captureObj.fullDOM){captureObj.origDOMSize=totalLength;}else{captureObj.origDiffSize=totalLength;}return captureObj;}};});DCX.addService("encoder",function(core){var encoderServiceConfig={},configService=null,handleConfigUpdated=null,isInitialized=false;function getEncoder(type){var encoder=null;if(!type){return encoder;}encoder=encoderServiceConfig[type];if(encoder&&typeof encoder.encode==="string"){encoder.encode=core.utils.access(encoder.encode);}return encoder;}function initEncoderService(config){encoderServiceConfig=config;configService.subscribe("configupdated",handleConfigUpdated);isInitialized=true;}function destroy(){configService.unsubscribe("configupdated",handleConfigUpdated);isInitialized=false;}handleConfigUpdated=function(){configService=core.getService("config");initEncoderService(configService.getServiceConfig("encoder")||{});};return{init:function(){configService=core.getService("config");if(!isInitialized){initEncoderService(configService.getServiceConfig("encoder")||{});}else{}},destroy:function(){destroy();},encode:function(data,type){var encoder,result,returnObj={data:null,encoding:null,error:null};if((typeof data!=="string"&&!data)||!type){returnObj.error="Invalid "+(!data?"data":"type")+" parameter.";return returnObj;}encoder=getEncoder(type);if(!encoder){returnObj.error="Specified encoder ("+type+") not found.";return returnObj;}if(typeof encoder.encode!=="function"){returnObj.error="Configured encoder ("+type+") encode method is not a function.";return returnObj;}try{result=encoder.encode(data);}catch(e){returnObj.error="Encoding failed: "+(e.name?e.name+" - ":"")+e.message;return returnObj;}if(!result||core.utils.getValue(result,"buffer",null)===null){returnObj.error="Encoder ("+type+") returned an invalid result.";return returnObj;}returnObj.data=result.buffer;returnObj.encoding=encoder.defaultEncoding;return returnObj;}};});DCX.addService("message",function(core){var utils=core.utils,prevScreenviewOffsetTime=0,screenviewOffsetTime=0,count=0,messageCount=0,sessionStart=new Date(),browserBaseService=core.getService("browserBase"),browserService=core.getService("browser"),configService=core.getService("config"),config=configService.getServiceConfig("message")||{},windowHref=core.normalizeUrl(window.location.href),windowHostname=window.location.hostname,privacy=config.hasOwnProperty("privacy")?config.privacy:[],privacyPatterns,privacyMasks={},maskingCharacters={lower:"x",upper:"X",numeric:"9",symbol:"@"},devicePixelRatio=parseFloat((window.devicePixelRatio||1).toFixed(2)),screen=window.screen||{},screenWidth=screen.width||0,screenHeight=screen.height||0,deviceOrientation=browserBaseService.getNormalizedOrientation(),deviceWidth=!utils.isiOS?screenWidth:Math.abs(deviceOrientation)===90?screenHeight:screenWidth,deviceHeight=!utils.isiOS?screenHeight:Math.abs(deviceOrientation)===90?screenWidth:screenHeight,deviceToolbarHeight=(window.screen?window.screen.height-window.screen.availHeight:0),startWidth=window.innerWidth||document.documentElement.clientWidth,startHeight=window.innerHeight||document.documentElement.clientHeight,isInitialized=false,shadowMessageCache={},activeScreenViewpath;function Message(event){var key="",timestamp=event.timestamp||(new Date()).getTime();this.timestamp=timestamp;delete event.timestamp;this.type=event.type;this.offset=timestamp-sessionStart.getTime();if(event.type===2&&event.screenview&&event.screenview.type==="LOAD"){if(event.screenview.name!=="root"&&event.screenview.name!=="rootWithFrames"){var name=event.screenview.name;if(name&&name.indexOf("#")===0){activeScreenViewpath=location.pathname+name;}else{activeScreenViewpath=name;}}else{activeScreenViewpath=location.pathname+location.hash;}}this.screenViewPath=activeScreenViewpath||location.pathname+location.hash;this.screenviewOffset=0;if(event.type===2){prevScreenviewOffsetTime=screenviewOffsetTime;screenviewOffsetTime=timestamp;if(event.screenview.type==="UNLOAD"){this.screenviewOffset=timestamp-(prevScreenviewOffsetTime||sessionStart.getTime());}}else{if(screenviewOffsetTime){this.screenviewOffset=timestamp-screenviewOffsetTime;}}if(!this.type){return;}this.count=(messageCount+=1);this.fromWeb=true;for(key in event){if(event.hasOwnProperty(key)){this[key]=event[key];}}}privacyMasks.PVC_MASK_EMPTY=function(value){return"";};privacyMasks.PVC_MASK_BASIC=function(value){var retMask="XXXXX";if(typeof value!=="string"){return"";}return(value.length?retMask:"");};privacyMasks.PVC_MASK_TYPE=function(value){var characters,i=0,len=0,retMask="";if(typeof value!=="string"){return retMask;}characters=value.split("");for(i=0,len=characters.length;i<len;i+=1){if(utils.isNumeric(characters[i])){retMask+=maskingCharacters.numeric;}else{if(utils.isUpperCase(characters[i])){retMask+=maskingCharacters.upper;}else{if(utils.isLowerCase(characters[i])){retMask+=maskingCharacters.lower;}else{retMask+=maskingCharacters.symbol;}}}}return retMask;};privacyMasks.PVC_MASK_EMPTY.maskType=1;privacyMasks.PVC_MASK_BASIC.maskType=2;privacyMasks.PVC_MASK_TYPE.maskType=3;privacyMasks.PVC_MASK_CUSTOM={maskType:4};function maskStr(mask,str){var filter=privacyMasks.PVC_MASK_BASIC;if(typeof str!=="string"){return str;}if(!mask){filter=privacyMasks.PVC_MASK_BASIC;}else{if(mask.maskType===privacyMasks.PVC_MASK_EMPTY.maskType){filter=privacyMasks.PVC_MASK_EMPTY;}else{if(mask.maskType===privacyMasks.PVC_MASK_BASIC.maskType){filter=privacyMasks.PVC_MASK_BASIC;}else{if(mask.maskType===privacyMasks.PVC_MASK_TYPE.maskType){filter=privacyMasks.PVC_MASK_TYPE;}else{if(mask.maskType===privacyMasks.PVC_MASK_CUSTOM.maskType){if(typeof mask.maskFunction==="string"){filter=utils.access(mask.maskFunction);}else{filter=mask.maskFunction;}if(typeof filter!=="function"){filter=privacyMasks.PVC_MASK_BASIC;}}}}}}return filter(str);}function applyMask(mask,state){var prop;if(!mask||!state){return;}for(prop in state){if(state.hasOwnProperty(prop)){if(prop==="value"){state[prop]=maskStr(mask,state[prop]);}else{delete state[prop];}}}}function matchesTarget(targets,target){return(utils.matchTarget(targets,target)!==-1);}function applyPrivacyPatterns(str){var i,len,begin,duration,rule;if(!str){return"";}for(i=0,len=privacyPatterns.length;i<len;i+=1){rule=privacyPatterns[i];rule.cRegex.lastIndex=0;str=str.replace(rule.cRegex,rule.replacement);}return str;}function privacyFilter(target){var i,len,exclude,mask,maskApplied=false,prevState,currState;if(!target||(!target.currState&&!target.prevState)){return target;}prevState=target.prevState;currState=target.currState;for(i=0,len=privacy.length;i<len;i+=1){mask=privacy[i];exclude=utils.getValue(mask,"exclude",false);if(matchesTarget(mask.targets,target)!==exclude){applyMask(mask,prevState);applyMask(mask,currState);maskApplied=true;break;}}if(!maskApplied){if(prevState&&prevState.value){prevState.value=applyPrivacyPatterns(prevState.value);}if(currState&&currState.value){currState.value=applyPrivacyPatterns(currState.value);}}return target;}function applyPrivacyToMessage(message){if(!message||!message.target){return message;}privacyFilter(message.target);return message;}function maskElement(element,mask){var i,len,maskedValue,option;if(!mask||!element){return;}if(element.value){maskedValue=maskStr(mask,element.value);element.setAttribute("value",maskedValue);element.value=maskedValue;}if(element.checked){element.removeAttribute("checked");}if(utils.getTagName(element)==="select"){element.selectedIndex=-1;for(i=0,len=element.options.length;i<len;i+=1){option=element.options[i];option.removeAttribute("selected");option.selected=false;}}else{if(utils.getTagName(element)==="textarea"){element.textContent=element.value;}}}function applyRegexAndXpathPrivacyRules(regexAndXpathRules,root,rootXpath,doc,excludedElements,excludeMask){var i,j,k,len,element,elementInfo,elements=[],elementXpath,exclude,maskedValue,rule,target,qr;if(!regexAndXpathRules.length&&!excludedElements.length&&!excludeMask){return[];}qr=browserService.queryAll("input, select, textarea",root);if(!qr||!qr.length){return[];}for(i=0,len=excludedElements.length;i<len;i+=1){j=qr.indexOf(excludedElements[i]);if(j!==-1){qr.splice(j,1);}}if(regexAndXpathRules.length){for(i=0,len=qr.length,elements=[];i<len;i+=1){if(qr[i].value){elementInfo=browserBaseService.ElementData.prototype.examineID(qr[i],true);if(elementInfo.idType===-2){elementXpath=new browserBaseService.Xpath(qr[i]);elementXpath.applyPrefix(rootXpath);elementInfo.id=elementXpath.xpath;}elements.push({id:elementInfo.id,idType:elementInfo.idType,element:qr[i]});}}}for(i=0,len=regexAndXpathRules.length;i<len;i+=1){rule=privacy[regexAndXpathRules[i].ruleIndex];exclude=utils.getValue(rule,"exclude",false);target=rule.targets[regexAndXpathRules[i].targetIndex];if(typeof target.id==="string"&&target.idType===-2){for(j=0;j<elements.length;j+=1){if(elements[j].idType===target.idType&&elements[j].id===target.id){element=elements[j]&&elements[j].element;if(!exclude){maskElement(element,rule);}else{k=qr.indexOf(element);qr.splice(k,1);}}}}else{for(j=0;j<elements.length;j+=1){target.cRegex.lastIndex=0;if(elements[j].idType===target.idType&&target.cRegex.test(elements[j].id)){element=elements[j].element;if(!exclude){maskElement(element,rule);}else{k=qr.indexOf(element);qr.splice(k,1);}}}}}if(excludeMask){for(i=0,len=qr.length;i<len;i+=1){maskElement(qr[i],excludeMask);}}}function applyPrivacyToNode(root,rootXpath,doc){var i,j,k,element,exclude,excludedElements=[],excludeMask,len,mask,maskedValue,qr,qrLen,regexAndXpathRules=[],target,targets,targetsLen;if(!root||!doc){return null;}for(i=0,len=privacy.length;i<len;i+=1){mask=privacy[i];exclude=utils.getValue(mask,"exclude",false);if(exclude){excludeMask=mask;}targets=mask.targets;for(j=0,targetsLen=targets.length;j<targetsLen;j+=1){target=targets[j];if(typeof target==="string"){qr=browserService.queryAll(target,root);if(!exclude){for(k=0,qrLen=qr.length;k<qrLen;k+=1){element=qr[k];maskElement(element,mask);}}else{excludedElements=excludedElements.concat(qr);}}else{if(typeof target.id==="string"){switch(target.idType){case -1:case -3:element=browserBaseService.getNodeFromID(target.id,target.idType,root);if(!exclude){maskElement(element,mask);}else{excludedElements.push(element);}break;case -2:regexAndXpathRules.push({ruleIndex:i,targetIndex:j,exclude:exclude});break;default:break;}}else{regexAndXpathRules.push({ruleIndex:i,targetIndex:j,exclude:exclude});}}}}applyRegexAndXpathPrivacyRules(regexAndXpathRules,root,rootXpath,doc,excludedElements,excludeMask);return root;}function isPrivacyMatched(target){var i,len,mask,retVal=false;if(!target){return retVal;}for(i=0,len=privacy.length;i<len;i+=1){mask=privacy[i];if(matchesTarget(mask.targets,target)){retVal=true;break;}}return retVal;}function updateConfig(){var i,j,len,rule,rulesLen,target,targets,targetsLen;configService=core.getService("config");config=configService.getServiceConfig("message")||{};privacy=config.privacy||[];privacyPatterns=config.privacyPatterns||[];for(i=0,rulesLen=privacy.length;i<rulesLen;i+=1){rule=privacy[i];targets=rule.targets;for(j=0,targetsLen=targets.length;j<targetsLen;j+=1){target=targets[j];if(typeof target==="object"){if(typeof target.idType==="string"){target.idType=+target.idType;}if(typeof target.id==="object"){target.cRegex=new RegExp(target.id.regex,target.id.flags);}}}}for(len=privacyPatterns.length,i=len-1;i>=0;i-=1){rule=privacyPatterns[i];if(typeof rule.pattern==="object"){rule.cRegex=new RegExp(rule.pattern.regex,rule.pattern.flags);}else{privacyPatterns.splice(i,1);}}}function initMessageService(){if(configService.subscribe){configService.subscribe("configupdated",updateConfig);}updateConfig();isInitialized=true;}function destroy(){configService.unsubscribe("configupdated",updateConfig);isInitialized=false;}function optimizeDOMCaptureMessage(domCapture){var dcid=domCapture.dcid,shadows=domCapture.shadows||[],isFullDom=domCapture.fullDOM,ageThreshold=1,i,len,key,shadowNode,cachedNode;if(shadows.length===0||!isFullDom){return;}for(key in shadowMessageCache){if(shadowMessageCache.hasOwnProperty(key)){shadowMessageCache[key].age+=1;}}for(i=0,len=shadows.length;i<len;i+=1){shadowNode=shadows[i];cachedNode=shadowMessageCache[shadowNode.xpath];if(cachedNode&&cachedNode.root===shadowNode.root){cachedNode.hitCount+=1;cachedNode.age-=1;shadowNode.cacheDCID=cachedNode.dcid;delete shadowNode.root;}else{shadowMessageCache[shadowNode.xpath]={root:shadowNode.root,dcid:dcid,hitCount:0,age:0};}}for(key in shadowMessageCache){if(shadowMessageCache.hasOwnProperty(key)){cachedNode=shadowMessageCache[key];if(cachedNode.age>cachedNode.hitCount+ageThreshold){delete shadowMessageCache[key];}}}}return{init:function(){if(!isInitialized){initMessageService();}else{}},destroy:function(){destroy();},applyPrivacyToNode:applyPrivacyToNode,applyPrivacyToMessage:applyPrivacyToMessage,applyPrivacyToTarget:privacyFilter,applyPrivacyPatterns:applyPrivacyPatterns,isPrivacyMatched:isPrivacyMatched,createMessage:function(event){if(typeof event.type==="undefined"){throw new TypeError("Invalid queueEvent given!");}if(event.type===12){optimizeDOMCaptureMessage(event.domCapture);}return applyPrivacyToMessage(new Message(event));},wrapMessages:function(messages){var coreConfig=DCX.getCoreConfig();var tabID=0;if(window&&window.sessionStorage&&window.localStorage){if(!window.sessionStorage.DCXTab){window.sessionStorage.setItem("DCXTab",Date.now());}tabID=window.sessionStorage.DCXTab;}var messagePackage={messageVersion:"10.0.0.0",serialNumber:(count+=1),sessions:[{id:core.getPageId(),startTime:sessionStart.getTime(),timezoneOffset:sessionStart.getTimezoneOffset(),messages:messages,clientEnvironment:{webEnvironment:{libVersion:"12.1.10",internalVersion:coreConfig.version,domain:windowHostname,page:windowHref,referrer:document.referrer,screen:{devicePixelRatio:devicePixelRatio,deviceWidth:deviceWidth,deviceHeight:deviceHeight,deviceToolbarHeight:deviceToolbarHeight,width:startWidth,height:startHeight,orientation:deviceOrientation},tabID:tabID}}}]},webEnvScreen=messagePackage.sessions[0].clientEnvironment.webEnvironment.screen;webEnvScreen.orientationMode=utils.getOrientationMode(webEnvScreen.orientation);return messagePackage;}};});DCX.addService("serializer",function(core){function serializeToJSON(obj){var str,key,len=0;if(typeof obj!=="object"||obj===null){switch(typeof obj){case"function":case"undefined":return"null";case"string":return'"'+obj.replace(/\"/g,'\\"')+'"';default:return String(obj);}}else{if(Object.prototype.toString.call(obj)==="[object Array]"){str="[";for(key=0,len=obj.length;key<len;key+=1){if(Object.prototype.hasOwnProperty.call(obj,key)){str+=serializeToJSON(obj[key])+",";}}}else{str="{";for(key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){str=str.concat('"',key,'":',serializeToJSON(obj[key]),",");len+=1;}}}}if(len>0){str=str.substring(0,str.length-1);}str+=String.fromCharCode(str.charCodeAt(0)+2);return str;}var configService=core.getService("config"),serialize={},parse={},defaultSerializers={json:(function(){if(typeof window.JSON!=="undefined"){return{serialize:window.JSON.stringify,parse:window.JSON.parse};}return{serialize:serializeToJSON,parse:function(data){return eval("("+data+")");}};}())},updateConfig=null,isInitialized=false;function addObjectIfExist(paths,rootObj,propertyName){var i,len,obj;paths=paths||[];for(i=0,len=paths.length;i<len;i+=1){obj=paths[i];if(typeof obj==="string"){obj=core.utils.access(obj);}if(typeof obj==="function"){rootObj[propertyName]=obj;break;}}}function checkParserAndSerializer(){var isParserAndSerializerInvalid;if(typeof serialize.json!=="function"||typeof parse.json!=="function"){isParserAndSerializerInvalid=true;}else{if(typeof parse.json('{"foo": "bar"}')==="undefined"){isParserAndSerializerInvalid=true;}else{isParserAndSerializerInvalid=parse.json('{"foo": "bar"}').foo!=="bar";}if(typeof parse.json("[1, 2]")==="undefined"){isParserAndSerializerInvalid=true;}else{isParserAndSerializerInvalid=isParserAndSerializerInvalid||parse.json("[1, 2]")[0]!==1;isParserAndSerializerInvalid=isParserAndSerializerInvalid||parse.json("[1,2]")[1]!==2;}isParserAndSerializerInvalid=isParserAndSerializerInvalid||serialize.json({foo:"bar"})!=='{"foo":"bar"}';isParserAndSerializerInvalid=isParserAndSerializerInvalid||serialize.json([1,2])!=="[1,2]";}return isParserAndSerializerInvalid;}function initSerializerService(config){var format;for(format in config){if(config.hasOwnProperty(format)){addObjectIfExist(config[format].stringifiers,serialize,format);addObjectIfExist(config[format].parsers,parse,format);}}if(!(config.json&&config.json.hasOwnProperty("defaultToBuiltin"))||config.json.defaultToBuiltin===true){serialize.json=serialize.json||defaultSerializers.json.serialize;parse.json=parse.json||defaultSerializers.json.parse;}if(typeof serialize.json!=="function"||typeof parse.json!=="function"){core.fail("JSON parser and/or serializer not provided in the UIC config. Can't continue.");}if(checkParserAndSerializer()){core.fail("JSON stringification and parsing are not working as expected");}if(configService){configService.subscribe("configupdated",updateConfig);}isInitialized=true;}function destroy(){serialize={};parse={};if(configService){configService.unsubscribe("configupdated",updateConfig);}isInitialized=false;}updateConfig=function(){configService=core.getService("config");initSerializerService(configService.getServiceConfig("serializer"));};return{init:function(){var ssConfig;if(!isInitialized){ssConfig=configService?configService.getServiceConfig("serializer"):{};initSerializerService(ssConfig);}else{}},destroy:function(){destroy();},parse:function(data,type){type=type||"json";return parse[type]&&parse[type](data);},serialize:function(data,type){var serializedData;type=type||"json";serializedData=serialize[type](data);return serializedData;}};});DCX.addModule("DCCookie",function(context){var moduleConfig={},sessionIDStorageDCX=0,wcxCookieName="WCXSID",dcxCookieName="TLTSID",visitorCookieName="CoreID6",wcxCookieValue,dcxCookieValue,visitorCookieValue=null,dcAppKey,utils=context.utils;function generateDCXSID(){var dataSet="123456789",dcxsid=utils.getRandomString(1,dataSet)+utils.getRandomString(31,dataSet+"0");return dcxsid;}function createDCXSIDCookie(){var cookieValue=generateDCXSID(),secure=!!moduleConfig.secureDCXSID,undefined;utils.setCookie(dcxCookieName,cookieValue,undefined,undefined,undefined,secure);return utils.getCookieValue(dcxCookieName);}function getVisitorCookie(){if(visitorCookieValue||!window.cmRetrieveUserID){return;}try{window.cmRetrieveUserID(function(id){visitorCookieValue=id;});}catch(e){visitorCookieValue=null;}}function getSIDFromStorage(sidKey){var expires,items,itemVal,sidValue;if(!localStorage||!sidKey){return;}itemVal=localStorage.getItem(sidKey);if(itemVal){items=itemVal.split("|");expires=parseInt(items[0],10);if(Date.now()>expires){localStorage.removeItem(sidKey);}else{sidValue=items[1];}}return sidValue;}function setSIDInStorage(sidKey,sidValue){var expires;if(!localStorage||!sidKey){return;}sidValue=sidValue||generateDCXSID();expires=Date.now()+sessionIDStorageDCX;localStorage.setItem(sidKey,expires+"|"+sidValue);return getSIDFromStorage(sidKey);}function getVIDFromStorage(vidKey){var vidValue;var localStorage=window.localStorage;if(!localStorage||!vidKey){return;}vidValue=localStorage.getItem(vidKey);if(vidValue===null){vidValue=utils.getRandomString(28);localStorage.setItem(vidKey,vidValue);}return vidValue;}function processConfig(config){var reqHeaders=[],sessionIDUsesCookie=utils.getValue(config,"sessionIDUsesCookie",true),sessionIDUsesStorage=utils.getValue(config,"sessionIDUsesStorage",false);if(config.dcAppKey){dcAppKey=config.dcAppKey;reqHeaders.push({name:"X-Discover-SaaS-AppKey",value:dcAppKey});}if(config.visitorCookieName){visitorCookieName=config.visitorCookieName;}if(config.wcxCookieName){wcxCookieName=config.wcxCookieName;}wcxCookieValue=utils.getCookieValue(wcxCookieName);if(wcxCookieValue){reqHeaders.push({name:"X-WCXSID",value:wcxCookieValue});}if(config.sessionizationCookieName){dcxCookieName=config.sessionizationCookieName;}if(sessionIDUsesStorage){sessionIDStorageDCX=utils.getValue(config,"sessionIDStorageDCX",600000);dcxCookieValue=getSIDFromStorage(dcxCookieName);}if(!dcxCookieValue&&sessionIDUsesCookie){dcxCookieValue=utils.getCookieValue(dcxCookieName);}if(!dcxCookieValue){if(wcxCookieValue){dcxCookieValue=wcxCookieValue;}else{if(sessionIDUsesStorage){dcxCookieValue=setSIDInStorage(dcxCookieName);}if(!dcxCookieValue&&sessionIDUsesCookie){dcxCookieValue=createDCXSIDCookie();}}}if(!dcxCookieValue){dcxCookieValue="Check7UIC7Cookie7Configuration77";}reqHeaders.push({name:"X-Discover-SaaS-TLTSID",value:dcxCookieValue});reqHeaders.push({name:"X-DCXVID",value:getVIDFromStorage("X-DCXVID")});if(reqHeaders.length){DCX.registerBridgeCallbacks([{enabled:true,cbType:"addRequestHeaders",cbFunction:function(){return reqHeaders;}}]);}}function isCookieWhitelisted(cookieName){var i,len,result=false,rule,whitelist=moduleConfig.appCookieWhitelist;if(!whitelist||!whitelist.length){return result;}for(i=0,len=whitelist.length;i<len&&!result;i+=1){rule=whitelist[i];if(rule.regex){if(!rule.cRegex){rule.cRegex=new RegExp(rule.regex,rule.flags);}rule.cRegex.lastIndex=0;result=rule.cRegex.test(cookieName);}else{result=(rule===cookieName);}}return result;}function postAppCookies(){var i,j,len,appCookies={},cookie,cookies=document.cookie,cookieList=[],cookieName="",cookieValue="";if(!cookies){return;}cookieList=cookies.split("; ");for(i=0,len=cookieList.length;i<len;i+=1){cookie=cookieList[i];j=cookie.indexOf("=");if(j>=0){try{cookieName=decodeURIComponent(cookie.substr(0,j));}catch(e1){cookieName=cookie.substr(0,j);}}cookieValue=cookie.substr(j+1);if(isCookieWhitelisted(cookieName)){try{appCookies[cookieName]=decodeURIComponent(cookieValue);}catch(e2){appCookies[cookieName]=cookieValue;}}}if(visitorCookieValue&&!appCookies[visitorCookieName]){appCookies[visitorCookieName]=visitorCookieValue;}context.post({type:14,cookies:appCookies});}return{init:function(){moduleConfig=context.getConfig()||{};processConfig(moduleConfig);getVisitorCookie();},destroy:function(){if(moduleConfig.sessionIDUsesStorage){setSIDInStorage(dcxCookieName,dcxCookieValue);}},onevent:function(webEvent){switch(webEvent.type){case"screenview_load":if(utils.getValue(moduleConfig,"appCookieWhitelist.length",0)){getVisitorCookie();postAppCookies();}break;default:break;}}};});if(DCX&&typeof DCX.addModule==="function"){DCX.addModule("performance",function(context){var moduleState={loadReceived:false,unloadReceived:false,perfEventSent:false},calculatedRenderTime=0,config,utils=context.utils;function isFiltered(prop,filter){if(typeof prop!=="string"){return false;}if(!filter||typeof filter!=="object"){return false;}return(filter[prop]===true);}function parseTiming(timing,filter){var epoch=0,normalizedTiming={},prop="",value=0;if(!timing||typeof timing!=="object"||!timing.navigationStart){return{};}epoch=timing.navigationStart;for(prop in timing){if(Object.prototype.hasOwnProperty.call(timing,prop)||typeof timing[prop]==="number"){if(!isFiltered(prop,filter)){value=timing[prop];if(typeof value==="number"&&value&&prop!=="navigationStart"){normalizedTiming[prop]=value-epoch;}else{normalizedTiming[prop]=value;}}}}return normalizedTiming;}function getRenderTime(timing){var renderTime=0,startTime,endTime;if(timing){startTime=(timing.responseEnd>0&&timing.responseEnd<timing.domLoading)?timing.responseEnd:timing.domLoading;endTime=timing.loadEventStart;if(utils.isNumeric(startTime)&&utils.isNumeric(endTime)&&endTime>startTime){renderTime=endTime-startTime;}}return renderTime;}function processLoadEvent(event){var startTime=context.getStartTime();if(event.timestamp>startTime&&!calculatedRenderTime){calculatedRenderTime=event.timestamp-startTime;}}function postPerformanceEvent(window){var navType="UNKNOWN",queueEvent={type:7,performance:{}},navigation,performance,timing;if(!window||moduleState.perfEventSent){return;}performance=window.performance||{};timing=performance.timing;navigation=performance.navigation;if(timing){if(!timing.loadEventStart){return;}queueEvent.performance.timing=parseTiming(timing,config.filter);queueEvent.performance.timing.renderTime=getRenderTime(timing);}else{if(config.calculateRenderTime){queueEvent.performance.timing={renderTime:calculatedRenderTime,calculated:true};}else{return;}}if(config.renderTimeThreshold&&queueEvent.performance.timing.renderTime>config.renderTimeThreshold){queueEvent.performance.timing.invalidRenderTime=queueEvent.performance.timing.renderTime;delete queueEvent.performance.timing.renderTime;}if(navigation){switch(navigation.type){case 0:navType="NAVIGATE";break;case 1:navType="RELOAD";break;case 2:navType="BACKFORWARD";break;default:navType="UNKNOWN";break;}queueEvent.performance.navigation={type:navType,redirectCount:navigation.redirectCount};}context.post(queueEvent);moduleState.perfEventSent=true;}return{init:function(){config=context.getConfig();},destroy:function(){config=null;},onevent:function(event){if(typeof event!=="object"||!event.type){return;}switch(event.type){case"load":moduleState.loadReceived=true;processLoadEvent(event);setTimeout(function(){if(context.isInitialized()){postPerformanceEvent(window);}},utils.getValue(config,"delay",2000));break;case"screenview_load":if(!moduleState.perfEventSent){postPerformanceEvent(window);}break;case"unload":moduleState.unloadReceived=true;if(!moduleState.perfEventSent){postPerformanceEvent(window);}break;default:break;}},onmessage:function(msg){}};});}else{}DCX.addModule("replay",function(context){var utils=context.utils,currOrientation=0,savedTouch={scale:0,timestamp:0},pastEvents={},lastEventId=null,tmpQueue=[],eventCounter=0,firstDOMCaptureEventFlag=true,curClientState=null,pastClientState=null,onerrorHandled=false,errorCount=0,visitOrder="",lastVisit="",pageLoadTime=(new Date()).getTime(),pageDwellTime=0,prevWebEvent=null,viewEventStart=null,viewTimeStart=null,scrollViewStart=null,scrollViewEnd=null,nextScrollViewStart=null,loggedExceptions={},loggedConsole={},viewPortXStart=0,viewPortYStart=0,lastFocusEvent={inFocus:false},lastClickEvent=null,replayConfig=context.getConfig()||{},viewPortWidthHeightLimit=utils.getValue(replayConfig,"viewPortWidthHeightLimit",10000),deviceScale=1,previousDeviceScale=1,extendGetItem,gridValues={cellMaxX:10,cellMaxY:10,cellMinWidth:20,cellMinHeight:20};function resetVisitedCounts(){var control;for(control in pastEvents){if(pastEvents.hasOwnProperty(control)){pastEvents[control].visitedCount=0;}}}function isTargetClickable(target){var clickable=false,clickableInputTypes="|button|image|submit|reset|",subType=null;if(typeof target!=="object"||!target.type){return clickable;}switch(target.type.toLowerCase()){case"input":subType="|"+(target.subType||"")+"|";if(clickableInputTypes.indexOf(subType.toLowerCase())===-1){clickable=false;}else{clickable=true;}break;case"select":case"textarea":clickable=false;break;default:clickable=true;break;}return clickable;}function parentElements(node){var parents=[];node=node.parentNode;while(node){parents.push(node);node=node.parentNode;}return parents;}function getParentLink(parents){return utils.some(parents,function(node){var tagName=utils.getTagName(node);if(tagName==="a"||tagName==="button"){return node;}return null;});}function getDCEvent(webEvent){var dcEvent=webEvent.type,target=webEvent.target;if(typeof dcEvent==="string"){dcEvent=dcEvent.toLowerCase();}else{dcEvent="unknown";}if(dcEvent==="blur"){dcEvent="focusout";}if(dcEvent==="change"){if(target.type==="INPUT"){switch(target.subType){case"text":case"date":case"time":dcEvent=target.subType+"Change";break;default:dcEvent="valueChange";break;}}else{if(target.type==="TEXTAREA"){dcEvent="textChange";}else{dcEvent="valueChange";}}}return dcEvent;}function scheduleDOMCapture(root,config,delay){var dcid=null;if(!root){return dcid;}config=config||{};config.eventOn=firstDOMCaptureEventFlag;firstDOMCaptureEventFlag=false;if(delay){dcid="dcid-"+utils.getSerialNumber()+"."+(new Date()).getTime()+"s";window.setTimeout(function(){config.dcid=dcid;context.performDOMCapture(root,config);},delay);}else{delete config.dcid;dcid=context.performDOMCapture(root,config);}return dcid;}function addDOMCapture(eventType,target,screenviewName){var i,j,capture=false,captureConfig={},dcEnabled=false,dcTrigger,dcTriggerList,dcid=null,delay=0,len,screenview,screenviews,screenviewsLen;if(!eventType||(!target&&!screenviewName)){return dcid;}if(!target&&!(eventType==="load"||eventType==="unload")){return dcid;}replayConfig=context.getConfig()||{};dcEnabled=utils.getValue(replayConfig,"domCapture.enabled",false);if(!dcEnabled||utils.isLegacyIE){return dcid;}dcTriggerList=utils.getValue(replayConfig,"domCapture.triggers")||[];for(i=0,len=dcTriggerList.length;!capture&&i<len;i+=1){dcTrigger=dcTriggerList[i];if(dcTrigger.event===eventType){if(eventType==="load"||eventType==="unload"){if(dcTrigger.screenviews){screenviews=dcTrigger.screenviews;for(j=0,screenviewsLen=screenviews.length;!capture&&j<screenviewsLen;j+=1){screenview=screenviews[j];switch(typeof screenview){case"object":if(!screenview.cRegex){screenview.cRegex=new RegExp(screenview.regex,screenview.flags);}screenview.cRegex.lastIndex=0;capture=screenview.cRegex.test(screenviewName);break;case"string":capture=(screenview===screenviewName);break;default:break;}}}else{capture=true;}}else{if(dcTrigger.targets){capture=(-1!==utils.matchTarget(dcTrigger.targets,target));}else{capture=true;}}}}if(capture){delay=dcTrigger.delay||(dcTrigger.event==="load"?7:0);captureConfig.forceFullDOM=!!dcTrigger.fullDOMCapture;dcid=scheduleDOMCapture(window.document,captureConfig,delay);}return dcid;}function createQueueEvent(options){var control,dcid,target=utils.getValue(options,"webEvent.target",{}),targetType=target.type,targetSubtype=target.subType||"",dcType=utils.getDcType(target),parents=parentElements(utils.getValue(target,"element")),parentLinkNode=null,relXY=utils.getValue(target,"position.relXY"),eventSubtype=utils.getValue(options,"webEvent.subType",null),getOrgID=function(target){if(target&&target.element&&target.element.id){return target.element.id;}return"";};control={timestamp:utils.getValue(options,"webEvent.timestamp",0),type:4,target:{origID:getOrgID(target),id:target.id||"",idType:target.idType,name:target.name,dcType:dcType,type:targetType,position:{width:utils.getValue(target,"size.width"),height:utils.getValue(target,"size.height")},currState:options.currState||null},event:{dcEvent:getDCEvent(utils.getValue(options,"webEvent")),type:utils.getValue(options,"webEvent.type","UNKNOWN")}};if(control.target.origID===undefined||control.target.origID===""){delete control.target.origID;}if(targetSubtype){control.target.subType=targetSubtype;}if(relXY){control.target.position.relXY=relXY;}if(typeof options.dwell==="number"&&options.dwell>0){control.target.dwell=options.dwell;}if(typeof options.visitedCount==="number"){control.target.visitedCount=options.visitedCount;}if(typeof options.prevState!=="undefined"){control.prevState=options.prevState;}if(eventSubtype){control.event.subType=eventSubtype;}parentLinkNode=getParentLink(parents);control.target.isParentLink=!!parentLinkNode;if(parentLinkNode){if(parentLinkNode.href){control.target.currState=control.target.currState||{};control.target.currState.href=control.target.currState.href||parentLinkNode.href;}if(parentLinkNode.value){control.target.currState=control.target.currState||{};control.target.currState.value=control.target.currState.value||parentLinkNode.value;}if(parentLinkNode.innerText||parentLinkNode.textContent){control.target.currState=control.target.currState||{};control.target.currState.innerText=utils.trim(control.target.currState.innerText||parentLinkNode.innerText||parentLinkNode.textContent);}}if(utils.isUndefOrNull(control.target.currState)){delete control.target.currState;}if(utils.isUndefOrNull(control.target.name)){delete control.target.name;}return control;}function postUIEvent(queueEvent){context.post(queueEvent);}function postEventQueue(queue){var i=0,j,len=queue.length,e1,e2,tmp,ignoredEvents={mouseout:true,mouseover:true},results=[];for(i=0;i<len;i+=1){e1=queue[i];if(!e1){continue;}if(ignoredEvents[e1.event.type]){results.push(e1);}else{for(j=i+1;j<len&&queue[j];j+=1){if(!ignoredEvents[queue[j].event.type]){break;}}if(j<len){e2=queue[j];if(e2&&e1.target.id===e2.target.id&&e1.event.type!==e2.event.type){if(e1.event.type==="click"){tmp=e1;e1=e2;e2=tmp;}if(e2.event.type==="click"){e1.target.position=e2.target.position;i+=1;}else{if(e2.event.type==="blur"){e1.target.dwell=e2.target.dwell;e1.target.visitedCount=e2.target.visitedCount;e1.focusInOffset=e2.focusInOffset;e1.target.position=e2.target.position;i+=1;}}queue[j]=null;queue[i]=e1;}}results.push(queue[i]);}}for(e1=results.shift();e1;e1=results.shift()){context.post(e1);}queue.splice(0,queue.length);}function handleConsole(message,method){if(typeof message!=="string"){return;}if(loggedConsole[message]){loggedConsole[message].console.repeats=loggedConsole[message].console.repeats+1;}else{loggedConsole[message]={console:{description:message,repeats:1,type:method}};}}function handleError(webEvent){var errorMessage=null,i,msg=utils.getValue(webEvent,"nativeEvent.message"),url=utils.getValue(webEvent,"nativeEvent.filename",""),line=utils.getValue(webEvent,"nativeEvent.lineno",-1),errorObject=utils.getValue(webEvent,"nativeEvent.error");if(typeof msg!=="string"){return;}if(url){url=context.normalizeUrl(url,6);}if(errorObject&&errorObject.stack){i=errorObject.stack.toString();}else{i=(msg+" "+url+" "+line).toString();}if(loggedExceptions[i]){loggedExceptions[i].exception.repeats=loggedExceptions[i].exception.repeats+1;}else{errorMessage={type:6,exception:{description:msg,url:url,line:line}};context.post(errorMessage);loggedExceptions[i]={exception:{description:msg,url:url,line:line,repeats:1}};}errorCount+=1;}function addToTmpQueue(webEvent,id){tmpQueue.push(createQueueEvent({webEvent:webEvent,id:id,currState:utils.getValue(webEvent,"target.state")}));}function handleBlur(id,webEvent){var convertToBlur=false,convertToChange=false,dcid,lastQueueEvent,targetState,i=0;if(!id){return;}if(tmpQueue.length===0){return;}webEvent=webEvent||(pastEvents[id]?pastEvents[id].webEvent:{});if(webEvent.type==="blur"||webEvent.type==="change"){targetState=utils.getValue(webEvent,"target.state",null);}else{if(webEvent.target){targetState=utils.getTargetState(webEvent.target.element)||{};}else{targetState={};}}lastQueueEvent=tmpQueue[tmpQueue.length-1];if(pastEvents[id]){lastQueueEvent.focusInOffset=pastEvents[id].focusInOffset;lastQueueEvent.target.visitedCount=pastEvents[id].visitedCount;if(pastEvents[id].focus){pastEvents[id].dwell=Number(new Date())-pastEvents[id].focus;lastQueueEvent.target.dwell=pastEvents[id].dwell;}if(!pastEvents[id].processedChange&&pastEvents[id].prevState){if(!utils.isEqual(pastEvents[id].prevState,targetState)){convertToChange=true;webEvent.type="change";lastQueueEvent.event.type=webEvent.type;lastQueueEvent.event.dcEvent=getDCEvent(webEvent);lastQueueEvent.target.prevState=pastEvents[id].prevState;lastQueueEvent.target.currState=targetState;}}}else{pastEvents[id]={};}if(lastQueueEvent.event.type==="click"){if(!isTargetClickable(lastQueueEvent.target)){lastQueueEvent.target.currState=targetState;convertToBlur=true;}}else{if(lastQueueEvent.event.type==="focus"){convertToBlur=true;}}if(convertToBlur){lastQueueEvent.event.type="blur";lastQueueEvent.event.dcEvent="focusout";}if(!lastQueueEvent.dcid){dcid=addDOMCapture(lastQueueEvent.event.type,webEvent.target);if(dcid){lastQueueEvent.dcid=dcid;}}lastFocusEvent.inFocus=false;postEventQueue(tmpQueue);}function handleFocus(id,webEvent){if(lastFocusEvent.inFocus&&lastFocusEvent.target.id===id){return;}if(lastFocusEvent.inFocus){handleBlur(lastFocusEvent.target.id,lastFocusEvent);}lastFocusEvent=webEvent;lastFocusEvent.inFocus=true;if(!pastEvents[id]){pastEvents[id]={};}pastEvents[id].focus=lastFocusEvent.dwellStart=Number(new Date());pastEvents[id].focusInOffset=viewTimeStart?lastFocusEvent.dwellStart-Number(viewTimeStart):-1;if(webEvent.type==="focus"||webEvent.type==="click"){pastEvents[id].prevState=utils.getValue(webEvent,"target.state");}pastEvents[id].visitedCount=pastEvents[id].visitedCount+1||1;pastEvents[id].webEvent=webEvent;pastEvents[id].processedChange=false;pastEvents[id].processedClick=false;addToTmpQueue(webEvent,id);}function checkQueue(id,webEvent){var pendingInteractionPosted=false,prevID,tmpQueueLength=tmpQueue.length,tmpQueueEvent=tmpQueueLength?tmpQueue[tmpQueueLength-1]:null;if(!tmpQueueEvent){return pendingInteractionPosted;}prevID=tmpQueueEvent.target.id;if(prevID!==id&&tmpQueueEvent.target.dcxype!=="selectList"){if(webEvent.type==="focus"||webEvent.type==="click"||webEvent.type==="change"){handleBlur(prevID);pendingInteractionPosted=true;}}return pendingInteractionPosted;}function handleChange(id,webEvent){var tmpQueueEvent;handleFocus(id,webEvent);tmpQueueEvent=tmpQueue[tmpQueue.length-1];tmpQueueEvent.event.type="change";tmpQueueEvent.event.dcEvent=getDCEvent(webEvent);tmpQueueEvent.target.currState=webEvent.target.state;if(pastEvents[id].prevState){tmpQueueEvent.target.prevState=pastEvents[id].prevState;}pastEvents[id].webEvent=webEvent;pastEvents[id].processedChange=true;}function getRelativeXY(webEvent){var cellWidth,cellHeight,cellX,cellY,node=utils.getValue(webEvent,"target.element",{}),nodeWidth=utils.getValue(webEvent,"target.size.width",node.offsetWidth),nodeHeight=utils.getValue(webEvent,"target.size.height",node.offsetHeight),offsetX=utils.getValue(webEvent,"target.position.x",0),offsetY=utils.getValue(webEvent,"target.position.y",0);cellWidth=nodeWidth?Math.max(nodeWidth/gridValues.cellMaxX,gridValues.cellMinWidth):gridValues.cellMinWidth;cellHeight=nodeHeight?Math.max(nodeHeight/gridValues.cellMaxY,gridValues.cellMinHeight):gridValues.cellMinHeight;cellX=Math.floor(offsetX/cellWidth);cellY=Math.floor(offsetY/cellHeight);if(!isFinite(cellX)){cellX=0;}if(!isFinite(cellY)){cellY=0;}return cellX+","+cellY;}function handleClick(id,webEvent){var relXY,tmpQueueEvent;if(webEvent.target.type==="select"&&lastClickEvent&&lastClickEvent.target.id===id){lastClickEvent=null;return;}handleFocus(id,webEvent);relXY=getRelativeXY(webEvent);webEvent.target.position.relXY=relXY;tmpQueueEvent=tmpQueue[tmpQueue.length-1];tmpQueueEvent.event.type="click";tmpQueueEvent.event.dcEvent=getDCEvent(webEvent);tmpQueueEvent.target.position.relXY=relXY;pastEvents[id].webEvent=webEvent;pastEvents[id].processedClick=true;if(isTargetClickable(webEvent.target)){handleBlur(id,webEvent);}lastClickEvent=webEvent;}function handleOrientationChange(webEvent){var newOrientation=webEvent.orientation,orientationChangeEvent={type:4,event:{type:"orientationchange"},target:{prevState:{orientation:currOrientation,orientationMode:utils.getOrientationMode(currOrientation)},currState:{orientation:newOrientation,orientationMode:utils.getOrientationMode(newOrientation)}}};postUIEvent(orientationChangeEvent);currOrientation=newOrientation;}function isDuplicateTouch(touchState){var result=false;if(!touchState){return result;}result=(savedTouch.scale===touchState.scale&&Math.abs((new Date()).getTime()-savedTouch.timestamp)<500);return result;}function saveTouchState(touchState){savedTouch.scale=touchState.scale;savedTouch.rotation=touchState.rotation;savedTouch.timestamp=(new Date()).getTime();}function getPinchType(){var s,pinchType;s=deviceScale-previousDeviceScale;if(isNaN(s)){pinchType="INVALID";}else{if(s<0){pinchType="CLOSE";}else{if(s>0){pinchType="OPEN";}else{pinchType="NONE";}}}return pinchType;}function getClientStateMessage(webEvent){var documentElement=document.documentElement||{},documentBody=document.body||{},screen=window.screen,screenWidth=screen.width,screenHeight=screen.height,deviceOrientation=utils.getValue(webEvent,"orientation",0),normalizedScreenWidth=!utils.isiOS?screenWidth:Math.abs(deviceOrientation)===90?screenHeight:screenWidth,msg={type:1,clientState:{pageWidth:document.width||(!documentElement?0:documentElement.offsetWidth),pageHeight:Math.max((!document.height?0:document.height),(!documentElement?0:documentElement.offsetHeight),(!documentElement?0:documentElement.scrollHeight)),viewPortWidth:window.innerWidth||documentElement.clientWidth,viewPortHeight:window.innerHeight||documentElement.clientHeight,viewPortX:Math.round(window.pageXOffset||(!documentElement?(!documentBody?0:documentBody.scrollLeft):documentElement.scrollLeft||0)),viewPortY:Math.round(window.pageYOffset||(!documentElement?(!documentBody?0:documentBody.scrollTop):documentElement.scrollTop||0)),deviceOrientation:deviceOrientation,event:utils.getValue(webEvent,"type")}},clientState=msg.clientState,scaleWidth;pastClientState=pastClientState||msg;if(clientState.event==="unload"&&clientState.viewPortHeight===clientState.pageHeight&&clientState.viewPortWidth===clientState.pageWidth){if(pastClientState.clientState.viewPortHeight<clientState.viewPortHeight){clientState.viewPortHeight=pastClientState.clientState.viewPortHeight;clientState.viewPortWidth=pastClientState.clientState.viewPortWidth;}}if((clientState.viewPortY+clientState.viewPortHeight)>clientState.pageHeight){clientState.viewPortY=clientState.pageHeight-clientState.viewPortHeight;}if(clientState.viewPortY<0){clientState.viewPortY=0;}scaleWidth=!clientState.viewPortWidth?1:(normalizedScreenWidth/clientState.viewPortWidth);clientState.deviceScale=scaleWidth.toFixed(3);clientState.viewTime=0;if(scrollViewStart&&scrollViewEnd){clientState.viewTime=scrollViewEnd.getTime()-scrollViewStart.getTime();}if(webEvent.type==="scroll"){clientState.viewPortXStart=pastClientState.clientState.viewPortX;clientState.viewPortYStart=pastClientState.clientState.viewPortY;}return msg;}function sendClientState(){var cs;if(curClientState){cs=curClientState.clientState;if(cs.viewPortHeight>0&&cs.viewPortHeight<viewPortWidthHeightLimit&&cs.viewPortWidth>0&&cs.viewPortWidth<viewPortWidthHeightLimit){postUIEvent(curClientState);}pastClientState=curClientState;curClientState=null;scrollViewStart=nextScrollViewStart||scrollViewStart;scrollViewEnd=null;}sendClientState.timeoutId=0;}function handleClientState(webEvent){var attentionMsg=null;if(utils.isOperaMini){return;}curClientState=getClientStateMessage(webEvent);if(webEvent.type==="scroll"||webEvent.type==="resize"){if(sendClientState.timeoutId){window.clearTimeout(sendClientState.timeoutId);}sendClientState.timeoutId=window.setTimeout(sendClientState,utils.getValue(replayConfig,"scrollTimeout",2000));}else{if(webEvent.type==="touchstart"||webEvent.type==="load"){if(curClientState){previousDeviceScale=parseFloat(curClientState.clientState.deviceScale);}}else{if(webEvent.type==="touchend"){if(curClientState){deviceScale=parseFloat(curClientState.clientState.deviceScale);sendClientState();}}}}if(webEvent.type==="load"||webEvent.type==="unload"){if(webEvent.type==="unload"&&pageLoadTime){attentionMsg=utils.clone(curClientState);attentionMsg.clientState.event="attention";attentionMsg.clientState.viewTime=(new Date()).getTime()-pageLoadTime;}sendClientState();if(attentionMsg){curClientState=attentionMsg;}}return curClientState;}function handleTouchStart(webEvent){var fingerCount=utils.getValue(webEvent,"nativeEvent.touches.length",0);if(fingerCount===2){handleClientState(webEvent);}}function handleTouchEnd(webEvent){var fingerCount,prevTouchState={},rotation=utils.getValue(webEvent,"nativeEvent.rotation",0)||utils.getValue(webEvent,"nativeEvent.touches[0].webkitRotationAngle",0),scale=utils.getValue(webEvent,"nativeEvent.scale",1),touchState=null,touchEndEvent={type:4,event:{type:"touchend"},target:{id:utils.getValue(webEvent,"target.id"),idType:utils.getValue(webEvent,"target.idType")}};fingerCount=utils.getValue(webEvent,"nativeEvent.changedTouches.length",0)+utils.getValue(webEvent,"nativeEvent.touches.length",0);if(fingerCount!==2){return;}handleClientState(webEvent);touchState={rotation:rotation?rotation.toFixed(2):0,scale:deviceScale?deviceScale.toFixed(2):1};touchState.pinch=getPinchType();prevTouchState.scale=previousDeviceScale?previousDeviceScale.toFixed(2):1;touchEndEvent.target.prevState=prevTouchState;touchEndEvent.target.currState=touchState;postUIEvent(touchEndEvent);}function isDuplicateEvent(curr,prev){var propsToCompare=["type","name","target.id"],prop=null,i,len,duplicate=true,DUPLICATE_EVENT_THRESHOLD_TIME=10,timeDiff=0,currTimeStamp=0,prevTimeStamp=0;if(!curr||!prev||typeof curr!=="object"||typeof prev!=="object"){return false;}for(i=0,len=propsToCompare.length;duplicate&&i<len;i+=1){prop=propsToCompare[i];if(utils.getValue(curr,prop)!==utils.getValue(prev,prop)){duplicate=false;break;}}if(duplicate){currTimeStamp=utils.getValue(curr,"timestamp");prevTimeStamp=utils.getValue(prev,"timestamp");if(!(isNaN(currTimeStamp)&&isNaN(prevTimeStamp))){timeDiff=Math.abs(utils.getValue(curr,"timestamp")-utils.getValue(prev,"timestamp"));if(isNaN(timeDiff)||timeDiff>DUPLICATE_EVENT_THRESHOLD_TIME){duplicate=false;}}}return duplicate;}function defaultEventHandler(webEvent){var msg={type:4,event:{type:webEvent.type},target:{id:utils.getValue(webEvent,"target.id"),idType:utils.getValue(webEvent,"target.idType"),currState:utils.getValue(webEvent,"target.state")}},dcid;dcid=addDOMCapture(webEvent.type,webEvent.target);if(dcid){msg.dcid=dcid;}postUIEvent(msg);}function interceptConsole(){var console=window.console;if(!console){return;}function intercept(method){var original=console[method];console[method]=function(){var args=Array.prototype.slice.apply(arguments);var argStringCollection=[];args.forEach(function(arg){argStringCollection.push(JSON.stringify(arg));});var message=argStringCollection.join(" ");handleConsole(message,method);original.apply(console,arguments);};}var methods=["log","warn","info","error"];for(var i=0;i<methods.length;i++){intercept(methods[i]);}}function addGeolocationMsg(eventName){var geolocationConfig=utils.getValue(replayConfig,"geolocation"),triggers;if(!geolocationConfig||!geolocationConfig.enabled){return;}triggers=geolocationConfig.triggers||[];if(!triggers.length){return;}if(triggers[0].event===eventName){DCX.logGeolocation();}}return{init:function(){tmpQueue=[];},destroy:function(){handleBlur(lastEventId);tmpQueue=[];if(sendClientState.timeoutId){window.clearTimeout(sendClientState.timeoutId);sendClientState.timeoutId=0;}if(onerrorHandled){onerrorHandled=false;}},onevent:function(webEvent){var id=null,returnObj=null,orientation,loggedException,exception,consoleTrack,consoleMessage,coreConfig=DCX.getCoreConfig(),errorMessage=null,screenOrientation;if(typeof webEvent!=="object"||!webEvent.type){return;}if(isDuplicateEvent(webEvent,prevWebEvent)){prevWebEvent=webEvent;return;}prevWebEvent=webEvent;id=utils.getValue(webEvent,"target.id");if(!pastEvents[id]){pastEvents[id]={};}checkQueue(id,webEvent);switch(webEvent.type){case"hashchange":break;case"focus":returnObj=handleFocus(id,webEvent);break;case"blur":returnObj=handleBlur(id,webEvent);break;case"click":returnObj=handleClick(id,webEvent);break;case"change":returnObj=handleChange(id,webEvent);break;case"orientationchange":returnObj=handleOrientationChange(webEvent);break;case"touchstart":handleTouchStart(webEvent);break;case"touchend":returnObj=handleTouchEnd(webEvent);break;case"loadWithFrames":DCX.logScreenviewLoad("rootWithFrames");break;case"load":if(coreConfig&&coreConfig.captureConsole){interceptConsole();}currOrientation=webEvent.orientation;scrollViewStart=new Date();if(typeof window.orientation!=="number"||utils.isAndroid){screenOrientation=(window.screen.width>window.screen.height?90:0);orientation=window.orientation;if(Math.abs(orientation)!==screenOrientation&&!(orientation===180&&screenOrientation===0)){utils.isLandscapeZeroDegrees=true;if(Math.abs(orientation)===180||Math.abs(orientation)===0){currOrientation=90;}else{if(Math.abs(orientation)===90){currOrientation=0;}}}}setTimeout(function(){if(context.isInitialized()){handleClientState(webEvent);}},100);addGeolocationMsg(webEvent.type);DCX.logScreenviewLoad("root");break;case"screenview_load":viewTimeStart=new Date();resetVisitedCounts();returnObj=addDOMCapture("load",null,webEvent.name);break;case"screenview_unload":returnObj=addDOMCapture("unload",null,webEvent.name);break;case"resize":case"scroll":if(!scrollViewEnd){scrollViewEnd=new Date();}nextScrollViewStart=new Date();handleClientState(webEvent);break;case"unload":for(loggedException in loggedExceptions){if(loggedExceptions.hasOwnProperty(loggedException)){exception=loggedExceptions[loggedException].exception;if(exception.repeats>1){errorMessage={type:6,exception:exception};context.post(errorMessage);}}}if(coreConfig&&coreConfig.captureConsole){for(var consoleTrack in loggedConsole){if(loggedConsole.hasOwnProperty(consoleTrack)){consoleMessage=loggedConsole[consoleTrack].console;context.post({type:6,console:consoleMessage});}}}if(tmpQueue!=null){postEventQueue(tmpQueue);}scrollViewEnd=new Date();handleClientState(webEvent);DCX.logScreenviewUnload("root");break;case"error":handleError(webEvent);break;default:defaultEventHandler(webEvent);break;}lastEventId=id;return returnObj;},onmessage:function(){}};});if(DCX&&typeof DCX.addModule==="function"){DCX.addModule("usability",function(context){var utils=context.utils,eventMap={},configDefaults={updateInterval:250,hoverThreshold:1000,hoverThresholdMax:2*60*1000,gridCellMaxX:10,gridCellMaxY:10,gridCellMinWidth:20,gridCellMinHeight:20},MAX_ITERATIONS=50;function getConfigValue(key){var usabilityConfig=context.getConfig()||{},value=usabilityConfig[key];return typeof value==="number"?value:configDefaults[key];}function postUIEvent(hoverEvent,options){var target=utils.getValue(hoverEvent,"webEvent.target",{}),tagName=utils.getValue(target,"element.tagName")||"",type=tagName.toLowerCase()==="input"?utils.getValue(target,"element.type"):"",dcType=utils.getDcType(target),getOrgID=function(target){if(target&&target.element&&target.element.id){return target.element.id;}return"";},uiEvent={type:9,event:{hoverDuration:hoverEvent.hoverDuration,hoverToClick:utils.getValue(options,"hoverToClick")},target:{origID:getOrgID(target),id:target.id||"",idType:target.idType||"",name:target.name||"",dcType:dcType,type:tagName,subType:type,position:{width:utils.getValue(target,"element.offsetWidth",0),height:utils.getValue(target,"element.offsetHeight",0),relXY:hoverEvent.relXY}}};if((typeof uiEvent.target.origID)===undefined||uiEvent.target.origID===""){delete uiEvent.target.origID;}if((typeof uiEvent.target.id)===undefined||uiEvent.target.id===""){return;}context.post(uiEvent);}function getNativeNode(node){if(node&&!node.nodeType&&node.element){node=node.element;}return node;}function stopNode(node){node=getNativeNode(node);return !node||node===document.body||node===document.html||node===document;}function getParent(node){node=getNativeNode(node);if(!node){return null;}return node.parentNode;}function getOffsetParent(node){node=getNativeNode(node);if(!node){return null;}return node.offsetParent||node.parentElement||getParent(node);}function isChildOf(root,node){var idx=0;if(!node||node===root){return false;}node=getParent(node);while(!stopNode(node)&&idx++<MAX_ITERATIONS){if(node===root){return true;}node=getParent(node);}if(idx>=MAX_ITERATIONS){utils.clog("Usability isChildOf() hit iterations limit");}return false;}function getNativeEvent(e){if(e.nativeEvent){e=e.nativeEvent;}return e;}function getNativeTarget(e){return getNativeEvent(e).target;}function getNodeType(node){node=getNativeNode(node);if(!node){return -1;}return node.nodeType||-1;}function getNodeTagName(node){node=getNativeNode(node);if(!node){return"";}return node.tagName?node.tagName.toUpperCase():"";}function stopEventPropagation(e){if(!e){return;}if(e.nativeEvent){e=e.nativeEvent;}if(e.stopPropagation){e.stopPropagation();}else{if(e.cancelBubble){e.cancelBubble();}}}function ignoreNode(node){var tagName=getNodeTagName(node);return getNodeType(node)!==1||tagName==="TR"||tagName==="TBODY"||tagName==="THEAD";}function getXPathFromNode(node){if(!node){return"";}if(node.xPath){return node.xPath;}node=getNativeNode(node);return context.getXPathFromNode(node);}function callHoverEventMethod(key,methodName){var hEvent=eventMap[key];if(hEvent&&hEvent[methodName]){return hEvent[methodName]();}}function HoverEvent(dm,gx,gy,webEvent){this.xPath=dm!==null?getXPathFromNode(dm):"";this.domNode=dm;this.hoverDuration=0;this.hoverUpdateTime=0;this.gridX=Math.max(gx,0);this.gridY=Math.max(gy,0);this.parentKey="";this.updateTimer=-1;this.disposed=false;this.childKeys={};this.webEvent=webEvent;this.getKey=function(){return this.xPath+":"+this.gridX+","+this.gridY;};this.update=function(){var curTime=new Date().getTime(),key=this.getKey();if(this.hoverUpdateTime!==0){this.hoverDuration+=curTime-this.hoverUpdateTime;}this.hoverUpdateTime=curTime;clearTimeout(this.updateTimer);this.updateTimer=setTimeout(function(){callHoverEventMethod(key,"update");},getConfigValue("updateInterval"));};this.dispose=function(leaveClone){clearTimeout(this.updateTimer);delete eventMap[this.getKey()];this.disposed=true;if(leaveClone){var cloneEvt=this.clone();eventMap[cloneEvt.getKey()]=cloneEvt;cloneEvt.update();}};this.process=function(wasClicked){clearTimeout(this.updateTimer);if(this.disposed){return false;}var addedToQueue=false,hEvent=this,key=null,idx=0;if(this.hoverDuration>=getConfigValue("hoverThreshold")){this.hoverDuration=Math.min(this.hoverDuration,getConfigValue("hoverThresholdMax"));addedToQueue=true;postUIEvent(this,{hoverToClick:!!wasClicked});while(typeof hEvent!=="undefined"&&idx++<MAX_ITERATIONS){hEvent.dispose(wasClicked);hEvent=eventMap[hEvent.parentKey];}if(idx>=MAX_ITERATIONS){utils.clog("Usability process() hit iterations limit");}}else{this.dispose(wasClicked);}return addedToQueue;};this.clone=function(){var cloneEvent=new HoverEvent(this.domNode,this.gridX,this.gridY);cloneEvent.parentKey=this.parentKey;return cloneEvent;};}function createHoverEvent(node,x,y,webEvt){return new HoverEvent(node,x,y,webEvt);}function calculateNodeOffset(node){if(node&&node.position){return{x:node.position.x,y:node.position.y};}node=getNativeNode(node);var boundingRect=node&&node.getBoundingClientRect?node.getBoundingClientRect():null,offsetX=boundingRect?boundingRect.left:(node?node.offsetLeft:0),offsetY=boundingRect?boundingRect.top:(node?node.offsetHeight:0),lastOffsetX=offsetX,lastOffsetY=offsetY,offsetDiffX=0,offsetDiffY=0,curNode=getOffsetParent(node),idx=0;while(curNode&&idx++<MAX_ITERATIONS){if(stopNode(curNode)){break;}offsetDiffX=curNode.offsetLeft-(curNode.scrollLeft||0);offsetDiffY=curNode.offsetTop-(curNode.scrollTop||0);if(offsetDiffX!==lastOffsetX||offsetDiffY!==lastOffsetY){offsetX+=offsetDiffX;offsetY+=offsetDiffY;lastOffsetX=offsetDiffX;lastOffsetY=offsetDiffY;}curNode=getOffsetParent(curNode);}if(idx>=MAX_ITERATIONS){utils.clog("Usability calculateNodeOffset() hit iterations limit");}if(isNaN(offsetX)){offsetX=0;}if(isNaN(offsetY)){offsetY=0;}return{x:offsetX,y:offsetY};}function calculateRelativeCursorPos(node,cursorX,cursorY){node=getNativeNode(node);var nodeOffset=calculateNodeOffset(node),offsetX=cursorX-nodeOffset.x,offsetY=cursorY-nodeOffset.y;if(!isFinite(offsetX)){offsetX=0;}if(!isFinite(offsetY)){offsetY=0;}return{x:offsetX,y:offsetY};}function formatRelXY(x,y){x=Math.floor(Math.min(Math.max(x,0),1)*100)/100;y=Math.floor(Math.min(Math.max(y,0),1)*100)/100;return x+","+y;}function calculateGridCell(node,offsetX,offsetY){node=getNativeNode(node);var boundingRect=node.getBoundingClientRect?node.getBoundingClientRect():null,oWidth=boundingRect?boundingRect.width:node.offsetWidth,oHeight=boundingRect?boundingRect.height:node.offsetHeight,cellWidth=oWidth&&oWidth>0?Math.max(oWidth/getConfigValue("gridCellMaxX"),getConfigValue("gridCellMinWidth")):getConfigValue("gridCellMinWidth"),cellHeight=oHeight&&oHeight>0?Math.max(oHeight/getConfigValue("gridCellMaxY"),getConfigValue("gridCellMinHeight")):getConfigValue("gridCellMinHeight"),cellX=Math.floor(offsetX/cellWidth),cellY=Math.floor(offsetY/cellHeight),xVal=oWidth>0?offsetX/oWidth:0,yVal=oHeight>0?offsetY/oHeight:0,relXYVal="";if(!isFinite(cellX)){cellX=0;}if(!isFinite(cellY)){cellY=0;}relXYVal=formatRelXY(xVal,yVal);return{x:cellX,y:cellY,relXY:relXYVal};}function cleanupHoverEvents(curEvent){var hEvent=curEvent,curKey=curEvent.getKey(),allowedKeyMap={},key=null,childKey=null,addedToQueue=false,idx=0;allowedKeyMap[curKey]=true;while(typeof hEvent!=="undefined"&&idx++<MAX_ITERATIONS){allowedKeyMap[hEvent.parentKey]=true;if(hEvent.parentKey===""||hEvent.parentKey===hEvent.getKey()){break;}if(idx>=MAX_ITERATIONS){utils.clog("Usability cleanupHoverEvents() hit iterations limit");}hEvent=eventMap[hEvent.parentKey];}for(key in eventMap){if(eventMap.hasOwnProperty(key)&&!allowedKeyMap[key]){hEvent=eventMap[key];if(hEvent){if(!addedToQueue){addedToQueue=hEvent.process();}else{hEvent.dispose();}}}}}function processEventsByDomNode(eventNode,keyToIgnore){var hEvent=null,key=null,addedToQueue=false;for(key in eventMap){if(eventMap.hasOwnProperty(key)){hEvent=eventMap[key];if(hEvent&&hEvent.domNode===eventNode&&hEvent.getKey()!==keyToIgnore){if(!addedToQueue){addedToQueue=hEvent.process();}else{hEvent.dispose();}}}}}function hoverHandler(e,node,isParent){if(!node){node=e.target;}if(stopNode(node)){return null;}if(utils.isiOS||utils.isAndroid){return null;}var rPos,gPos,hEvent,key,parentKey,parentEvent,offsetParent;if(!ignoreNode(node)){rPos=calculateRelativeCursorPos(node,e.position.x,e.position.y);gPos=calculateGridCell(node,rPos.x,rPos.y);hEvent=new HoverEvent(node,gPos.x,gPos.y,e);hEvent.relXY=gPos.relXY;key=hEvent.getKey();if(eventMap[key]){hEvent=eventMap[key];}else{eventMap[key]=hEvent;}hEvent.update();if(!isParent){offsetParent=getOffsetParent(node);if(offsetParent){parentEvent=hoverHandler(e,offsetParent,true);if(parentEvent!==null){parentKey=parentEvent.getKey();key=hEvent.getKey();if(key!==parentKey){hEvent.parentKey=parentKey;}}}cleanupHoverEvents(hEvent);}}else{hEvent=hoverHandler(e,getOffsetParent(node),isParent);}return hEvent;}function leaveHandler(e){e=getNativeEvent(e);if(isChildOf(e.target,e.relatedTarget)){return;}processEventsByDomNode(e.target);}function clickHandler(e){var hEvent=null,key=null,addedToQueue=false;for(key in eventMap){if(eventMap.hasOwnProperty(key)){hEvent=eventMap[key];if(hEvent){if(!addedToQueue){addedToQueue=hEvent.process(true);}else{hEvent.dispose();}}}}}function submitHandler(e){context.performFormCompletion(true);}function handleEvent(e){var targetId=utils.getValue(e,"target.id");if(!targetId){return;}switch(e.type){case"mousemove":hoverHandler(e);break;case"mouseout":leaveHandler(e);break;case"click":clickHandler(e);break;case"submit":submitHandler(e);break;default:break;}}return{init:function(){},destroy:function(){var key,i;for(key in eventMap){if(eventMap.hasOwnProperty(key)){eventMap[key].dispose();delete eventMap[key];}}},onevent:function(event){if(typeof event!=="object"||!event.type){return;}handleEvent(event);},onmessage:function(msg){},createHoverEvent:createHoverEvent,cleanupHoverEvents:cleanupHoverEvents,eventMap:eventMap};});}else{}DCX.addModule("slowResource",function(context){var moduleConfig=DCX.getModuleConfig("slowResource"),moduleLoaded=false,utils=context.utils;var perfDur=moduleConfig.responseTime,logJS=moduleConfig.monitorJS||true,logCSS=moduleConfig.monitorCSS||true,logImages=moduleConfig.monitorImages||true,logXHR=moduleConfig.monitorXHR||false,blocklist=moduleConfig.blocklist||[];var url=window.location.href;try{var eventList=["click","popstate","pushState","onload"];for(var index=0;index<eventList.length;++index){window.addEventListener(eventList[index],function(){if(url!==location.href){getPerfObject();}url=location.href;});}}catch(e){}function getPerfObject(){moduleLoaded=true;if(typeof window.location.host!=="undefined"){calculate_load_times();}}function blocklistURL(blURL){for(var index=0;index<blocklist.length;++index){epFilter=blocklist[index];if(blURL.indexOf(epFilter)>-1){return true;}}return false;}function calculate_load_times(){if(performance!==undefined){var resources=performance.getEntriesByType("resource");for(var i=0;i<resources.length;i++){if((resources[i].initiatorType.indexOf("script")>-1&&logJS)||(resources[i].initiatorType.indexOf("css")>-1&&logCSS)||(resources[i].initiatorType.indexOf("img")>-1&&logImages)||(resources[i].initiatorType.indexOf("xmlhttprequest")>-1&&logXHR)){var URL=resources[i].name;if(!blocklistURL(URL)){var totalTime=(resources[i].responseEnd).toFixed(2);var responseTime=(resources[i].responseEnd-resources[i].startTime).toFixed(2);var size=(resources[i].transferSize/1024).toFixed(2);if(URL.indexOf("?")>-1){URL=URL.substr(0,URL.indexOf("?"));}if(responseTime>perfDur){var duration="Slow Resource - "+resources[i].initiatorType+" ("+(responseTime/1000).toFixed(2)+" secs)";var pMsg={description:duration,urlNormalized:URL,urlFull:resources[i].name,initiator:resources[i].initiatorType,response_time:responseTime,total_time:totalTime,"size(kBytes)":size};var jMsg={description:"Slow Resource Data",action:"retrieved",value:pMsg};if(typeof DCX!=="undefined"){DCX.logCustomEvent("Slow Resource Data",jMsg,17);}}}}}}}return{init:function(){moduleConfig=context.getConfig();},destroy:function(){},onevent:function(webEvent){switch(webEvent.type){case"unload":getPerfObject();break;case"screenview_unload":getPerfObject();break;default:break;}if(typeof webEvent!=="object"||!webEvent.type){return;}if(webEvent){if(navigator.vendor.indexOf("Apple")>-1){setTimeout(function(){if(document.readyState==="complete"){getPerfObject();}},300);}else{getPerfObject();}}},version:"1.1.3"};});if(DCX&&typeof DCX.addModule==="function"){DCX.addModule("utmLogger",function(context){var moduleConfig={},moduleLoaded=false,utmEnabled,utils=context.utils,maxDays,maxCampaigns,DCXVID,utmCount;function setLSWithExpiry(key,value,ttl){const now=new Date();const item={value:value,expiry:now.getTime()+ttl*(24*60*60*1000)};localStorage.setItem(key,JSON.stringify(item));}function getLSWithExpiry(key){const itemStr=localStorage.getItem(key);if(itemStr){const item=JSON.parse(itemStr);const now=new Date();if(now.getTime()<item.expiry){return item.value;}localStorage.removeItem(key);}return null;}function getQueryStringValue(name,url){name=name.replace(/[\[\]]/g,"\\$&");var regex=new RegExp("[?&]"+name+"(=([^&#]*)|&|#|$)"),results=regex.exec(url);if(!results){return null;}if(!results[2]){return"";}return decodeURIComponent(results[2].replace(/\+/g," "));}function generateVID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var vid=Math.random()*16|0,v=c=="x"?vid:(vid&3|8);return vid.toString(16);});}function LogUTMData(){if(!DCXVID){localStorage.setItem("DCXVID",DCXVID=generateVID());if(typeof DCX!=="undefined"){DCX.logCustomEvent("DCXVID",DCXVID);}}if(getQueryStringValue("utm_campaign",window.location.href)){var campaignJSON={};campaignJSON.utm_campaign=getQueryStringValue("utm_campaign",window.location.href);campaignJSON.utm_content=getQueryStringValue("utm_content",window.location.href)||"";campaignJSON.utm_medium=getQueryStringValue("utm_medium",window.location.href)||"";campaignJSON.utm_source=getQueryStringValue("utm_source",window.location.href)||"";campaignJSON.utm_term=getQueryStringValue("utm_term",window.location.href)||"";campaignJSON.DCXVID=localStorage.getItem("DCXVID")||"";}if(campaignJSON){utmCount=Number(utmCount)+1;localStorage.setItem("utmCount",utmCount);setLSWithExpiry("utm"+utmCount,campaignJSON,maxDays);}if(Number(utmCount)>0||campaignJSON){for(var i=1;i<=utmCount;i++){var campaignJSON={};campaignJSON=getLSWithExpiry("utm"+i);if(campaignJSON){if(typeof DCX!=="undefined"){DCX.logCustomEvent("utmData",campaignJSON,21);}}sessionStorage.setItem("utmLogger",true);}}}function processConfig(config){utmEnabled=utils.getValue(config,"utmEnabled",false);maxDays=utils.getValue(config,"maxDays",90),maxCampaigns=utils.getValue(config,"maxCampaigns",50),DCXVID=localStorage.getItem("DCXVID"),utmCount=localStorage.getItem("utmCount")||0;}return{init:function(){moduleConfig=context.getConfig();processConfig(moduleConfig);},destroy:function(){moduleLoaded=false;},onevent:function(webEvent){switch(webEvent.type){case"load":if(utmEnabled){LogUTMData();}moduleLoaded=true;break;case"unload":moduleLoaded=false;break;default:break;}},version:"1.0.0"};});}if(DCX&&typeof DCX.addModule==="function"){DCX.addModule("ajaxListener",function(context){var moduleConfig={},moduleLoaded=false,nativeXHROpen,nativeFetch,xhrEnabled,fetchEnabled,utils=context.utils;function isUrlBlocked(url){var i,len,blockRule,matchFound=false,urlBlocklist=moduleConfig.urlBlocklist;if(!url||!urlBlocklist){return matchFound;}for(i=0,len=urlBlocklist.length;!matchFound&&i<len;i+=1){blockRule=urlBlocklist[i];matchFound=blockRule.cRegex.test(url);}return matchFound;}function getMatchingFilter(url,method,status){var i,len,filter={},filters=moduleConfig.filters,matchFound;if(!filters||!filters.length){return filter;}for(i=0,len=filters.length,matchFound=false;!matchFound&&i<len;i+=1){filter=filters[i];matchFound=true;if(filter.url){matchFound=filter.url.cRegex.test(url);}if(matchFound&&filter.method){matchFound=filter.method.cRegex.test(method);}if(matchFound&&filter.status){matchFound=filter.status.cRegex.test(status);}}if(!matchFound){filter=null;}return filter;}function extractResponseHeaders(headers){var headersObj={},i,len,header,name,value;headers=headers.split(/[\r\n]+/);for(i=0,len=headers.length;i<len;i+=1){header=headers[i].split(": ");name=header[0];value=utils.rtrim(header[1]);if(name&&name.length){headersObj[name]=value;}}return headersObj;}function replaceValueWithReplacements(data,fieldName,replacement){if(typeof data==="object"&&data!==null){for(var key in data){if(key===fieldName||(fieldName instanceof RegExp&&fieldName.test(key))){data[key]=replacement;}else{if(typeof data[key]==="object"){replaceValueWithReplacements(data[key],fieldName,replacement);}}}}else{if(typeof data==="string"){const regex=new RegExp(fieldName,"gi");data=data.replace(regex,replacement).trim();}}return data;}function hideSensitiveInfo(reqResObject,sensitiveFields){if(typeof reqResObject!=="object"){return reqResObject;}var orgReqResObject=JSON.stringify(reqResObject);try{sensitiveFields.forEach(function(config){reqResObject=replaceValueWithReplacements(reqResObject,config.field,config.replacement);});return reqResObject;}catch(error){console.error("wrong Sensitive Info passed",error);return JSON.parse(orgReqResObject);}}function setPrivacyPattern(reqResObject,privacyPatterns){if(typeof reqResObject==="object"){var orgReqResObject=JSON.stringify(reqResObject);try{reqResObject=orgReqResObject;privacyPatterns.forEach(function(config){var pattern=config.pattern,regex=new RegExp(pattern.regex,pattern.flags);if(regex.test(reqResObject)){reqResObject=reqResObject.replace(regex,config.replacement);}});return JSON.parse(reqResObject);}catch(error){console.error("wrong Privacy Pattern passed",error);return JSON.parse(orgReqResObject);}}else{privacyPatterns.forEach(function(config){var pattern=config.pattern,regex=new RegExp(pattern.regex,pattern.flags);if(regex.test(reqResObject)){reqResObject=reqResObject.replace(regex,config.replacement);}});return reqResObject;}}function logXHR(xhr,logOptions){var msg={type:3,connectionEvent:{name:"ajaxListener",data:{interfaceType:"XHR"}}},dummyLink,xhrMsg=msg.connectionEvent.data,respText;if(!xhr){return;}dummyLink=document.createElement("a");dummyLink.href=xhr.tListener.url;xhrMsg.originalURL=dummyLink.host+(dummyLink.pathname[0]==="/"?"":"/")+dummyLink.pathname;xhrMsg.requestURL=context.normalizeUrl?context.normalizeUrl(xhrMsg.originalURL,3):xhrMsg.originalURL;xhrMsg.description="Full Ajax Monitor "+xhrMsg.requestURL;xhrMsg.method=xhr.tListener.method;xhrMsg.status=xhr.status;xhrMsg.statusText=xhr.statusText||"";xhrMsg.async=xhr.tListener.async;xhrMsg.ajaxResponseTime=xhr.tListener.end-xhr.tListener.start;xhrMsg.locationHref=context.normalizeUrl(document.location.href,3);if(logOptions.queryString&&window.location.search){xhrMsg.queryString=utils.getQueryString(window.location.search);}if(logOptions.requestHeaders){xhrMsg.requestHeaders=xhr.tListener.reqHeaders;}if(logOptions.requestData&&typeof xhr.tListener.reqData==="string"&&!xhr.tListener.isSystemXHR){try{xhrMsg.request=JSON.parse(xhr.tListener.reqData);}catch(e1){xhrMsg.request=xhr.tListener.reqData;}if(logOptions.privacyPatterns.length>0&&Object.keys(xhrMsg.request).length){try{xhrMsg.request=setPrivacyPattern(xhrMsg.request,logOptions.privacyPatterns);}catch(e){}}if(logOptions.sensitiveFields.length>0&&Object.keys(xhrMsg.request).length){try{xhrMsg.request=hideSensitiveInfo(xhrMsg.request,logOptions.sensitiveFields);}catch(e){}}}if(logOptions.responseHeaders){xhrMsg.responseHeaders=extractResponseHeaders(xhr.getAllResponseHeaders());}if(logOptions.responseData){if(typeof xhr.responseType==="undefined"){respText=xhr.responseText;}else{if(xhr.responseType===""||xhr.responseType==="text"){respText=xhr.response;}else{if(xhr.responseType==="json"){xhrMsg.response=xhr.response;}else{xhrMsg.response=typeof xhr.response;}}}if(respText){try{xhrMsg.response=JSON.parse(respText);}catch(e2){xhrMsg.response=respText;}if(logOptions.privacyPatterns.length>0&&Object.keys(xhrMsg.response).length){try{xhrMsg.response=setPrivacyPattern(xhrMsg.response,logOptions.privacyPatterns);}catch(e){}}if(logOptions.sensitiveFields.length>0&&Object.keys(xhrMsg.response).length){try{xhrMsg.response=hideSensitiveInfo(xhrMsg.response,logOptions.sensitiveFields);}catch(e){}}}if(xhr.responseType){xhrMsg.responseType=xhr.responseType;}}context.post(msg);}function getEntries(object){var pair,obj={},objEntries=object.entries(),objEntry=objEntries.next();while(!objEntry.done){pair=objEntry.value;obj[pair[0]]=pair[1];objEntry=objEntries.next();}return obj;}function extractFetchHeaders(headers){return getEntries(headers);}function extractFetchRequestBody(body){var retVal=body;if(!body){return retVal;}if(typeof body==="object"&&body.toString().indexOf("FormData")!==-1){retVal=getEntries(body);}else{if(typeof body==="string"){try{retVal=JSON.parse(body);}catch(e){retVal=body;}}}return retVal;}function logFetch(fetchReq,fetchResp,logOptions){var msg={type:3,connectionEvent:{name:"ajaxListener",data:{interfaceType:"fetch"}}},dummyLink,xhrMsg=msg.connectionEvent.data,respContentType;dummyLink=document.createElement("a");dummyLink.href=fetchReq.url;xhrMsg.originalURL=dummyLink.host+(dummyLink.pathname[0]==="/"?"":"/")+dummyLink.pathname;xhrMsg.requestURL=context.normalizeUrl?context.normalizeUrl(xhrMsg.originalURL,3):xhrMsg.originalURL;xhrMsg.description="Full Ajax Monitor "+xhrMsg.requestURL;xhrMsg.method=fetchReq.initData.method;xhrMsg.status=fetchResp.status;xhrMsg.statusText=fetchResp.statusText||"";xhrMsg.async=true;xhrMsg.ajaxResponseTime=fetchReq.end-fetchReq.start;xhrMsg.responseType=fetchResp.type;xhrMsg.locationHref=context.normalizeUrl(document.location.href,3);if(logOptions.queryString&&window.location.search){xhrMsg.queryString=utils.getQueryString(window.location.search);}if(logOptions.requestHeaders){if(fetchReq.initData.headers&&fetchReq.initData.headers.toString().indexOf("Headers")!==-1){xhrMsg.requestHeaders=extractFetchHeaders(fetchReq.initData.headers);}else{xhrMsg.requestHeaders=fetchReq.initData.headers||"";}}if(logOptions.requestData&&typeof fetchReq.body!=="undefined"&&!fetchReq.isSystemXHR){xhrMsg.request=extractFetchRequestBody(fetchReq.body);if(logOptions.privacyPatterns.length>0&&Object.keys(xhrMsg.request).length){try{xhrMsg.request=setPrivacyPattern(xhrMsg.request,logOptions.privacyPatterns);}catch(e){}}if(logOptions.sensitiveFields.length>0&&Object.keys(xhrMsg.request).length){try{xhrMsg.request=hideSensitiveInfo(xhrMsg.request,logOptions.sensitiveFields);}catch(e){}}}if(logOptions.responseHeaders){xhrMsg.responseHeaders=extractFetchHeaders(fetchResp.headers);}if(logOptions.responseData){respContentType=fetchResp.headers.get("content-type");if(respContentType&&respContentType.indexOf("application/json")!==-1){fetchResp.clone().json().then(function(responseData){xhrMsg.response=responseData;if(logOptions.privacyPatterns.length>0&&Object.keys(xhrMsg.response).length){try{xhrMsg.response=setPrivacyPattern(xhrMsg.response,logOptions.privacyPatterns);}catch(e){}}if(logOptions.sensitiveFields.length>0&&Object.keys(xhrMsg.response).length){try{xhrMsg.response=hideSensitiveInfo(xhrMsg.response,logOptions.sensitiveFields);}catch(e){}}context.post(msg);});return;}if(respContentType&&(respContentType.indexOf("text")!==-1||respContentType.indexOf("xml")!==-1)){fetchResp.clone().text().then(function(responseData){xhrMsg.response=responseData;if(logOptions.privacyPatterns.length>0&&Object.keys(xhrMsg.response).length){try{xhrMsg.response=setPrivacyPattern(xhrMsg.response,logOptions.privacyPatterns);}catch(e){}}if(logOptions.sensitiveFields.length>0&&Object.keys(xhrMsg.response).length){try{xhrMsg.response=hideSensitiveInfo(xhrMsg.response,logOptions.sensitiveFields);}catch(e){}}context.post(msg);});return;}xhrMsg.response="Not logging unsupported response content: "+respContentType;}context.post(msg);}function processXHR(xhr){var filter,url=xhr.tListener.url,method=xhr.tListener.method,status=xhr.status.toString(),logOptions={requestHeaders:false,requestData:false,responseHeaders:false,responseData:false};filter=getMatchingFilter(url,method,status);if(filter){if(filter.log){logOptions=filter.log;}logXHR(xhr,logOptions);}}function processFetch(fetchReq,fetchResp){var filter,url=fetchReq.url,method=fetchReq.initData.method,status=fetchResp.status.toString(),logOptions={requestHeaders:false,requestData:false,responseHeaders:false,responseData:false};if(isUrlBlocked(url)){return;}filter=getMatchingFilter(url,method,status);if(filter){if(filter.log){logOptions=filter.log;}logFetch(fetchReq,fetchResp,logOptions);}}function readyStateChangeHandler(event){var xhr,readyState;if(!event||!event.target){return;}xhr=event.target;readyState=xhr.readyState;if(readyState===4){xhr.removeEventListener("readystatechange",readyStateChangeHandler);xhr.tListener.end=Date.now();processXHR(xhr);}}function hookSetRequestHeader(xhr){var savedSetRequestHeader=xhr.setRequestHeader;xhr.setRequestHeader=function(header,value){var _xhr=this,tListener=_xhr.tListener;if(header&&header.length){tListener.reqHeaders[header]=value;}return savedSetRequestHeader.apply(_xhr,arguments);};}function hookSend(xhr){var savedSend=xhr.send;xhr.send=function(data){var _xhr=this,tListener=_xhr.tListener;if(data){tListener.reqData=data;}tListener.start=Date.now();return savedSend.apply(_xhr,arguments);};}function isSystemXHR(url){var i,queueServiceConfig,queues;queueServiceConfig=DCX.getServiceConfig("queue");queues=queueServiceConfig.queues||[];for(i=0;i<queues.length;i+=1){if(queues[i].endpoint&&url.indexOf(queues[i].endpoint)!==-1){return true;}}return false;}function xhrOpenHook(method,url,async){var xhr=this;if(moduleLoaded&&!isUrlBlocked(url)){xhr.addEventListener("readystatechange",readyStateChangeHandler);xhr.tListener={method:method,url:url,async:(typeof async==="undefined")?true:!!async,reqHeaders:{},isSystemXHR:isSystemXHR(url)};hookSetRequestHeader(xhr);hookSend(xhr);}return nativeXHROpen.apply(xhr,arguments);}function addXHRHook(){if(XMLHttpRequest){nativeXHROpen=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=xhrOpenHook;}}function addFetchHook(){nativeFetch=window.fetch;window.fetch=function(url,options){var fetchReq={},promise;if(typeof url==="object"){fetchReq.initData=url;fetchReq.url=url.url;fetchReq.initData.clone().text().then(function(data){if(data.length>0){fetchReq.body=data;}});}else{fetchReq.initData=options||{};fetchReq.url=url;if(options&&options.body){fetchReq.body=options.body;}}fetchReq.isSystemXHR=isSystemXHR(fetchReq.url);fetchReq.start=Date.now();promise=nativeFetch.apply(this,arguments);return promise.then(function(response){fetchReq.end=Date.now();processFetch(fetchReq,response);return response;});};}function cacheRegex(obj){if(obj&&obj.regex){obj.cRegex=new RegExp(obj.regex,obj.flags);}}function processConfig(config){var i,len,filter,filters=[],skipSafetyCheck=utils.getValue(config,"skipSafetyCheck",false);if(config&&config.filters){filters=config.filters;}for(i=0,len=filters.length;i<len;i+=1){filter=filters[i];utils.forEach([filter.url,filter.method,filter.status],cacheRegex);}if(config&&config.urlBlocklist){utils.forEach(config.urlBlocklist,cacheRegex);}xhrEnabled=utils.getValue(config,"xhrEnabled",true)&&window.XMLHttpRequest;if(xhrEnabled&&!skipSafetyCheck&&(XMLHttpRequest.toString().indexOf("[native code]")===-1||XMLHttpRequest.toString().indexOf("XMLHttpRequest")===-1)){xhrEnabled=false;}fetchEnabled=utils.getValue(config,"fetchEnabled",true)&&window.fetch;if(fetchEnabled&&!skipSafetyCheck&&window.fetch.toString().indexOf("[native code]")===-1){fetchEnabled=false;}}return{init:function(){moduleConfig=context.getConfig();processConfig(moduleConfig);},destroy:function(){moduleLoaded=false;},onevent:function(webEvent){switch(webEvent.type){case"load":if(xhrEnabled){addXHRHook();}if(fetchEnabled){addFetchHook();}moduleLoaded=true;break;case"unload":moduleLoaded=false;break;default:break;}},version:"1.0.1"};});}
/* DOMObserver 4.1.10 */
DCX.addModule("DOMObserver",function(context){var moduleConfig=DCX.getModuleConfig("DOMObserver"),moduleLoaded=false,utils=context.utils,targets=moduleConfig.targets;function observeDOM(){var config={attributes:true,attributesOldValue:true,attributeFilter:["id","class"],subtree:true,childList:true,characterData:false,characterDataOldValue:false};var DOMMutationObserver=function(target){var element=document.querySelector(target.selector);if(element){var observer=new MutationObserver(function(mutations){var eventCount=0;mutations.forEach(function(mutation){var takeSnapshot="",target=undefined,customFunction=undefined;if(mutation.type==="attributes"||mutation.type==="childList"){mutation.addedNodes.forEach(function(node){target=undefined;target=targets.find(function(t){if(t.selector.indexOf(mutation.target.className)>-1&&mutation.className!=""){return(t);}});if(!target){target=targets.find(function(t){if(t.selector.indexOf(mutation.target.id)>-1&&mutation.target.id!=""){return(t);}});}if(!target){target=targets.find(function(t){if(t.selector.toLowerCase().indexOf(mutation.target.nodeName.toLowerCase())>-1){return(t);}});}if(!target){target=targets.find(function(t){if(t.selector.toLowerCase()==="body"){return(t);}});}if(target&&(target.maxEvents>eventCount||target.maxEvents===0)){if(typeof(node.id)==="string"&&target&&(target.added===1||target.added===2)){if(node.id===target.childNode){takeSnapshot=target.eventName;}}if(typeof(node.className)==="string"&&target&&takeSnapshot===""&&(target.added===1||target.added===2)){if(node.className===target.childNode){takeSnapshot=target.eventName;}}if(typeof(node.outerHTML)==="string"&&target&&takeSnapshot===""&&(target.added===1||target.added===2)){if(node.outerHTML.indexOf(target.childNode)>-1){takeSnapshot=target.eventName;}}if(typeof(node.nodeValue)==="string"&&target&&takeSnapshot===""&&(target.added===1||target.added===2)){if(node.nodeValue.indexOf(target.childNode)>-1){takeSnapshot=target.eventName;}}}});mutation.removedNodes.forEach(function(node){target=undefined;target=targets.find(function(t){if(t.selector.indexOf(mutation.target.className)>-1&&mutation.className!=""){return(t);}});if(!target){target=targets.find(function(t){if(t.selector.indexOf(mutation.target.id)>-1&&mutation.target.id!=""){return(t);}});}if(!target){target=targets.find(function(t){if(t.selector.toLowerCase().indexOf(mutation.target.nodeName.toLowerCase())>-1){return(t);}});}if(!target){target=targets.find(function(t){if(t.selector.toLowerCase()==="body"){return(t);}});}if(target&&(target.maxEvents>eventCount||target.maxEvents===0)){if(typeof(node.id)==="string"&&target&&(target.added===0||target.added===2)){if(node.id===target.childNode){takeSnapshot=target.eventName;}}if(typeof(node.className)==="string"&&target&&takeSnapshot===""&&(target.added===0||target.added===2)){if(node.className===target.childNode){takeSnapshot=target.eventName;}}if(typeof(node.outerHTML)==="string"&&target&&takeSnapshot===""&&(target.added===0||target.added===2)){if(node.outerHTML.indexOf(target.childNode)>-1){takeSnapshot=target.eventName;}}if(typeof(node.nodeValue)==="string"&&target&&takeSnapshot===""&&(target.added===0||target.added===2)){if(node.nodeValue.indexOf(target.childNode)>-1){takeSnapshot=target.eventName;}}}});if(typeof DCX!=="undefined"&&takeSnapshot!==""){if(typeof target.customFunction==="string"){customFunction=utils.access(target.customFunction);}else{customFunction=target.customFunction;}if(typeof customFunction==="function"){customFunction(mutation.target,target.eventName);}var evt=new CustomEvent(target.eventName);document.dispatchEvent(evt);eventCount=eventCount+1;}}});});observer.observe(element,config);}};var DOMIntersectionObserve=function(target){var intervalCnt=0,observer,interSectSetTimeout;var sendLazyEvent=function(eventName){interSectSetTimeout=setTimeout(function(){var evt=new CustomEvent(eventName);document.dispatchEvent(evt);},1000);};var checkForElement=function(){var elements=[];elements=Array.from(document.querySelectorAll(target.selector));if(elements.length>0){if(!observer){var loadedCount=0;var threshold=elements.length<8?elements.length:8;observer=new IntersectionObserver(function(entries,observer){entries.forEach(function(entry){var newElements=Array.from(document.querySelectorAll(target.selector)),hasNewItemAdded=elements.length!==newElements.length&&elements.length<newElements.length;if(hasNewItemAdded){var tempItems=Array.prototype.slice.call(newElements),newItems=tempItems.slice(elements.length);newItems.forEach(function(newItem){observer.observe(newItem);elements.push(newItem);});clearTimeout(interSectSetTimeout);threshold=elements.length<8?elements.length:8;}if(entry.isIntersecting&&loadedCount<=elements.length){loadedCount++;var currentImg=entry.target;if(loadedCount===1){if(window.DCX){clearTimeout(interSectSetTimeout);sendLazyEvent(target.eventName);}}if(loadedCount%threshold===0){if(window.DCX){clearTimeout(interSectSetTimeout);sendLazyEvent(target.eventName);}}observer.unobserve(currentImg);}});});}elements.forEach(function(element){observer.observe(element);});window.addEventListener("load",function(){elements.forEach(function(element){if(observer&&observer.root&&observer.root.contains(element)){observer.observe(element);}});});clearInterval(interval);}else{if(intervalCnt>=4){clearInterval(interval);}else{intervalCnt++;}}};var interval=setInterval(checkForElement,target.interval);};for(var i=0;i<targets.length;i++){try{if(!targets[i].lazyLoad){DOMMutationObserver(targets[i]);}else{DOMIntersectionObserve(targets[i]);}moduleLoaded=true;}catch(e){}}}return{init:function(){moduleConfig=context.getConfig();},destroy:function(){moduleLoaded=false;},onevent:function(webEvent){switch(webEvent.type){case"load":if(window.MutationObserver){setTimeout(function(){observeDOM();},300);}break;case"screenview_load":break;case"unload":moduleLoaded=false;break;default:break;}},version:"4.1.10"};});
/* WebStorageLogger 1.0.0 */
DCX.addModule("webStorageLogger",(function(context){"use strict";var browserStorageEnabled,maxKeys,localData,sessionData,utils=context.utils,blockKeys=[],allowKeys=[],jMsg={type:8};function calculateObjectSizeInBits(obj){let objSizeInBits=0;for(const key in obj)if(obj.hasOwnProperty(key)){const value=obj[key];objSizeInBits+=16*(key.length+value.length)}return objSizeInBits+=256,objSizeInBits}function calculateArraySizeInBits(arr){let totalBits=0;for(const obj of arr)totalBits+=calculateObjectSizeInBits(obj);return totalBits}function isKeyInclude(keys,key){for(const value of keys){if(new RegExp(value.regex,value.flags).test(key))return!0}return!1}function getAllLocalStorageData(storageType){const allData=[],totalItems=storageType.length;for(let i=0;i<totalItems;i++){const key=storageType.key(i);if(!isKeyInclude(blockKeys,key)&&(0==allowKeys.length||isKeyInclude(allowKeys,key)))try{if(maxKeys<=allData.length)break;var obj={};obj[key]=storageType.getItem(key),allData.push(obj)}catch(error){}}return allData}function LogBrowserStorageData(){if(localData){var allLocalStorageData=getAllLocalStorageData(localStorage);0!==allLocalStorageData.length&&(jMsg.localStorage=allLocalStorageData,jMsg.origSizeLocal=calculateArraySizeInBits(allLocalStorageData))}if(sessionData){var allSessionStorageData=getAllLocalStorageData(sessionStorage);0!==allSessionStorageData.length&&(jMsg.sessionStorage=allSessionStorageData,jMsg.origSizeSession=calculateArraySizeInBits(allSessionStorageData))}context.post(jMsg)}return{init:function(){(function processConfig(config){browserStorageEnabled=utils.getValue(config,"browserStorageEnabled",!1),maxKeys=utils.getValue(config,"maxKeys",50),utils.getValue(config,"maxSize",2e4),blockKeys=utils.getValue(config,"blockKeys",[]),allowKeys=utils.getValue(config,"allowKeys",[]),localData=utils.getValue(config,"localData",!0),sessionData=utils.getValue(config,"sessionData",!1)})(context.getConfig())},destroy:function(){!1},onevent:function(webEvent){switch(webEvent.type){case"load":browserStorageEnabled&&LogBrowserStorageData(),!0;break;case"unload":browserStorageEnabled&&LogBrowserStorageData(),!1;break;default:break}},version:"1.0.0"}}));
/* Configuration */
(function(){var config,DCX=window.DCX,changeTarget;if(DCX.getFlavor()==="w3c"&&DCX.utils.isLegacyIE){changeTarget="input, select, textarea, button";}config={core:{blockedElements:[],version:{application:"KnowledgExchange",mod_date:"12-4-2023"},doNotCaptureElements:[],inactivityTimeout:20*60*1000,modules:{replay:{events:[{name:"DCXLazyLoad",target:window},{name:"change",target:changeTarget,recurseFrames:true,attachToShadows:true},{name:"click",recurseFrames:true},{name:"hashchange",target:window},{name:"focus",target:changeTarget,recurseFrames:true},{name:"blur",target:changeTarget,recurseFrames:true},{name:"load",target:window},{name:"unload",target:window},{name:"resize",target:window},{name:"scroll",target:window},{name:"orientationchange",target:window},{name:"touchend"},{name:"touchstart"},{name:"Lazy_Load",target:window},{name:"copy"},{name:"paste"},{name:"contextmenu"},{name:"error",target:window}]},performance:{events:[{name:"load",target:window},{name:"unload",target:window}]},DCCookie:{enabled:true},ajaxListener:{enabled:true,events:[{name:"load",target:window},{name:"unload",target:window}]},slowResource:{enabled:true,events:[{name:"screenview_load",target:window},{name:"load",target:window}]},utmLogger:{enabled:false,events:[{name:"load",target:window}]},DOMObserver:{enabled:true,events:[{name:"load",target:window}]},webStorageLogger:{enabled:true,events:[{name:"load",target:window},{name:"screenview_load",target:window},{name:"unload",target:window}]}},normalization:{urlFunction:function(urlOrPath){return urlOrPath;}},sessionDataEnabled:false,sessionKeepAlive:false,sessionData:{sessionValueNeedsHashing:true,sessionQueryName:"sessionID",sessionQueryDelim:";",sessionCookieName:"jsessionid"},screenviewAutoDetect:true,framesBlacklist:["#iframe1"],captureConsole:true,screenViewBlocklist:[]},services:{queue:{asyncReqOnUnload:true,useBeacon:false,useFetch:true,xhrLogging:false,queues:[{qid:"DEFAULT",endpoint:"https://tlt.cigna.com/tealeaf/TealeafTarget.jsp",maxEvents:20,timerInterval:30000,maxSize:500000,checkEndpoint:false,encoder:"gzip",endpointCheckTimeout:3000}]},message:{maskVisiblePasswords:true,privacy:[{targets:["input[type=password]","input[dcxMaskVisiblePassword=true]","[data-test-id=input-create-password]"],maskType:2},{exclude:false,targets:[],maskType:2}],privacyPatterns:[{pattern:{regex:"passwords*=s*'(.*?)'",flags:"g"},replacement:"XXXXX"}]},serializer:{json:{defaultToBuiltin:true,parsers:["JSON.parse"],stringifiers:["JSON.stringify"]}},encoder:{gzip:{encode:"window.pako.gzip",defaultEncoding:"gzip"}},domCapture:{diffEnabled:true,options:{maxMutations:50,maxLength:10000000,captureFrames:false,captureShadowDOM:true,captureStyle:true,keepImports:true,removeComments:false,removeScripts:true,removeBase64:10000,captureJSS:false}},browser:{sizzleObject:"window.Sizzle",jQueryObject:"window.jQuery",customid:["ID","data-test-id","name"]}},modules:{usability:{hoverThreshold:2000},performance:{calculateRenderTime:true,renderTimeThreshold:600000,filter:{navigationStart:false,unloadEventStart:false,unloadEventEnd:false,redirectStart:false,redirectEnd:false,fetchStart:false,domainLookupStart:false,domainLookupEnd:false,connectStart:false,connectEnd:false,secureConnectionStart:false,requestStart:false,responseStart:false,responseEnd:false,domLoading:false,domInteractive:false,domContentLoadedEventStart:false,domContentLoadedEventEnd:false,domComplete:false,loadEventStart:false,loadEventEnd:false}},replay:{geolocation:{enabled:false,triggers:[{event:"load"}]},domCapture:{enabled:true,triggers:[{event:"load",fullDOMCapture:true,delay:300},{event:"click",targets:["input[type=radio]","input[type=checkbox]"],delay:100},{event:"click"},{event:"change"},{event:"Lazy_Load",fullDOMCapture:true,delay:1000},{event:"DCXLazyLoad",fullDOMCapture:true,delay:1000}]}},DCCookie:{appCookieWhitelist:[{regex:".*"}],dcAppKey:""},slowResource:{responseTime:5000,monitorJS:true,monitorCSS:true,monitorImages:true,monitorXHR:true,blocklist:[]},ajaxListener:{skipSafetyCheck:true,xhrEnabled:true,fetchEnabled:true,urlBlocklist:[{regex:"brilliantcollector\\.com"},{regex:"ruxit",flags:"i"},{regex:"analytics",flags:"i"},{regex:"tealeaftarget",flags:"i"},{regex:"DiscoverUIPost.php",flags:"i"}],filters:[{log:{requestHeaders:true,requestData:true,responseHeaders:true,responseData:true,queryString:true,sensitiveFields:[],privacyPatterns:[]}}]},utmLogger:{utmEnabled:false,maxDays:90,maxCampaigns:50},DOMObserver:{targets:[{selector:"div#cover-spin",childNode:"",eventName:"DCXLazyLoad",added:0,maxEvents:1,customFunction:false}]},webStorageLogger:{browserStorageEnabled:true,maxKeys:100,maxSize:20000,localData:true,sessionData:true,blockKeys:[{regex:"ssn",flags:"i"},{regex:"password",flags:"i"},{regex:"card-number",flags:"i"}],allowKeys:[]}}};if(navigator.userAgent.indexOf("Firefox")!==-1){config.services.queue.asyncReqOnUnload=false;config.services.queue.useFetch=false;config.services.queue.endpointCheck=true;config.services.queue.endpointCheckTimeout=2000;}DCX.init(config);}());
